!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((e="undefined"!=typeof globalThis?globalThis:e||self).ComputeEngine={})}(this,(function(e){const i=8205,n=[127462,127487];function t(e){return e===i||65038===e||65039===e||e>=127995&&e<=128e3||e>=129456&&e<=129460||e>=917536&&e<=917632}function r(e){return e>=n[0]&&e<=n[1]}class o{constructor(e){this.obeyspaces=!1,this.s=function(e){if(/^[\u0020-\u00FF]*$/.test(e))return e;const n=[],o=function(e){const i=[];for(let n=0;n<e.length;n++){let t=e.charCodeAt(n);if(t>=55296&&t<=56319){const i=e.charCodeAt(n+1);i>=56320&&i<=57343&&(t=65536+1024*(t-55296)+(i-56320),n++)}i.push(t)}return i}(e);let s=0;for(;s<o.length;){const e=o[s++],a=o[s];if(a===i){const e=s-1;for(s+=2;o[s]===i;)s+=2;n.push(String.fromCodePoint(...o.slice(e,2*s-e+1)))}else if(t(a)){const e=s-1;for(;t(o[s]);)s+=o[s]===i?2:1;n.push(String.fromCodePoint(...o.slice(e,2*s-e-1)))}else r(e)?(s+=1,n.push(String.fromCodePoint(...o.slice(s-2,2)))):n.push(String.fromCodePoint(e))}return n}(e),this.pos=0}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(e){let i;return i="string"==typeof this.s?e.exec(this.s.slice(this.pos)):e.exec(this.s.slice(this.pos).join("")),(null==i?void 0:i[0])?(this.pos+=i[0].length,i[0]):null}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\xA0\u2028\u2029]+/))return"<space>";if(this.obeyspaces&&this.match(/^[ \f\n\r\t\v\xA0\u2028\u2029]/))return"<space>";const e=this.get();if("\\"===e){if(!this.end()){let e=this.match(/^[a-zA-Z*]+/);if(e)this.match(/^[ \f\n\r\t\v\xA0\u2028\u2029]*/);else if(e=this.get()," "===e)return"<space>";return"\\"+e}}else{if("{"===e)return"<{>";if("}"===e)return"<}>";if("^"===e){if("^"===this.peek()){this.get();const e=this.match(/^(\^(\^(\^(\^[0-9a-f])?[0-9a-f])?[0-9a-f])?[0-9a-f])?[0-9a-f][0-9a-f]/);if(e)return String.fromCodePoint(parseInt(e.slice(e.lastIndexOf("^")+1),16))}return e}if("#"===e){if(!this.end()){let e=!1;if(/[0-9?]/.test(this.peek())&&(e=!0,this.pos+1<this.s.length)){const i=this.s[this.pos+1];e=/[^0-9A-Za-z]/.test(i)}return e?"#"+this.get():"#"}}else if("$"===e)return"$"===this.peek()?(this.get(),"<$$>"):"<$>"}return e}}function s(e,i){var n,t,r,o;let s=[],l=e.next();if(l)if("\\relax"===l);else if("\\noexpand"===l)l=e.next(),l&&s.push(l);else if("\\obeyspaces"===l)e.obeyspaces=!0;else if("\\space"===l||"~"===l)s.push("<space>");else if("\\bgroup"===l)s.push("<{>");else if("\\egroup"===l)s.push("<}>");else if("\\string"===l)l=e.next(),l&&("\\"===l[0]?Array.from(l).forEach((e=>s.push("\\"===e?"\\backslash":e))):"<{>"===l?s.push("\\{"):"<space>"===l?s.push("~"):"<}>"===l&&s.push("\\}"));else if("\\csname"===l){for(;"<space>"===e.peek();)e.next();let r="",o=!1,u=[];do{if(0===u.length)if(/^#[0-9?]$/.test(e.peek())){const r=e.get().slice(1);u=a(null!==(t=null!==(n=null==i?void 0:i[r])&&void 0!==n?n:null==i?void 0:i["?"])&&void 0!==t?t:"\\placeholder{}",i),l=u[0]}else l=e.next(),u=l?[l]:[];o=0===u.length,o||"\\endcsname"!==l||(o=!0,u.shift()),o||(o="<$>"===l||"<$$>"===l||"<{>"===l||"<}>"===l||!!l&&l.length>1&&"\\"===l[0]),o||(r+=u.shift())}while(!o);r&&s.push("\\"+r),s=s.concat(u)}else if("\\endcsname"===l);else if(l.length>1&&"#"===l[0]){const e=l.slice(1);s=s.concat(a(null!==(o=null!==(r=null==i?void 0:i[e])&&void 0!==r?r:null==i?void 0:i["?"])&&void 0!==o?o:"\\placeholder{}",i))}else s.push(l);return s}function a(e,i){const n=e.toString().split(/\r?\n/);let t="",r="";for(const e of n){t+=r,r=" ";const i=e.match(/((?:\\%)|[^%])*/);null!==i&&(t+=i[0])}const a=new o(t);let l=[];do{l=l.concat(s(a,i))}while(!a.end());return l}function l(e){let i="",n="";for(const t of e)t&&(/[a-zA-Z*]/.test(t[0])&&(n+=i),i=/\\[a-zA-Z]+\*?$/.test(t)?" ":"",n+=t);return n}function u(e){let i=[];if(Array.isArray(e))for(const n of e)Array.isArray(n)?i=[...i,...n]:i.push(n);else i=[e];return l(i.map((e=>{var i;return null!==(i={"<space>":" ","<$$>":"$$","<$>":"$","<{>":"{","<}>":"}"}[e])&&void 0!==i?i:e})))}var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},m={exports:{}};!function(e){!function(i){var n,t,r,o,s=9e15,a=1e9,l="0123456789abcdef",u="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",c="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",m={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-s,maxE:s,crypto:!1},f=!0,h="[DecimalError] ",p=h+"Invalid argument: ",g=h+"Precision limit exceeded",d=h+"crypto unavailable",v=Math.floor,x=Math.pow,y=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,b=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,N=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,w=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,S=1e7,M=u.length-1,E=c.length-1,D={name:"[object Decimal]"};function A(e){var i,n,t,r=e.length-1,o="",s=e[0];if(r>0){for(o+=s,i=1;i<r;i++)(n=7-(t=e[i]+"").length)&&(o+=_(n)),o+=t;(n=7-(t=(s=e[i])+"").length)&&(o+=_(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return o+s}function C(e,i,n){if(e!==~~e||e<i||e>n)throw Error(p+e)}function q(e,i,n,t){var r,o,s,a;for(o=e[0];o>=10;o/=10)--i;return--i<0?(i+=7,r=0):(r=Math.ceil((i+1)/7),i%=7),o=x(10,7-i),a=e[r]%o|0,null==t?i<3?(0==i?a=a/100|0:1==i&&(a=a/10|0),s=n<4&&99999==a||n>3&&49999==a||5e4==a||0==a):s=(n<4&&a+1==o||n>3&&a+1==o/2)&&(e[r+1]/o/100|0)==x(10,i-2)-1||(a==o/2||0==a)&&0==(e[r+1]/o/100|0):i<4?(0==i?a=a/1e3|0:1==i?a=a/100|0:2==i&&(a=a/10|0),s=(t||n<4)&&9999==a||!t&&n>3&&4999==a):s=((t||n<4)&&a+1==o||!t&&n>3&&a+1==o/2)&&(e[r+1]/o/1e3|0)==x(10,i-3)-1,s}function F(e,i,n){for(var t,r,o=[0],s=0,a=e.length;s<a;){for(r=o.length;r--;)o[r]*=i;for(o[0]+=l.indexOf(e.charAt(s++)),t=0;t<o.length;t++)o[t]>n-1&&(void 0===o[t+1]&&(o[t+1]=0),o[t+1]+=o[t]/n|0,o[t]%=n)}return o.reverse()}D.absoluteValue=D.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),k(e)},D.ceil=function(){return k(new this.constructor(this),this.e+1,2)},D.comparedTo=D.cmp=function(e){var i,n,t,r,o=this,s=o.d,a=(e=new o.constructor(e)).d,l=o.s,u=e.s;if(!s||!a)return l&&u?l!==u?l:s===a?0:!s^l<0?1:-1:NaN;if(!s[0]||!a[0])return s[0]?l:a[0]?-u:0;if(l!==u)return l;if(o.e!==e.e)return o.e>e.e^l<0?1:-1;for(i=0,n=(t=s.length)<(r=a.length)?t:r;i<n;++i)if(s[i]!==a[i])return s[i]>a[i]^l<0?1:-1;return t===r?0:t>r^l<0?1:-1},D.cosine=D.cos=function(){var e,i,n=this,t=n.constructor;return n.d?n.d[0]?(e=t.precision,i=t.rounding,t.precision=e+Math.max(n.e,n.sd())+7,t.rounding=1,n=function(e,i){var n,t,r=i.d.length;r<32?t=(1/W(4,n=Math.ceil(r/3))).toString():(n=16,t="2.3283064365386962890625e-10"),e.precision+=n,i=G(e,1,i.times(t),new e(1));for(var o=n;o--;){var s=i.times(i);i=s.times(s).minus(s).times(8).plus(1)}return e.precision-=n,i}(t,V(t,n)),t.precision=e,t.rounding=i,k(2==o||3==o?n.neg():n,e,i,!0)):new t(1):new t(NaN)},D.cubeRoot=D.cbrt=function(){var e,i,n,t,r,o,s,a,l,u,c=this,m=c.constructor;if(!c.isFinite()||c.isZero())return new m(c);for(f=!1,(o=c.s*x(c.s*c,1/3))&&Math.abs(o)!=1/0?t=new m(o.toString()):(n=A(c.d),(o=((e=c.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=x(n,1/3),e=v((e+1)/3)-(e%3==(e<0?-1:2)),(t=new m(n=o==1/0?"5e"+e:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=c.s),s=(e=m.precision)+3;;)if(u=(l=(a=t).times(a).times(a)).plus(c),t=I(u.plus(c).times(a),u.plus(l),s+2,1),A(a.d).slice(0,s)===(n=A(t.d)).slice(0,s)){if("9999"!=(n=n.slice(s-3,s+1))&&(r||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(k(t,e+1,1),i=!t.times(t).times(t).eq(c));break}if(!r&&(k(a,e+1,0),a.times(a).times(a).eq(c))){t=a;break}s+=4,r=1}return f=!0,k(t,e,m.rounding,i)},D.decimalPlaces=D.dp=function(){var e,i=this.d,n=NaN;if(i){if(n=7*((e=i.length-1)-v(this.e/7)),e=i[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},D.dividedBy=D.div=function(e){return I(this,new this.constructor(e))},D.dividedToIntegerBy=D.divToInt=function(e){var i=this.constructor;return k(I(this,new i(e),0,1,1),i.precision,i.rounding)},D.equals=D.eq=function(e){return 0===this.cmp(e)},D.floor=function(){return k(new this.constructor(this),this.e+1,3)},D.greaterThan=D.gt=function(e){return this.cmp(e)>0},D.greaterThanOrEqualTo=D.gte=function(e){var i=this.cmp(e);return 1==i||0===i},D.hyperbolicCosine=D.cosh=function(){var e,i,n,t,r,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;n=s.precision,t=s.rounding,s.precision=n+Math.max(o.e,o.sd())+4,s.rounding=1,(r=o.d.length)<32?i=(1/W(4,e=Math.ceil(r/3))).toString():(e=16,i="2.3283064365386962890625e-10"),o=G(s,1,o.times(i),new s(1),!0);for(var l,u=e,c=new s(8);u--;)l=o.times(o),o=a.minus(l.times(c.minus(l.times(c))));return k(o,s.precision=n,s.rounding=t,!0)},D.hyperbolicSine=D.sinh=function(){var e,i,n,t,r=this,o=r.constructor;if(!r.isFinite()||r.isZero())return new o(r);if(i=o.precision,n=o.rounding,o.precision=i+Math.max(r.e,r.sd())+4,o.rounding=1,(t=r.d.length)<3)r=G(o,2,r,r,!0);else{e=(e=1.4*Math.sqrt(t))>16?16:0|e,r=G(o,2,r=r.times(1/W(5,e)),r,!0);for(var s,a=new o(5),l=new o(16),u=new o(20);e--;)s=r.times(r),r=r.times(a.plus(s.times(l.times(s).plus(u))))}return o.precision=i,o.rounding=n,k(r,i,n,!0)},D.hyperbolicTangent=D.tanh=function(){var e,i,n=this,t=n.constructor;return n.isFinite()?n.isZero()?new t(n):(e=t.precision,i=t.rounding,t.precision=e+7,t.rounding=1,I(n.sinh(),n.cosh(),t.precision=e,t.rounding=i)):new t(n.s)},D.inverseCosine=D.acos=function(){var e,i=this,n=i.constructor,t=i.abs().cmp(1),r=n.precision,o=n.rounding;return-1!==t?0===t?i.isNeg()?z(n,r,o):new n(0):new n(NaN):i.isZero()?z(n,r+4,o).times(.5):(n.precision=r+6,n.rounding=1,i=i.asin(),e=z(n,r+4,o).times(.5),n.precision=r,n.rounding=o,e.minus(i))},D.inverseHyperbolicCosine=D.acosh=function(){var e,i,n=this,t=n.constructor;return n.lte(1)?new t(n.eq(1)?0:NaN):n.isFinite()?(e=t.precision,i=t.rounding,t.precision=e+Math.max(Math.abs(n.e),n.sd())+4,t.rounding=1,f=!1,n=n.times(n).minus(1).sqrt().plus(n),f=!0,t.precision=e,t.rounding=i,n.ln()):new t(n)},D.inverseHyperbolicSine=D.asinh=function(){var e,i,n=this,t=n.constructor;return!n.isFinite()||n.isZero()?new t(n):(e=t.precision,i=t.rounding,t.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,t.rounding=1,f=!1,n=n.times(n).plus(1).sqrt().plus(n),f=!0,t.precision=e,t.rounding=i,n.ln())},D.inverseHyperbolicTangent=D.atanh=function(){var e,i,n,t,r=this,o=r.constructor;return r.isFinite()?r.e>=0?new o(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(e=o.precision,i=o.rounding,t=r.sd(),Math.max(t,e)<2*-r.e-1?k(new o(r),e,i,!0):(o.precision=n=t-r.e,r=I(r.plus(1),new o(1).minus(r),n+e,1),o.precision=e+4,o.rounding=1,r=r.ln(),o.precision=e,o.rounding=i,r.times(.5))):new o(NaN)},D.inverseSine=D.asin=function(){var e,i,n,t,r=this,o=r.constructor;return r.isZero()?new o(r):(i=r.abs().cmp(1),n=o.precision,t=o.rounding,-1!==i?0===i?((e=z(o,n+4,t).times(.5)).s=r.s,e):new o(NaN):(o.precision=n+6,o.rounding=1,r=r.div(new o(1).minus(r.times(r)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=t,r.times(2)))},D.inverseTangent=D.atan=function(){var e,i,n,t,r,o,s,a,l,u=this,c=u.constructor,m=c.precision,h=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&m+4<=E)return(s=z(c,m+4,h).times(.25)).s=u.s,s}else{if(!u.s)return new c(NaN);if(m+4<=E)return(s=z(c,m+4,h).times(.5)).s=u.s,s}for(c.precision=a=m+10,c.rounding=1,e=n=Math.min(28,a/7+2|0);e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(f=!1,i=Math.ceil(a/7),t=1,l=u.times(u),s=new c(u),r=u;-1!==e;)if(r=r.times(l),o=s.minus(r.div(t+=2)),r=r.times(l),void 0!==(s=o.plus(r.div(t+=2))).d[i])for(e=i;s.d[e]===o.d[e]&&e--;);return n&&(s=s.times(2<<n-1)),f=!0,k(s,c.precision=m,c.rounding=h,!0)},D.isFinite=function(){return!!this.d},D.isInteger=D.isInt=function(){return!!this.d&&v(this.e/7)>this.d.length-2},D.isNaN=function(){return!this.s},D.isNegative=D.isNeg=function(){return this.s<0},D.isPositive=D.isPos=function(){return this.s>0},D.isZero=function(){return!!this.d&&0===this.d[0]},D.lessThan=D.lt=function(e){return this.cmp(e)<0},D.lessThanOrEqualTo=D.lte=function(e){return this.cmp(e)<1},D.logarithm=D.log=function(e){var i,n,t,r,o,s,a,l,u=this,c=u.constructor,m=c.precision,h=c.rounding;if(null==e)e=new c(10),i=!0;else{if(n=(e=new c(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new c(NaN);i=e.eq(10)}if(n=u.d,u.s<0||!n||!n[0]||u.eq(1))return new c(n&&!n[0]?-1/0:1!=u.s?NaN:n?0:1/0);if(i)if(n.length>1)o=!0;else{for(r=n[0];r%10==0;)r/=10;o=1!==r}if(f=!1,s=j(u,a=m+5),t=i?O(c,a+10):j(e,a),q((l=I(s,t,a,1)).d,r=m,h))do{if(s=j(u,a+=10),t=i?O(c,a+10):j(e,a),l=I(s,t,a,1),!o){+A(l.d).slice(r+1,r+15)+1==1e14&&(l=k(l,m+1,0));break}}while(q(l.d,r+=10,h));return f=!0,k(l,m,h)},D.minus=D.sub=function(e){var i,n,t,r,o,s,a,l,u,c,m,h,p=this,g=p.constructor;if(e=new g(e),!p.d||!e.d)return p.s&&e.s?p.d?e.s=-e.s:e=new g(e.d||p.s!==e.s?p:NaN):e=new g(NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(u=p.d,h=e.d,a=g.precision,l=g.rounding,!u[0]||!h[0]){if(h[0])e.s=-e.s;else{if(!u[0])return new g(3===l?-0:0);e=new g(p)}return f?k(e,a,l):e}if(n=v(e.e/7),c=v(p.e/7),u=u.slice(),o=c-n){for((m=o<0)?(i=u,o=-o,s=h.length):(i=h,n=c,s=u.length),o>(t=Math.max(Math.ceil(a/7),s)+2)&&(o=t,i.length=1),i.reverse(),t=o;t--;)i.push(0);i.reverse()}else{for((m=(t=u.length)<(s=h.length))&&(s=t),t=0;t<s;t++)if(u[t]!=h[t]){m=u[t]<h[t];break}o=0}for(m&&(i=u,u=h,h=i,e.s=-e.s),s=u.length,t=h.length-s;t>0;--t)u[s++]=0;for(t=h.length;t>o;){if(u[--t]<h[t]){for(r=t;r&&0===u[--r];)u[r]=S-1;--u[r],u[t]+=S}u[t]-=h[t]}for(;0===u[--s];)u.pop();for(;0===u[0];u.shift())--n;return u[0]?(e.d=u,e.e=T(u,n),f?k(e,a,l):e):new g(3===l?-0:0)},D.modulo=D.mod=function(e){var i,n=this,t=n.constructor;return e=new t(e),!n.d||!e.s||e.d&&!e.d[0]?new t(NaN):!e.d||n.d&&!n.d[0]?k(new t(n),t.precision,t.rounding):(f=!1,9==t.modulo?(i=I(n,e.abs(),0,3,1)).s*=e.s:i=I(n,e,0,t.modulo,1),i=i.times(e),f=!0,n.minus(i))},D.naturalExponential=D.exp=function(){return H(this)},D.naturalLogarithm=D.ln=function(){return j(this)},D.negated=D.neg=function(){var e=new this.constructor(this);return e.s=-e.s,k(e)},D.plus=D.add=function(e){var i,n,t,r,o,s,a,l,u,c,m=this,h=m.constructor;if(e=new h(e),!m.d||!e.d)return m.s&&e.s?m.d||(e=new h(e.d||m.s===e.s?m:NaN)):e=new h(NaN),e;if(m.s!=e.s)return e.s=-e.s,m.minus(e);if(u=m.d,c=e.d,a=h.precision,l=h.rounding,!u[0]||!c[0])return c[0]||(e=new h(m)),f?k(e,a,l):e;if(o=v(m.e/7),t=v(e.e/7),u=u.slice(),r=o-t){for(r<0?(n=u,r=-r,s=c.length):(n=c,t=o,s=u.length),r>(s=(o=Math.ceil(a/7))>s?o+1:s+1)&&(r=s,n.length=1),n.reverse();r--;)n.push(0);n.reverse()}for((s=u.length)-(r=c.length)<0&&(r=s,n=c,c=u,u=n),i=0;r;)i=(u[--r]=u[r]+c[r]+i)/S|0,u[r]%=S;for(i&&(u.unshift(i),++t),s=u.length;0==u[--s];)u.pop();return e.d=u,e.e=T(u,t),f?k(e,a,l):e},D.precision=D.sd=function(e){var i,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(p+e);return n.d?(i=L(n.d),e&&n.e+1>i&&(i=n.e+1)):i=NaN,i},D.round=function(){var e=this,i=e.constructor;return k(new i(e),e.e+1,i.rounding)},D.sine=D.sin=function(){var e,i,n=this,t=n.constructor;return n.isFinite()?n.isZero()?new t(n):(e=t.precision,i=t.rounding,t.precision=e+Math.max(n.e,n.sd())+7,t.rounding=1,n=function(e,i){var n,t=i.d.length;if(t<3)return G(e,2,i,i);n=(n=1.4*Math.sqrt(t))>16?16:0|n,i=G(e,2,i=i.times(1/W(5,n)),i);for(var r,o=new e(5),s=new e(16),a=new e(20);n--;)r=i.times(i),i=i.times(o.plus(r.times(s.times(r).minus(a))));return i}(t,V(t,n)),t.precision=e,t.rounding=i,k(o>2?n.neg():n,e,i,!0)):new t(NaN)},D.squareRoot=D.sqrt=function(){var e,i,n,t,r,o,s=this,a=s.d,l=s.e,u=s.s,c=s.constructor;if(1!==u||!a||!a[0])return new c(!u||u<0&&(!a||a[0])?NaN:a?s:1/0);for(f=!1,0==(u=Math.sqrt(+s))||u==1/0?(((i=A(a)).length+l)%2==0&&(i+="0"),u=Math.sqrt(i),l=v((l+1)/2)-(l<0||l%2),t=new c(i=u==1/0?"5e"+l:(i=u.toExponential()).slice(0,i.indexOf("e")+1)+l)):t=new c(u.toString()),n=(l=c.precision)+3;;)if(t=(o=t).plus(I(s,o,n+2,1)).times(.5),A(o.d).slice(0,n)===(i=A(t.d)).slice(0,n)){if("9999"!=(i=i.slice(n-3,n+1))&&(r||"4999"!=i)){+i&&(+i.slice(1)||"5"!=i.charAt(0))||(k(t,l+1,1),e=!t.times(t).eq(s));break}if(!r&&(k(o,l+1,0),o.times(o).eq(s))){t=o;break}n+=4,r=1}return f=!0,k(t,l,c.rounding,e)},D.tangent=D.tan=function(){var e,i,n=this,t=n.constructor;return n.isFinite()?n.isZero()?new t(n):(e=t.precision,i=t.rounding,t.precision=e+10,t.rounding=1,(n=n.sin()).s=1,n=I(n,new t(1).minus(n.times(n)).sqrt(),e+10,0),t.precision=e,t.rounding=i,k(2==o||4==o?n.neg():n,e,i,!0)):new t(NaN)},D.times=D.mul=function(e){var i,n,t,r,o,s,a,l,u,c=this,m=c.constructor,h=c.d,p=(e=new m(e)).d;if(e.s*=c.s,!(h&&h[0]&&p&&p[0]))return new m(!e.s||h&&!h[0]&&!p||p&&!p[0]&&!h?NaN:h&&p?0*e.s:e.s/0);for(n=v(c.e/7)+v(e.e/7),(l=h.length)<(u=p.length)&&(o=h,h=p,p=o,s=l,l=u,u=s),o=[],t=s=l+u;t--;)o.push(0);for(t=u;--t>=0;){for(i=0,r=l+t;r>t;)a=o[r]+p[t]*h[r-t-1]+i,o[r--]=a%S|0,i=a/S|0;o[r]=(o[r]+i)%S|0}for(;!o[--s];)o.pop();return i?++n:o.shift(),e.d=o,e.e=T(o,n),f?k(e,m.precision,m.rounding):e},D.toBinary=function(e,i){return Y(this,2,e,i)},D.toDecimalPlaces=D.toDP=function(e,i){var n=this,t=n.constructor;return n=new t(n),void 0===e?n:(C(e,0,a),void 0===i?i=t.rounding:C(i,0,8),k(n,e+n.e+1,i))},D.toExponential=function(e,i){var n,t=this,r=t.constructor;return void 0===e?n=P(t,!0):(C(e,0,a),void 0===i?i=r.rounding:C(i,0,8),n=P(t=k(new r(t),e+1,i),!0,e+1)),t.isNeg()&&!t.isZero()?"-"+n:n},D.toFixed=function(e,i){var n,t,r=this,o=r.constructor;return void 0===e?n=P(r):(C(e,0,a),void 0===i?i=o.rounding:C(i,0,8),n=P(t=k(new o(r),e+r.e+1,i),!1,e+t.e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},D.toFraction=function(e){var i,n,t,r,o,s,a,l,u,c,m,h,g=this,d=g.d,v=g.constructor;if(!d)return new v(g);if(u=n=new v(1),t=l=new v(0),s=(o=(i=new v(t)).e=L(d)-g.e-1)%7,i.d[0]=x(10,s<0?7+s:s),null==e)e=o>0?i:u;else{if(!(a=new v(e)).isInt()||a.lt(u))throw Error(p+a);e=a.gt(i)?o>0?i:u:a}for(f=!1,a=new v(A(d)),c=v.precision,v.precision=o=7*d.length*2;m=I(a,i,0,1,1),1!=(r=n.plus(m.times(t))).cmp(e);)n=t,t=r,r=u,u=l.plus(m.times(r)),l=r,r=i,i=a.minus(m.times(r)),a=r;return r=I(e.minus(n),t,0,1,1),l=l.plus(r.times(u)),n=n.plus(r.times(t)),l.s=u.s=g.s,h=I(u,t,o,1).minus(g).abs().cmp(I(l,n,o,1).minus(g).abs())<1?[u,t]:[l,n],v.precision=c,f=!0,h},D.toHexadecimal=D.toHex=function(e,i){return Y(this,16,e,i)},D.toNearest=function(e,i){var n=this,t=n.constructor;if(n=new t(n),null==e){if(!n.d)return n;e=new t(1),i=t.rounding}else{if(e=new t(e),void 0===i?i=t.rounding:C(i,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(f=!1,n=I(n,e,0,i,1).times(e),f=!0,k(n)):(e.s=n.s,n=e),n},D.toNumber=function(){return+this},D.toOctal=function(e,i){return Y(this,8,e,i)},D.toPower=D.pow=function(e){var i,n,t,r,o,s,a=this,l=a.constructor,u=+(e=new l(e));if(!(a.d&&e.d&&a.d[0]&&e.d[0]))return new l(x(+a,u));if((a=new l(a)).eq(1))return a;if(t=l.precision,o=l.rounding,e.eq(1))return k(a,t,o);if((i=v(e.e/7))>=e.d.length-1&&(n=u<0?-u:u)<=9007199254740991)return r=R(l,a,n,t),e.s<0?new l(1).div(r):k(r,t,o);if((s=a.s)<0){if(i<e.d.length-1)return new l(NaN);if(0==(1&e.d[i])&&(s=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=s,a}return(i=0!=(n=x(+a,u))&&isFinite(n)?new l(n+"").e:v(u*(Math.log("0."+A(a.d))/Math.LN10+a.e+1)))>l.maxE+1||i<l.minE-1?new l(i>0?s/0:0):(f=!1,l.rounding=a.s=1,n=Math.min(12,(i+"").length),(r=H(e.times(j(a,t+n)),t)).d&&q((r=k(r,t+5,1)).d,t,o)&&(i=t+10,+A((r=k(H(e.times(j(a,i+n)),i),i+5,1)).d).slice(t+1,t+15)+1==1e14&&(r=k(r,t+1,0))),r.s=s,f=!0,l.rounding=o,k(r,t,o))},D.toPrecision=function(e,i){var n,t=this,r=t.constructor;return void 0===e?n=P(t,t.e<=r.toExpNeg||t.e>=r.toExpPos):(C(e,1,a),void 0===i?i=r.rounding:C(i,0,8),n=P(t=k(new r(t),e,i),e<=t.e||t.e<=r.toExpNeg,e)),t.isNeg()&&!t.isZero()?"-"+n:n},D.toSignificantDigits=D.toSD=function(e,i){var n=this.constructor;return void 0===e?(e=n.precision,i=n.rounding):(C(e,1,a),void 0===i?i=n.rounding:C(i,0,8)),k(new n(this),e,i)},D.toString=function(){var e=this,i=e.constructor,n=P(e,e.e<=i.toExpNeg||e.e>=i.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},D.truncated=D.trunc=function(){return k(new this.constructor(this),this.e+1,1)},D.valueOf=D.toJSON=function(){var e=this,i=e.constructor,n=P(e,e.e<=i.toExpNeg||e.e>=i.toExpPos);return e.isNeg()?"-"+n:n};var I=function(){function e(e,i,n){var t,r=0,o=e.length;for(e=e.slice();o--;)t=e[o]*i+r,e[o]=t%n|0,r=t/n|0;return r&&e.unshift(r),e}function i(e,i,n,t){var r,o;if(n!=t)o=n>t?1:-1;else for(r=o=0;r<n;r++)if(e[r]!=i[r]){o=e[r]>i[r]?1:-1;break}return o}function n(e,i,n,t){for(var r=0;n--;)e[n]-=r,r=e[n]<i[n]?1:0,e[n]=r*t+e[n]-i[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,o,s,a,l,u){var c,m,f,h,p,g,d,x,y,b,N,w,M,E,D,A,C,q,F,I,P=r.constructor,T=r.s==o.s?1:-1,O=r.d,z=o.d;if(!(O&&O[0]&&z&&z[0]))return new P(r.s&&o.s&&(O?!z||O[0]!=z[0]:z)?O&&0==O[0]||!z?0*T:T/0:NaN);for(u?(p=1,m=r.e-o.e):(u=S,p=7,m=v(r.e/p)-v(o.e/p)),F=z.length,C=O.length,b=(y=new P(T)).d=[],f=0;z[f]==(O[f]||0);f++);if(z[f]>(O[f]||0)&&m--,null==s?(E=s=P.precision,a=P.rounding):E=l?s+(r.e-o.e)+1:s,E<0)b.push(1),g=!0;else{if(E=E/p+2|0,f=0,1==F){for(h=0,z=z[0],E++;(f<C||h)&&E--;f++)D=h*u+(O[f]||0),b[f]=D/z|0,h=D%z|0;g=h||f<C}else{for((h=u/(z[0]+1)|0)>1&&(z=e(z,h,u),O=e(O,h,u),F=z.length,C=O.length),A=F,w=(N=O.slice(0,F)).length;w<F;)N[w++]=0;(I=z.slice()).unshift(0),q=z[0],z[1]>=u/2&&++q;do{h=0,(c=i(z,N,F,w))<0?(M=N[0],F!=w&&(M=M*u+(N[1]||0)),(h=M/q|0)>1?(h>=u&&(h=u-1),1==(c=i(d=e(z,h,u),N,x=d.length,w=N.length))&&(h--,n(d,F<x?I:z,x,u))):(0==h&&(c=h=1),d=z.slice()),(x=d.length)<w&&d.unshift(0),n(N,d,w,u),-1==c&&(c=i(z,N,F,w=N.length))<1&&(h++,n(N,F<w?I:z,w,u)),w=N.length):0===c&&(h++,N=[0]),b[f++]=h,c&&N[0]?N[w++]=O[A]||0:(N=[O[A]],w=1)}while((A++<C||void 0!==N[0])&&E--);g=void 0!==N[0]}b[0]||b.shift()}if(1==p)y.e=m,t=g;else{for(f=1,h=b[0];h>=10;h/=10)f++;y.e=f+m*p-1,k(y,l?s+y.e+1:s,a,g)}return y}}();function k(e,i,n,t){var r,o,s,a,l,u,c,m,h,p=e.constructor;e:if(null!=i){if(!(m=e.d))return e;for(r=1,a=m[0];a>=10;a/=10)r++;if((o=i-r)<0)o+=7,s=i,l=(c=m[h=0])/x(10,r-s-1)%10|0;else if((h=Math.ceil((o+1)/7))>=(a=m.length)){if(!t)break e;for(;a++<=h;)m.push(0);c=l=0,r=1,s=(o%=7)-7+1}else{for(c=a=m[h],r=1;a>=10;a/=10)r++;l=(s=(o%=7)-7+r)<0?0:c/x(10,r-s-1)%10|0}if(t=t||i<0||void 0!==m[h+1]||(s<0?c:c%x(10,r-s-1)),u=n<4?(l||t)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||t||6==n&&(o>0?s>0?c/x(10,r-s):0:m[h-1])%10&1||n==(e.s<0?8:7)),i<1||!m[0])return m.length=0,u?(i-=e.e+1,m[0]=x(10,(7-i%7)%7),e.e=-i||0):m[0]=e.e=0,e;if(0==o?(m.length=h,a=1,h--):(m.length=h+1,a=x(10,7-o),m[h]=s>0?(c/x(10,r-s)%x(10,s)|0)*a:0),u)for(;;){if(0==h){for(o=1,s=m[0];s>=10;s/=10)o++;for(s=m[0]+=a,a=1;s>=10;s/=10)a++;o!=a&&(e.e++,m[0]==S&&(m[0]=1));break}if(m[h]+=a,m[h]!=S)break;m[h--]=0,a=1}for(o=m.length;0===m[--o];)m.pop()}return f&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function P(e,i,n){if(!e.isFinite())return $(e);var t,r=e.e,o=A(e.d),s=o.length;return i?(n&&(t=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+_(t):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):r<0?(o="0."+_(-r-1)+o,n&&(t=n-s)>0&&(o+=_(t))):r>=s?(o+=_(r+1-s),n&&(t=n-r-1)>0&&(o=o+"."+_(t))):((t=r+1)<s&&(o=o.slice(0,t)+"."+o.slice(t)),n&&(t=n-s)>0&&(r+1===s&&(o+="."),o+=_(t))),o}function T(e,i){var n=e[0];for(i*=7;n>=10;n/=10)i++;return i}function O(e,i,n){if(i>M)throw f=!0,n&&(e.precision=n),Error(g);return k(new e(u),i,1,!0)}function z(e,i,n){if(i>E)throw Error(g);return k(new e(c),i,n,!0)}function L(e){var i=e.length-1,n=7*i+1;if(i=e[i]){for(;i%10==0;i/=10)n--;for(i=e[0];i>=10;i/=10)n++}return n}function _(e){for(var i="";e--;)i+="0";return i}function R(e,i,n,t){var r,o=new e(1),s=Math.ceil(t/7+4);for(f=!1;;){if(n%2&&J((o=o.times(i)).d,s)&&(r=!0),0===(n=v(n/2))){n=o.d.length-1,r&&0===o.d[n]&&++o.d[n];break}J((i=i.times(i)).d,s)}return f=!0,o}function Z(e){return 1&e.d[e.d.length-1]}function Q(e,i,n){for(var t,r=new e(i[0]),o=0;++o<i.length;){if(!(t=new e(i[o])).s){r=t;break}r[n](t)&&(r=t)}return r}function H(e,i){var n,t,r,o,s,a,l,u=0,c=0,m=0,h=e.constructor,p=h.rounding,g=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==i?(f=!1,l=g):l=i,a=new h(.03125);e.e>-2;)e=e.times(a),m+=5;for(l+=t=Math.log(x(2,m))/Math.LN10*2+5|0,n=o=s=new h(1),h.precision=l;;){if(o=k(o.times(e),l,1),n=n.times(++c),A((a=s.plus(I(o,n,l,1))).d).slice(0,l)===A(s.d).slice(0,l)){for(r=m;r--;)s=k(s.times(s),l,1);if(null!=i)return h.precision=g,s;if(!(u<3&&q(s.d,l-t,p,u)))return k(s,h.precision=g,p,f=!0);h.precision=l+=10,n=o=a=new h(1),c=0,u++}s=a}}function j(e,i){var n,t,r,o,s,a,l,u,c,m,h,p=1,g=e,d=g.d,v=g.constructor,x=v.rounding,y=v.precision;if(g.s<0||!d||!d[0]||!g.e&&1==d[0]&&1==d.length)return new v(d&&!d[0]?-1/0:1!=g.s?NaN:d?0:g);if(null==i?(f=!1,c=y):c=i,v.precision=c+=10,t=(n=A(d)).charAt(0),!(Math.abs(o=g.e)<15e14))return u=O(v,c+2,y).times(o+""),g=j(new v(t+"."+n.slice(1)),c-10).plus(u),v.precision=y,null==i?k(g,y,x,f=!0):g;for(;t<7&&1!=t||1==t&&n.charAt(1)>3;)t=(n=A((g=g.times(e)).d)).charAt(0),p++;for(o=g.e,t>1?(g=new v("0."+n),o++):g=new v(t+"."+n.slice(1)),m=g,l=s=g=I(g.minus(1),g.plus(1),c,1),h=k(g.times(g),c,1),r=3;;){if(s=k(s.times(h),c,1),A((u=l.plus(I(s,new v(r),c,1))).d).slice(0,c)===A(l.d).slice(0,c)){if(l=l.times(2),0!==o&&(l=l.plus(O(v,c+2,y).times(o+""))),l=I(l,new v(p),c,1),null!=i)return v.precision=y,l;if(!q(l.d,c-10,x,a))return k(l,v.precision=y,x,f=!0);v.precision=c+=10,u=s=g=I(m.minus(1),m.plus(1),c,1),h=k(g.times(g),c,1),r=a=1}l=u,r+=2}}function $(e){return String(e.s*e.s/0)}function B(e,i){var n,t,r;for((n=i.indexOf("."))>-1&&(i=i.replace(".","")),(t=i.search(/e/i))>0?(n<0&&(n=t),n+=+i.slice(t+1),i=i.substring(0,t)):n<0&&(n=i.length),t=0;48===i.charCodeAt(t);t++);for(r=i.length;48===i.charCodeAt(r-1);--r);if(i=i.slice(t,r)){if(r-=t,e.e=n=n-t-1,e.d=[],t=(n+1)%7,n<0&&(t+=7),t<r){for(t&&e.d.push(+i.slice(0,t)),r-=7;t<r;)e.d.push(+i.slice(t,t+=7));t=7-(i=i.slice(t)).length}else t-=r;for(;t--;)i+="0";e.d.push(+i),f&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function U(e,i){var t,r,o,s,a,l,u,c,m;if("Infinity"===i||"NaN"===i)return+i||(e.s=NaN),e.e=NaN,e.d=null,e;if(b.test(i))t=16,i=i.toLowerCase();else if(y.test(i))t=2;else{if(!N.test(i))throw Error(p+i);t=8}for((s=i.search(/p/i))>0?(u=+i.slice(s+1),i=i.substring(2,s)):i=i.slice(2),a=(s=i.indexOf("."))>=0,r=e.constructor,a&&(s=(l=(i=i.replace(".","")).length)-s,o=R(r,new r(t),s,2*s)),s=m=(c=F(i,t,S)).length-1;0===c[s];--s)c.pop();return s<0?new r(0*e.s):(e.e=T(c,m),e.d=c,f=!1,a&&(e=I(e,o,4*l)),u&&(e=e.times(Math.abs(u)<54?x(2,u):n.pow(2,u))),f=!0,e)}function G(e,i,n,t,r){var o,s,a,l,u=e.precision,c=Math.ceil(u/7);for(f=!1,l=n.times(n),a=new e(t);;){if(s=I(a.times(l),new e(i++*i++),u,1),a=r?t.plus(s):t.minus(s),t=I(s.times(l),new e(i++*i++),u,1),void 0!==(s=a.plus(t)).d[c]){for(o=c;s.d[o]===a.d[o]&&o--;);if(-1==o)break}o=a,a=t,t=s,s=o}return f=!0,s.d.length=c+1,s}function W(e,i){for(var n=e;--i;)n*=e;return n}function V(e,i){var n,t=i.s<0,r=z(e,e.precision,1),s=r.times(.5);if((i=i.abs()).lte(s))return o=t?4:1,i;if((n=i.divToInt(r)).isZero())o=t?3:2;else{if((i=i.minus(n.times(r))).lte(s))return o=Z(n)?t?2:3:t?4:1,i;o=Z(n)?t?1:4:t?3:2}return i.minus(r).abs()}function Y(e,i,n,r){var o,s,u,c,m,f,h,p,g,d=e.constructor,v=void 0!==n;if(v?(C(n,1,a),void 0===r?r=d.rounding:C(r,0,8)):(n=d.precision,r=d.rounding),e.isFinite()){for(v?(o=2,16==i?n=4*n-3:8==i&&(n=3*n-2)):o=i,(u=(h=P(e)).indexOf("."))>=0&&(h=h.replace(".",""),(g=new d(1)).e=h.length-u,g.d=F(P(g),10,o),g.e=g.d.length),s=m=(p=F(h,10,o)).length;0==p[--m];)p.pop();if(p[0]){if(u<0?s--:((e=new d(e)).d=p,e.e=s,p=(e=I(e,g,n,r,0,o)).d,s=e.e,f=t),u=p[n],c=o/2,f=f||void 0!==p[n+1],f=r<4?(void 0!==u||f)&&(0===r||r===(e.s<0?3:2)):u>c||u===c&&(4===r||f||6===r&&1&p[n-1]||r===(e.s<0?8:7)),p.length=n,f)for(;++p[--n]>o-1;)p[n]=0,n||(++s,p.unshift(1));for(m=p.length;!p[m-1];--m);for(u=0,h="";u<m;u++)h+=l.charAt(p[u]);if(v){if(m>1)if(16==i||8==i){for(u=16==i?4:3,--m;m%u;m++)h+="0";for(m=(p=F(h,o,i)).length;!p[m-1];--m);for(u=1,h="1.";u<m;u++)h+=l.charAt(p[u])}else h=h.charAt(0)+"."+h.slice(1);h=h+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)h="0"+h;h="0."+h}else if(++s>m)for(s-=m;s--;)h+="0";else s<m&&(h=h.slice(0,s)+"."+h.slice(s))}else h=v?"0p+0":"0";h=(16==i?"0x":2==i?"0b":8==i?"0o":"")+h}else h=$(e);return e.s<0?"-"+h:h}function J(e,i){if(e.length>i)return e.length=i,!0}function X(e){return new this(e).abs()}function K(e){return new this(e).acos()}function ee(e){return new this(e).acosh()}function ie(e,i){return new this(e).plus(i)}function ne(e){return new this(e).asin()}function te(e){return new this(e).asinh()}function re(e){return new this(e).atan()}function oe(e){return new this(e).atanh()}function se(e,i){e=new this(e),i=new this(i);var n,t=this.precision,r=this.rounding,o=t+4;return e.s&&i.s?e.d||i.d?!i.d||e.isZero()?(n=i.s<0?z(this,t,r):new this(0)).s=e.s:!e.d||i.isZero()?(n=z(this,o,1).times(.5)).s=e.s:i.s<0?(this.precision=o,this.rounding=1,n=this.atan(I(e,i,o,1)),i=z(this,o,1),this.precision=t,this.rounding=r,n=e.s<0?n.minus(i):n.plus(i)):n=this.atan(I(e,i,o,1)):(n=z(this,o,1).times(i.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function ae(e){return new this(e).cbrt()}function le(e){return k(e=new this(e),e.e+1,2)}function ue(e){if(!e||"object"!=typeof e)throw Error(h+"Object expected");var i,n,t,r=!0===e.defaults,o=["precision",1,a,"rounding",0,8,"toExpNeg",-s,0,"toExpPos",0,s,"maxE",0,s,"minE",-s,0,"modulo",0,9];for(i=0;i<o.length;i+=3)if(n=o[i],r&&(this[n]=m[n]),void 0!==(t=e[n])){if(!(v(t)===t&&t>=o[i+1]&&t<=o[i+2]))throw Error(p+n+": "+t);this[n]=t}if(n="crypto",r&&(this[n]=m[n]),void 0!==(t=e[n])){if(!0!==t&&!1!==t&&0!==t&&1!==t)throw Error(p+n+": "+t);if(t){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(d);this[n]=!0}else this[n]=!1}return this}function ce(e){return new this(e).cos()}function me(e){return new this(e).cosh()}function fe(e,i){return new this(e).div(i)}function he(e){return new this(e).exp()}function pe(e){return k(e=new this(e),e.e+1,3)}function ge(){var e,i,n=new this(0);for(f=!1,e=0;e<arguments.length;)if((i=new this(arguments[e++])).d)n.d&&(n=n.plus(i.times(i)));else{if(i.s)return f=!0,new this(1/0);n=i}return f=!0,n.sqrt()}function de(e){return e instanceof n||e&&"[object Decimal]"===e.name||!1}function ve(e){return new this(e).ln()}function xe(e,i){return new this(e).log(i)}function ye(e){return new this(e).log(2)}function be(e){return new this(e).log(10)}function Ne(){return Q(this,arguments,"lt")}function we(){return Q(this,arguments,"gt")}function Se(e,i){return new this(e).mod(i)}function Me(e,i){return new this(e).mul(i)}function Ee(e,i){return new this(e).pow(i)}function De(e){var i,n,t,r,o=0,s=new this(1),l=[];if(void 0===e?e=this.precision:C(e,1,a),t=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(i=crypto.getRandomValues(new Uint32Array(t));o<t;)(r=i[o])>=429e7?i[o]=crypto.getRandomValues(new Uint32Array(1))[0]:l[o++]=r%1e7;else{if(!crypto.randomBytes)throw Error(d);for(i=crypto.randomBytes(t*=4);o<t;)(r=i[o]+(i[o+1]<<8)+(i[o+2]<<16)+((127&i[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(i,o):(l.push(r%1e7),o+=4);o=t/4}else for(;o<t;)l[o++]=1e7*Math.random()|0;for(e%=7,(t=l[--o])&&e&&(r=x(10,7-e),l[o]=(t/r|0)*r);0===l[o];o--)l.pop();if(o<0)n=0,l=[0];else{for(n=-1;0===l[0];n-=7)l.shift();for(t=1,r=l[0];r>=10;r/=10)t++;t<7&&(n-=7-t)}return s.e=n,s.d=l,s}function Ae(e){return k(e=new this(e),e.e+1,this.rounding)}function Ce(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function qe(e){return new this(e).sin()}function Fe(e){return new this(e).sinh()}function Ie(e){return new this(e).sqrt()}function ke(e,i){return new this(e).sub(i)}function Pe(e){return new this(e).tan()}function Te(e){return new this(e).tanh()}function Oe(e){return k(e=new this(e),e.e+1,1)}(n=function e(i){var n,t,r;function o(e){var i,n,t,r=this;if(!(r instanceof o))return new o(e);if(r.constructor=o,e instanceof o)return r.s=e.s,void(f?!e.d||e.e>o.maxE?(r.e=NaN,r.d=null):e.e<o.minE?(r.e=0,r.d=[0]):(r.e=e.e,r.d=e.d.slice()):(r.e=e.e,r.d=e.d?e.d.slice():e.d));if("number"==(t=typeof e)){if(0===e)return r.s=1/e<0?-1:1,r.e=0,void(r.d=[0]);if(e<0?(e=-e,r.s=-1):r.s=1,e===~~e&&e<1e7){for(i=0,n=e;n>=10;n/=10)i++;return void(f?i>o.maxE?(r.e=NaN,r.d=null):i<o.minE?(r.e=0,r.d=[0]):(r.e=i,r.d=[e]):(r.e=i,r.d=[e]))}return 0*e!=0?(e||(r.s=NaN),r.e=NaN,void(r.d=null)):B(r,e.toString())}if("string"!==t)throw Error(p+e);return 45===(n=e.charCodeAt(0))?(e=e.slice(1),r.s=-1):(43===n&&(e=e.slice(1)),r.s=1),w.test(e)?B(r,e):U(r,e)}if(o.prototype=D,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=ue,o.clone=e,o.isDecimal=de,o.abs=X,o.acos=K,o.acosh=ee,o.add=ie,o.asin=ne,o.asinh=te,o.atan=re,o.atanh=oe,o.atan2=se,o.cbrt=ae,o.ceil=le,o.cos=ce,o.cosh=me,o.div=fe,o.exp=he,o.floor=pe,o.hypot=ge,o.ln=ve,o.log=xe,o.log10=be,o.log2=ye,o.max=Ne,o.min=we,o.mod=Se,o.mul=Me,o.pow=Ee,o.random=De,o.round=Ae,o.sign=Ce,o.sin=qe,o.sinh=Fe,o.sqrt=Ie,o.sub=ke,o.tan=Pe,o.tanh=Te,o.trunc=Oe,void 0===i&&(i={}),i&&!0!==i.defaults)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<r.length;)i.hasOwnProperty(t=r[n++])||(i[t]=this[t]);return o.config(i),o}(m)).default=n.Decimal=n,u=new n(u),c=new n(c),e.exports?("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(D[Symbol.for("nodejs.util.inspect.custom")]=D.toString,D[Symbol.toStringTag]="Decimal"),e.exports=n):(i||(i="undefined"!=typeof self&&self&&self.self==self?self:window),r=i.Decimal,n.noConflict=function(){return i.Decimal=r,n},i.Decimal=n)}(c)}(m);var f={exports:{}};
/**
   * @license Complex.js v2.0.13 12/05/2020
   *
   * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **/!function(e,i){!function(i){var n=function(e){return.5*(Math.exp(e)+Math.exp(-e))},t=function(e){return.5*(Math.exp(e)-Math.exp(-e))},r=function(){throw SyntaxError("Invalid Param")};function o(e,i){var n=Math.abs(e),t=Math.abs(i);return 0===e?Math.log(t):0===i?Math.log(n):n<3e3&&t<3e3?.5*Math.log(e*e+i*i):Math.log(e/Math.cos(Math.atan2(i,e)))}function s(e,i){if(!(this instanceof s))return new s(e,i);var n=function(e,i){var n={re:0,im:0};if(null==e)n.re=n.im=0;else if(void 0!==i)n.re=e,n.im=i;else switch(typeof e){case"object":if("im"in e&&"re"in e)n.re=e.re,n.im=e.im;else if("abs"in e&&"arg"in e){if(!Number.isFinite(e.abs)&&Number.isFinite(e.arg))return s.INFINITY;n.re=e.abs*Math.cos(e.arg),n.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!Number.isFinite(e.r)&&Number.isFinite(e.phi))return s.INFINITY;n.re=e.r*Math.cos(e.phi),n.im=e.r*Math.sin(e.phi)}else 2===e.length?(n.re=e[0],n.im=e[1]):r();break;case"string":n.im=n.re=0;var t=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),o=1,a=0;null===t&&r();for(var l=0;l<t.length;l++){var u=t[l];" "===u||"\t"===u||"\n"===u||("+"===u?o++:"-"===u?a++:"i"===u||"I"===u?(o+a===0&&r()," "===t[l+1]||isNaN(t[l+1])?n.im+=parseFloat((a%2?"-":"")+"1"):(n.im+=parseFloat((a%2?"-":"")+t[l+1]),l++),o=a=0):((o+a===0||isNaN(u))&&r(),"i"===t[l+1]||"I"===t[l+1]?(n.im+=parseFloat((a%2?"-":"")+u),l++):n.re+=parseFloat((a%2?"-":"")+u),o=a=0))}o+a>0&&r();break;case"number":n.im=0,n.re=e;break;default:r()}return isNaN(n.re)||isNaN(n.im),n}(e,i);this.re=n.re,this.im=n.im}s.prototype={re:0,im:0,sign:function(){var e=this.abs();return new s(this.re/e,this.im/e)},add:function(e,i){var n=new s(e,i);return this.isInfinite()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:new s(this.re+n.re,this.im+n.im)},sub:function(e,i){var n=new s(e,i);return this.isInfinite()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:new s(this.re-n.re,this.im-n.im)},mul:function(e,i){var n=new s(e,i);return this.isInfinite()&&n.isZero()||this.isZero()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:0===n.im&&0===this.im?new s(this.re*n.re,0):new s(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(e,i){var n=new s(e,i);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return s.NAN;if(this.isInfinite()||n.isZero())return s.INFINITY;if(this.isZero()||n.isInfinite())return s.ZERO;e=this.re,i=this.im;var t,r,o=n.re,a=n.im;return 0===a?new s(e/o,i/o):Math.abs(o)<Math.abs(a)?new s((e*(r=o/a)+i)/(t=o*r+a),(i*r-e)/t):new s((e+i*(r=a/o))/(t=a*r+o),(i-e*r)/t)},pow:function(e,i){var n=new s(e,i);if(e=this.re,i=this.im,n.isZero())return s.ONE;if(0===n.im){if(0===i&&e>0)return new s(Math.pow(e,n.re),0);if(0===e)switch((n.re%4+4)%4){case 0:return new s(Math.pow(i,n.re),0);case 1:return new s(0,Math.pow(i,n.re));case 2:return new s(-Math.pow(i,n.re),0);case 3:return new s(0,-Math.pow(i,n.re))}}if(0===e&&0===i&&n.re>0&&n.im>=0)return s.ZERO;var t=Math.atan2(i,e),r=o(e,i);return e=Math.exp(n.re*r-n.im*t),i=n.im*r+n.re*t,new s(e*Math.cos(i),e*Math.sin(i))},sqrt:function(){var e,i,n=this.re,t=this.im,r=this.abs();if(n>=0){if(0===t)return new s(Math.sqrt(n),0);e=.5*Math.sqrt(2*(r+n))}else e=Math.abs(t)/Math.sqrt(2*(r-n));return i=n<=0?.5*Math.sqrt(2*(r-n)):Math.abs(t)/Math.sqrt(2*(r+n)),new s(e,t<0?-i:i)},exp:function(){var e=Math.exp(this.re);return this.im,new s(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){var e=this.re,i=this.im;return new s(Math.expm1(e)*Math.cos(i)+function(e){var i=Math.PI/4;if(e<-i||e>i)return Math.cos(e)-1;var n=e*e;return n*(n*(1/24+n*(-1/720+n*(1/40320+n*(-1/3628800+n*(1/4790014600+n*(-1/87178291200+n*(1/20922789888e3)))))))-.5)}(i),Math.exp(e)*Math.sin(i))},log:function(){var e=this.re,i=this.im;return new s(o(e,i),Math.atan2(i,e))},abs:function(){return e=this.re,i=this.im,n=Math.abs(e),t=Math.abs(i),n<3e3&&t<3e3?Math.sqrt(n*n+t*t):(n<t?(n=t,t=e/i):t=i/e,n*Math.sqrt(1+t*t));var e,i,n,t},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var e=this.re,i=this.im;return new s(Math.sin(e)*n(i),Math.cos(e)*t(i))},cos:function(){var e=this.re,i=this.im;return new s(Math.cos(e)*n(i),-Math.sin(e)*t(i))},tan:function(){var e=2*this.re,i=2*this.im,r=Math.cos(e)+n(i);return new s(Math.sin(e)/r,t(i)/r)},cot:function(){var e=2*this.re,i=2*this.im,r=Math.cos(e)-n(i);return new s(-Math.sin(e)/r,t(i)/r)},sec:function(){var e=this.re,i=this.im,r=.5*n(2*i)+.5*Math.cos(2*e);return new s(Math.cos(e)*n(i)/r,Math.sin(e)*t(i)/r)},csc:function(){var e=this.re,i=this.im,r=.5*n(2*i)-.5*Math.cos(2*e);return new s(Math.sin(e)*n(i)/r,-Math.cos(e)*t(i)/r)},asin:function(){var e=this.re,i=this.im,n=new s(i*i-e*e+1,-2*e*i).sqrt(),t=new s(n.re-i,n.im+e).log();return new s(t.im,-t.re)},acos:function(){var e=this.re,i=this.im,n=new s(i*i-e*e+1,-2*e*i).sqrt(),t=new s(n.re-i,n.im+e).log();return new s(Math.PI/2-t.im,t.re)},atan:function(){var e=this.re,i=this.im;if(0===e){if(1===i)return new s(0,1/0);if(-1===i)return new s(0,-1/0)}var n=e*e+(1-i)*(1-i),t=new s((1-i*i-e*e)/n,-2*e/n).log();return new s(-.5*t.im,.5*t.re)},acot:function(){var e=this.re,i=this.im;if(0===i)return new s(Math.atan2(1,e),0);var n=e*e+i*i;return 0!==n?new s(e/n,-i/n).atan():new s(0!==e?e/0:0,0!==i?-i/0:0).atan()},asec:function(){var e=this.re,i=this.im;if(0===e&&0===i)return new s(0,1/0);var n=e*e+i*i;return 0!==n?new s(e/n,-i/n).acos():new s(0!==e?e/0:0,0!==i?-i/0:0).acos()},acsc:function(){var e=this.re,i=this.im;if(0===e&&0===i)return new s(Math.PI/2,1/0);var n=e*e+i*i;return 0!==n?new s(e/n,-i/n).asin():new s(0!==e?e/0:0,0!==i?-i/0:0).asin()},sinh:function(){var e=this.re,i=this.im;return new s(t(e)*Math.cos(i),n(e)*Math.sin(i))},cosh:function(){var e=this.re,i=this.im;return new s(n(e)*Math.cos(i),t(e)*Math.sin(i))},tanh:function(){var e=2*this.re,i=2*this.im,r=n(e)+Math.cos(i);return new s(t(e)/r,Math.sin(i)/r)},coth:function(){var e=2*this.re,i=2*this.im,r=n(e)-Math.cos(i);return new s(t(e)/r,-Math.sin(i)/r)},csch:function(){var e=this.re,i=this.im,r=Math.cos(2*i)-n(2*e);return new s(-2*t(e)*Math.cos(i)/r,2*n(e)*Math.sin(i)/r)},sech:function(){var e=this.re,i=this.im,r=Math.cos(2*i)+n(2*e);return new s(2*n(e)*Math.cos(i)/r,-2*t(e)*Math.sin(i)/r)},asinh:function(){var e=this.im;this.im=-this.re,this.re=e;var i=this.asin();return this.re=-this.im,this.im=e,e=i.re,i.re=-i.im,i.im=e,i},acosh:function(){var e=this.acos();if(e.im<=0){var i=e.re;e.re=-e.im,e.im=i}else i=e.im,e.im=-e.re,e.re=i;return e},atanh:function(){var e=this.re,i=this.im,n=e>1&&0===i,t=1-e,r=1+e,a=t*t+i*i,l=0!==a?new s((r*t-i*i)/a,(i*t+r*i)/a):new s(-1!==e?e/0:0,0!==i?i/0:0),u=l.re;return l.re=o(l.re,l.im)/2,l.im=Math.atan2(l.im,u)/2,n&&(l.im=-l.im),l},acoth:function(){var e=this.re,i=this.im;if(0===e&&0===i)return new s(0,Math.PI/2);var n=e*e+i*i;return 0!==n?new s(e/n,-i/n).atanh():new s(0!==e?e/0:0,0!==i?-i/0:0).atanh()},acsch:function(){var e=this.re,i=this.im;if(0===i)return new s(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);var n=e*e+i*i;return 0!==n?new s(e/n,-i/n).asinh():new s(0!==e?e/0:0,0!==i?-i/0:0).asinh()},asech:function(){var e=this.re,i=this.im;if(this.isZero())return s.INFINITY;var n=e*e+i*i;return 0!==n?new s(e/n,-i/n).acosh():new s(0!==e?e/0:0,0!==i?-i/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var e=this.re,i=this.im,n=e*e+i*i;return new s(e/n,-i/n)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new s(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new s(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new s(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,i){var n=new s(e,i);return Math.abs(n.re-this.re)<=s.EPSILON&&Math.abs(n.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var e=this.re,i=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<s.EPSILON&&(e=0),Math.abs(i)<s.EPSILON&&(i=0),0===i?n+e:(0!==e?(n+=e,n+=" ",i<0?(i=-i,n+="-"):n+="+",n+=" "):i<0&&(i=-i,n+="-"),1!==i&&(n+=i),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,e.exports=s}()}(f);const h=new m.exports.Decimal(0),p=new m.exports.Decimal(1),g=new m.exports.Decimal(-1),d=new m.exports.Decimal(NaN),v=new m.exports.Decimal(1/0),x=new m.exports.Decimal(-1/0);function y(e){if("number"==typeof e&&(e=new m.exports.Decimal(e)),!e.isInteger()||e.isNegative())return d;if(e.lessThan(10))return new m.exports.Decimal([1,1,2,6,24,120,720,5040,40320,362880,3628800][e.toNumber()]);if(e.gt(Number.MAX_SAFE_INTEGER)){let i=p,n=new m.exports.Decimal(2);for(;n.lessThan(e);)i=i.mul(n),n=n.add(1);return i}if(e.modulo(2).eq(1))return e.times(y(e.minus(1)));let i=e.toNumber(),n=e.toNumber(),t=e;for(;i>2;)i-=2,n+=i,t=t.mul(n);return t}const b=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7].map((e=>new m.exports.Decimal(e))),N=new m.exports.Decimal(607).div(128),w=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22].map((e=>new m.exports.Decimal(e)));function S(e){if("number"==typeof e&&(e=new m.exports.Decimal(e)),e.isNegative())return d;let i=w[0];for(let n=w.length-1;n>0;--n)i=i.add(w[n].div(e.add(n)));const n=e.add(N).add(.5);return m.exports.Decimal.acos(-1).mul(2).log().mul(.5).add(n.log().mul(e.add(.5)).minus(n).add(i.log()).minus(e.log()))}function M(e){if("number"==typeof e&&(e=new m.exports.Decimal(e)),e.lessThan(.5)){const i=m.exports.Decimal.acos(-1);return i.div(i.mul(e).sin().mul(M(m.exports.Decimal.sub(1,e))))}if(e.greaterThan(100))return S(e).exp();{e=e.sub(1);let i=b[0];for(let n=1;n<9;n++)i=i.add(b[n].div(e.add(n)));const n=e.add(7).add(.5);return m.exports.Decimal.acos(-1).times(2).sqrt().mul(i.mul(n.neg().exp()).mul(m.exports.Decimal.pow(n,e.add(.5))))}}const E=Math.log10(Math.pow(2,53)),D=Math.pow(10,-10),A=new Set([2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999,5003,5009,5011,5021,5023,5039,5051,5059,5077,5081,5087,5099,5101,5107,5113,5119,5147,5153,5167,5171,5179,5189,5197,5209,5227,5231,5233,5237,5261,5273,5279,5281,5297,5303,5309,5323,5333,5347,5351,5381,5387,5393,5399,5407,5413,5417,5419,5431,5437,5441,5443,5449,5471,5477,5479,5483,5501,5503,5507,5519,5521,5527,5531,5557,5563,5569,5573,5581,5591,5623,5639,5641,5647,5651,5653,5657,5659,5669,5683,5689,5693,5701,5711,5717,5737,5741,5743,5749,5779,5783,5791,5801,5807,5813,5821,5827,5839,5843,5849,5851,5857,5861,5867,5869,5879,5881,5897,5903,5923,5927,5939,5953,5981,5987,6007,6011,6029,6037,6043,6047,6053,6067,6073,6079,6089,6091,6101,6113,6121,6131,6133,6143,6151,6163,6173,6197,6199,6203,6211,6217,6221,6229,6247,6257,6263,6269,6271,6277,6287,6299,6301,6311,6317,6323,6329,6337,6343,6353,6359,6361,6367,6373,6379,6389,6397,6421,6427,6449,6451,6469,6473,6481,6491,6521,6529,6547,6551,6553,6563,6569,6571,6577,6581,6599,6607,6619,6637,6653,6659,6661,6673,6679,6689,6691,6701,6703,6709,6719,6733,6737,6761,6763,6779,6781,6791,6793,6803,6823,6827,6829,6833,6841,6857,6863,6869,6871,6883,6899,6907,6911,6917,6947,6949,6959,6961,6967,6971,6977,6983,6991,6997,7001,7013,7019,7027,7039,7043,7057,7069,7079,7103,7109,7121,7127,7129,7151,7159,7177,7187,7193,7207,7211,7213,7219,7229,7237,7243,7247,7253,7283,7297,7307,7309,7321,7331,7333,7349,7351,7369,7393,7411,7417,7433,7451,7457,7459,7477,7481,7487,7489,7499,7507,7517,7523,7529,7537,7541,7547,7549,7559,7561,7573,7577,7583,7589,7591,7603,7607,7621,7639,7643,7649,7669,7673,7681,7687,7691,7699,7703,7717,7723,7727,7741,7753,7757,7759,7789,7793,7817,7823,7829,7841,7853,7867,7873,7877,7879,7883,7901,7907,7919]);function C(e,i){if(!Number.isInteger(e)||!Number.isInteger(i))return NaN;for(;0!==i;)[e,i]=[i,e%i];return e<0?-e:e}const q=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7],F=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function I(e){if(e<0)return NaN;let i=F[0];for(let n=F.length-1;n>0;--n)i+=F[n]/(e+n);const n=e+4.7421875+.5;return.5*Math.log(2*Math.PI)+(e+.5)*Math.log(n)-n+Math.log(i)-Math.log(e)}function k(e){if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*k(1-e));if(e>100)return Math.exp(I(e));{e-=1;let i=q[0];for(let n=1;n<9;n++)i+=q[n]/(e+n);const n=e+7+.5;return Math.sqrt(2*Math.PI)*Math.pow(n,e+.5)*Math.exp(-n)*i}}const P="Parentheses",T="Identity",O="LatexTokens",z="List",L="Missing",_="Nothing",R="Sequence",Z="Sequence2",Q="Add",H="Derivative",j="Divide",$="InverseFunction",B="Multiply",U="Negate",G="Power",W="Prime",V="Root",Y="Sqrt",J="Subtract",X="ComplexInfinity",K="ExponentialE",ee="ImaginaryUnit";function ie(e){return null!==e&&"object"==typeof e&&"num"in e}function ne(e){return null!==e&&"object"==typeof e&&"sym"in e}function te(e){return null!==e&&"object"==typeof e&&"str"in e}function re(e){return null!==e&&"object"==typeof e&&"fn"in e}function oe(e){return null!==e&&"object"==typeof e&&"dict"in e}function se(e){if("number"==typeof e)return e;if(null===e)return null;if(ie(e))return e.num.endsWith("d")||e.num.endsWith("n")?null:parseFloat(e.num);const i=ve(e);return null===i?null:"NaN"===i?NaN:"+Infinity"===i?1/0:"-Infinity"===i?-1/0:"Complex"===de(e)&&0===se(Ne(e,2))?se(Ne(e,1)):null}function ae(e){if(null===e)return null;if(e instanceof f.exports.Complex)return e;const i=ve(e);if(null!==i){if("ComplexInfinity"===i)return f.exports.Complex.INFINITY;if(i===ee)return f.exports.Complex.I}const n=de(e);if("Complex"===n){const i=se(Ne(e,1)),n=se(Ne(e,2));return null===i||null===n?null:new f.exports.Complex(i,n)}let t=le(e);if(null!==t)return new f.exports.Complex(0,t);if("Add"===n&&2===we(e)){let i=se(Ne(e,1));if(null!==i?t=le(Ne(e,2)):(t=le(Ne(e,1)),null!==t&&(i=se(Ne(e,2)))),null!==i&&null!==t)return new f.exports.Complex(i,t)}if("Subtract"===n){const i=se(Ne(e,1)),n=Ne(e,2);if(null!==i){if(ve(n)===ee)return new f.exports.Complex(i,-1);if("Multiply"===de(n)&&Ne(n,2)===ee){const e=se(Ne(n,1));if(null!==e)return new f.exports.Complex(i,-e)}}}if("Multiply"===n&&2===we(e)){let i=null;if(ve(Ne(e,2))===ee?i=se(Ne(e,2)):ve(Ne(e,1))===ee&&(i=se(Ne(e,1))),null!==i&&Number.isInteger(i))return 0===i?f.exports.Complex.ZERO:1===i?f.exports.Complex.ONE:-1===i?f.exports.Complex.ONE.neg():new f.exports.Complex(0,i)}if("Negate"===n){const i=ae(Ne(e,1));if(null!==i)return i.neg()}return null}function le(e){if("ImaginaryUnit"===ve(e))return 1;let i=null;const n=de(e);return"Multiply"===n&&2===we(e)?"ImaginaryUnit"===ve(Ne(e,1))?i=se(Ne(e,2)):"ImaginaryUnit"===ve(Ne(e,2))&&(i=se(Ne(e,1))):"Negate"===n&&1===we(e)&&"ImaginaryUnit"===ve(Ne(e,1))&&(i=-1),0===i?null:i}function ue(e){var i,n;if(e instanceof m.exports.Decimal)return e;const t=ve(e);if(null!==t){if("NaN"===t)return d;if("+Infinity"===t)return v;if("-Infinity"===t)return x}if(ie(e))return e.num.endsWith("d")||e.num.endsWith("n")?new m.exports.Decimal(e.num.slice(0,-1)):new m.exports.Decimal(null!==(i=se(e))&&void 0!==i?i:NaN);if(null!==e&&e instanceof f.exports.Complex){const i=e;return 0===i.im?new m.exports.Decimal(i.re):null}return"Complex"===de(e)&&0===se(Ne(e,2))?new m.exports.Decimal(null!==(n=se(Ne(e,1)))&&void 0!==n?n:NaN):null}function ce(e){return null===e?null:"object"==typeof e&&"str"in e?e.str:"string"!=typeof e||e.length<2||"'"!==e[0]||"'"!==e[e.length-1]?null:e.substring(1,e.length-1)}function me(e){var i,n,t,r,o,s;const a=ve(e);if("ThreeQuarter"===a)return[3,4];if("TwoThird"===a)return[2,3];if("Half"===a)return[1,2];if("Third"===a)return[1,3];if("Quarter"===a)return[1,4];if(ge(e))return[null,null];const l=de(e);if(!l)return[null,null];let u=null,c=null;if(l===G){const t=se(Ne(e,2));1===t?(u=null!==(i=se(Ne(e,1)))&&void 0!==i?i:null,c=1):-1===t&&(u=1,c=null!==(n=se(Ne(e,1)))&&void 0!==n?n:null)}return l===j&&(u=null!==(t=se(Ne(e,1)))&&void 0!==t?t:null,c=null!==(r=se(Ne(e,2)))&&void 0!==r?r:null),l===B&&de(Ne(e,2))===G&&-1===se(Ne(Ne(e,2),2))&&(u=null!==(o=se(Ne(e,1)))&&void 0!==o?o:null,c=null!==(s=se(Ne(Ne(e,2),1)))&&void 0!==s?s:null),null===u||null===c?[null,null]:Number.isInteger(u)&&Number.isInteger(c)?[u,c]:[null,null]}function fe(e,i){var n,t,r,o;if(ve(e)===i)return[1,1];const s=de(e);if(s===B){if(ve(null!==(n=Ne(e,2))&&void 0!==n?n:L)!==i)return[null,null];const t=Ne(e,1),r=se(t);return null!==r?[r,1]:me(null!=t?t:L)}if(s===j){const n=se(null!==(t=Ne(e,2))&&void 0!==t?t:L);if(null===n||isNaN(n))return[null,null];const o=null!==(r=Ne(e,1))&&void 0!==r?r:L,s=ve(o);if(s===i)return[1,n];let a=null;if("MinusDoublePi"===s)a=-2;else if("MinusPi"===s)a=-1;else if("DoublePi"===s)a=2;else{if(de(o)!==B)return[null,null];if(ve(Ne(o,2))!==i)return[null,null];a=se(Ne(o,1))}return null===a?[null,null]:[a,n]}if(s===U){const[n,t]=fe(null!==(o=Ne(e,1))&&void 0!==o?o:L,i);return null===n||isNaN(n)?[null,null]:[-n,t]}return[null,null]}function he(e){return Array.isArray(e)?e[0]:re(e)?e.fn[0]:"number"==typeof e||ie(e)?"Number":"string"==typeof e?"String":ne(e)?"Symbol":oe(e)?"Dictionary":null}function pe(e){return null===e?null:Array.isArray(e)?e[0]:re(e)?e.fn[0]:null}function ge(e){return null===e||!Array.isArray(e)&&("object"!=typeof e||!("fn"in e||"dic"in e))}function de(e){if(null===e)return"";const i=pe(e);return"string"==typeof i?i:""}function ve(e){return null===e?null:"string"==typeof e?e.length>=2&&"'"===e[0]&&"'"===e[e.length-1]?null:e:ne(e)?e.sym:null}function xe(e){return Array.isArray(e)?e.slice(1):re(e)?e.fn.slice(1):[]}function ye(e,i){const n=pe(e);if(null!==n)return[i(n),...xe(e).map(i)];const t=Se(e);if(null!==t){const e=Object.keys(t),n={};for(const r of e)n[r]=i(t[r]);return{dict:n}}return i(e)}function be(e,i){let n=null;if(Array.isArray(e)&&(n=e),re(e)&&(n=e.fn),null===n)return[];let t=1;const r=[];for(;t<n.length;)r.push(i(n[t])),t+=1;return r}function Ne(e,i){var n,t;return null===e?null:Array.isArray(e)?null!==(n=e[i])&&void 0!==n?n:null:re(e)&&null!==(t=e.fn[i])&&void 0!==t?t:null}function we(e){return Array.isArray(e)?Math.max(0,e.length-1):re(e)?Math.max(0,e.fn.length-1):0}function Se(e){return"object"==typeof e&&"dict"in e?e.dict:null}function Me(e,i){if(typeof e!=typeof i)return!1;if(null===e)return null===i;if(void 0===e)return void 0===i;if("number"==typeof e)return e===i;if("string"==typeof e)return e===i;if(Array.isArray(e)&&Array.isArray(i)){if(!Me(he(e),he(i)))return!1;const n=we(e);if(we(i)!==n)return!1;for(let t=0;t<n;t++)if(!Me(Ne(e,t),Ne(i,t)))return!1;return!0}if("object"==typeof e){if(ie(e)&&ie(i))return se(e)===se(i);if(ne(e)&&ne(i))return ve(e)===ve(i);if(re(e)&&re(i)){if(!Me(he(e),he(i)))return!1;const n=we(e);if(we(i)!==n)return!1;for(let t=0;t<n;t++)if(!Me(Ne(e,t),Ne(i,t)))return!1;return!0}if(te(e)&&te(i))return ce(e)===ce(i);if(oe(e)&&oe(i)){const n=Se(e),t=Se(i);if(null===n&&null!==t)return!1;if(null===n&&null===t)return!0;const r=Object.keys(n);if(null===t||r.length!==Object.keys(t).length)return!1;for(const e of r)if(!Me(n[e],t[e]))return!1;return!0}}return!1}const Ee=[{name:"Overscript",trigger:{infix:"\\overset"},precedence:700},{name:"Underscript",trigger:{infix:"\\underset"},precedence:700},{name:"Increment",trigger:{postfix:["+","+"]},precedence:880},{name:"Decrement",trigger:{postfix:["-","-"]},precedence:880},{name:"PreIncrement",trigger:{prefix:["+","+"]},precedence:880},{name:"PreDecrement",trigger:{prefix:["-","-"]},precedence:880},{name:"Ring",trigger:{infix:"\\circ"},precedence:265},{name:"Transpose",trigger:{superfix:"T"}},{name:"ConjugateTranspose",trigger:{superfix:"H"}},{name:"StringJoin",trigger:{infix:["\\lt","\\gt"]},precedence:780},{name:"Starstar",trigger:{infix:["\\star","\\star"]},precedence:780},{name:"PartialDerivative",trigger:{prefix:"\\partial"},parse:(e,i,n)=>{var t,r;let o=!1,s=_,a=_;for(;!o;)i.skipSpace(),i.match("_")?a=i.matchRequiredLatexArgument():i.match("^")?s=i.matchRequiredLatexArgument():o=!0;if(de(a)===R&&(a=[z,...xe(a)]),!a||!s)return[e,null];let l=null!==(t=i.matchRequiredLatexArgument())&&void 0!==t?t:_;return l!==_&&(l=[l,...null!==(r=i.matchArguments("group"))&&void 0!==r?r:_]),[null,["PartialDerivative",l,a,s]]},serialize:(e,i)=>{let n="\\partial";const t=Ne(i,1),r=Ne(i,2),o=Ne(i,3);return null!==r&&r!==_&&(pe(r)===z?n+="_{"+e.serialize([R,...xe(r)])+"}":n+="_{"+e.serialize(r)+"}"),null!==o&&o!==_&&(n+="^{"+e.serialize(o)+"}"),null!==t&&t!==_&&(n+=e.serialize(t)),n},precedence:740},{name:"OverBar",trigger:{symbol:"\\overline"},requiredLatexArg:1},{name:"UnderBar",trigger:{symbol:"\\underline"},requiredLatexArg:1},{name:"OverVector",trigger:{symbol:"\\vec"},requiredLatexArg:1},{name:"OverTile",trigger:{symbol:"\\tilde"},requiredLatexArg:1},{name:"OverHat",trigger:{symbol:"\\hat"},requiredLatexArg:1},{name:"OverHat",trigger:{symbol:"\\hat"},requiredLatexArg:1},{name:"OverRightArrow",trigger:{symbol:"\\overrightarrow"},requiredLatexArg:1},{name:"OverLeftArrow",trigger:{symbol:"\\overleftarrow"},requiredLatexArg:1},{name:"OverRightDoubleArrow",trigger:{symbol:"\\Overrightarrow"},requiredLatexArg:1},{name:"OverLeftHarpoon",trigger:{symbol:"\\overleftharpoon"},requiredLatexArg:1},{name:"OverRightHarpoon",trigger:{symbol:"\\overrightharpoon"},requiredLatexArg:1},{name:"OverLeftRightArrow",trigger:{symbol:"\\overleftrightarrow"},requiredLatexArg:1},{name:"OverBrace",trigger:{symbol:"\\overbrace"},requiredLatexArg:1},{name:"OverLineSegment",trigger:{symbol:"\\overlinesegment"},requiredLatexArg:1},{name:"OverGroup",trigger:{symbol:"\\overgroup"},requiredLatexArg:1}];function De(e,i){return i>2?"solidus":"radical"}function Ae(e){return"<space>"===e||"\\qquad"===e||"\\quad"===e||"\\enskip"===e||"\\;"===e||"\\,"===e||"\\ "===e||"~"===e}function Ce(e,i,n){return(t,r,o)=>{if(o>=i)return[t,null];r.skipSpace(),r.match(n),"Missing"===t&&(t=_);const s=[e,null!=t?t:_];let a=!1;for(;!a;){for(a=!0,r.skipSpace();r.match(n);)s.push(_),r.skipSpace();if(r.atEnd)s.push(_);else{const e=r.matchExpression(i);s.push(null!=e?e:_),a=null===e}a||(r.skipSpace(),a=!r.match(n))}return[null,s]}}function qe(e){return(i,n)=>xe(n).map((e=>i.serialize(e))).join(e)}const Fe=[{name:O,serialize:function(e,i){return xe(i).map((i=>{const n=ce(i);return null===n?e.serialize(i):"<{>"===n?"{":"<}>"===n?"}":"<$>"===n?"$":"<$$>"===n?"$$":"<space>'"===n?" ":n})).join("")}},{name:P,trigger:{matchfix:"("},parse:(e,i,n)=>{var t;const r=i.index;if(!i.match("("))return[e,null];let o=!1,s=!0,a=!1,l=0,u="";for(;!o&&s;){const e=i.next();i.atEnd||")"===e?o=!0:"\\mathtt"===e?(i.match("<{>"),a=!0):Ae(e)||(/^[0-9a-zA-Z]$/.test(e)?(l=Math.max(l,parseInt(e,36)),u+=e):s=!1),a&&i.match("<}>")}if(i.skipSpace(),s&&i.match("_")){const n=null!==(t=se(i.matchRequiredLatexArgument()))&&void 0!==t?t:NaN;return!isFinite(n)||n<2||n>36||l>=n?(i.onError({code:"base-out-of-range"}),[e,_]):[e,["BaseForm",parseInt(u,n),n]]}i.index=r;const c=i.matchBalancedExpression("(",")",i.onError);return c?de(c)===R?[e,[P,...xe(c)]]:[e,[P,c]]:[e,[P]]},serialize:(e,i)=>e.wrapString(qe(",")(e,i),(e.level,"paren")),separator:",",closeFence:")",precedence:20},{name:z,trigger:{matchfix:"\\lbrack"},separator:",",closeFence:"\\rbrack",precedence:20,parse:(e,i,n)=>{if(null===e){const n=i.matchBalancedExpression("\\lbrack","\\rbrack",i.onError);return n?de(n)===R?[e,[z,...xe(n)]]:[e,[z,n]]:[null,[z]]}return[e,null]}},{name:"BaseForm",serialize:(e,i)=>{var n,t;const r=null!==(n=se(Ne(i,2)))&&void 0!==n?n:NaN;if(isFinite(r)&&r>=2&&r<=36){const e=null!==(t=se(Ne(i,1)))&&void 0!==t?t:NaN;if(isFinite(e)){let i=Number(e).toString(r),n=0;if(2===r||10===r?n=4:16===r?n=2:r>16&&(n=4),n>0){const e=i;i="";for(let t=0;t<e.length;t++)t>0&&t%n==0&&(i="\\, "+i),i=e[e.length-t-1]+i}return`(\\mathtt{${i}})_{${r}}`}}return"\\operatorname{BaseForm}("+e.serialize(Ne(i,1))+", "+e.serialize(Ne(i,2))+")"}},{name:"Set",trigger:{matchfix:"\\lbrace"},separator:",",closeFence:"\\rbrace",precedence:20},{name:R,trigger:{infix:","},parse:Ce(R,20,","),serialize:qe(", "),precedence:20},{name:Z,trigger:{infix:";"},parse:Ce(Z,19,";"),serialize:qe("; "),precedence:19},{name:L,trigger:"\\placeholder",serialize:"\\placeholder",requiredLatexArg:1},{name:"Subscript",trigger:{infix:"_"},precedence:720,serialize:(e,i)=>2===we(i)?e.serialize(Ne(i,1))+"_{"+e.serialize(Ne(i,2))+"}":"_{"+e.serialize(Ne(i,1))+"}",parse:(e,i,n)=>{var t;if(!i.match("_"))return[e,null];const r=null!==(t=i.matchRequiredLatexArgument())&&void 0!==t?t:L;return e?[null,["Subscript",e,r]]:[null,["Subscript",r]]}},{name:"Superplus",trigger:{superfix:"+"}},{name:"Subplus",trigger:{subfix:"+"}},{name:"Superminus",trigger:{superfix:"-"}},{name:"Subminus",trigger:{subfix:"-"}},{name:"Superstar",trigger:{superfix:"*"}},{name:"Superstar",trigger:{superfix:"\\star"}},{name:"Substar",trigger:{subfix:"*"}},{name:"Substar",trigger:{subfix:"\\star"}},{name:"Superdagger",trigger:{superfix:"\\dagger"}},{name:"Superdagger",trigger:{superfix:"\\dag"}},{name:W,trigger:{superfix:"\\prime"},arguments:"group"},{trigger:{superfix:"\\doubleprime"},parse:(e,i)=>[null,[W,null!=e?e:_,2]],arguments:"group"},{name:$,serialize:(e,i)=>e.serialize(Ne(i,1))+"^{-1}"},{name:H,trigger:"D",parse:(e,i)=>[e,[H,1]],serialize:(e,i)=>{var n;const t=null!==(n=se(Ne(i,1)))&&void 0!==n?n:NaN;if(!isFinite(t))return"";const r=e.serialize(Ne(i,2));return 1===t?r+"^{\\prime}":2===t?r+"^{\\doubleprime}":r+"^{("+Number(t).toString()+")}"}},{name:"Piecewise",trigger:{environment:"cases"},parse:(e,i)=>{var n;return[e,["Piecewise",null!==(n=i.matchTabular())&&void 0!==n?n:_]]},serialize:(e,i)=>{if(de(Ne(i,1))!==z)return"";const n=xe(Ne(i,1));let t="",r="";for(const i of n){t+=r;const n=Ne(i,1);if(null!==n){t+=e.serialize(n);const r=Ne(i,2);null!==r&&(t+="&"+e.serialize(r))}r="\\\\"}return"\\begin{cases}"+t+"\\end{cases}"}}];function Ie(e,i){const n=se(i);return null!==n?0===n:!!e.is(["Equal",i,0])||!0!==e.is(["NotEqual",i,0])&&!0!==e.is(["Greater",i,0])&&!0!==e.is(["Less",i,0])&&null===n&&void 0}function ke(e,i){const n=Ie(e,i);return void 0===n?void 0:!n}function Pe(e,i){if(null===i)return;const n=se(i);if(null!==n&&!Number.isFinite(n))return!0;if(null!==n&&isNaN(n))return;const t=ve(i);if(t===X)return!0;if(t===L||t===_)return!1;if(e.is(i,"ComplexNumber"))return!1;const r=de(i);if("Negate"===r){if(Pe(e,Ne(i,1)))return!0}else if("Multiply"===r){const n=xe(i);if(n.some((i=>!0===Pe(e,i)))&&n.every((i=>!0===ke(e,i))))return!0}return null===n&&void 0}function Te(e,i){if(null===i)return;const n=se(i);if(null!==n)return n>0;const t=ve(i);if(t&&["Quarter","Third","Half","TwoThird","ThreeQuarter","MinusDoublePi","MinusPi","QuarterPi","ThirdPi","HalfPi","TwoThirdPi","ThreeQuarterPi","Pi","DoublePi","MachineEpsilon","CatalanConstant","GoldenRatio","EulerGamma","ExponentialE"].includes(t))return!0;if(e.is(["Greater",i,0]))return!0;if(e.is(["LessEqual",i,0]))return!1;if(e.is(["Less",i,0]))return!1;const r=de(i);if(r){if(("Cosh"===r||"Exp"===r)&&ze(0,Ne(i,1)))return!0;if("Sqrt"===r&&Te(e,Ne(i,1)))return!0;if(r===B||r===Q)return xe(i).every((i=>!0===Te(e,i)));if(r===j&&Te(e,Ne(i,1))&&Te(e,Ne(i,2)))return!0;if(r===G&&Te(e,Ne(i,1)))return!0}}function Oe(e,i){const n=Te(e,i);return!0!==n&&(void 0!==n?!1===Ie(e,i):void 0)}function ze(e,i){return null!==i&&null!==se(i)}function Le(e,i,n){var t,r,o;if(!i||!n)return!1;if("string"==typeof i&&i===n)return!0;if("Anything"===n)return!0;if("Nothing"===n)return!1;const s=de(i);if("Union"===s)return xe(i).some((i=>Le(e,i,n)));if("Intersection"===s)return xe(i).every((i=>Le(e,i,n)));if("SetMinus"===s)return Le(e,Ne(i,1),n)&&!Le(e,Ne(i,2),n);const a=de(n);if("Union"===a)return xe(n).some((n=>Le(e,i,n)));if("Intersection"===a)return xe(n).every((n=>Le(e,i,n)));if("SetMinus"===a)return Le(e,i,Ne(n,1))&&!Le(e,i,Ne(n,2));const l=null!==(t=ve(n))&&void 0!==t?t:a;if(!l){const e=null!==(r=se(n))&&void 0!==r?r:NaN;if(Number.isNaN(e))return!1;n=0===n?"NumberZero":["Set",n]}const u=e.getSetDefinition(l);if(!u)return!1;if("function"==typeof u.isSubsetOf)return u.isSubsetOf(this,i,n);const c=null!==(o=ve(i))&&void 0!==o?o:s;if(!c)return!1;const m=e.getSetDefinition(c);if(!m)return!1;for(const i of m.supersets)if(Le(e,i,n))return!0;return!1}const _e={MachineEpsilon:{domain:"RealNumber",constant:!0,value:{num:Number.EPSILON.toString()}},ImaginaryUnit:{domain:"ImaginaryNumber",constant:!0,wikidata:"Q193796"},ExponentialE:{domain:"TranscendentalNumber",wikidata:"Q82435",constant:!0,value:e=>"decimal"===e.numericFormat?m.exports.Decimal.exp(1):"complex"===e.numericFormat?f.exports.Complex.E:2.718281828459045},GoldenRatio:{domain:"IrrationalNumber",wikidata:"Q41690",constant:!0,hold:!1,value:["Divide",["Add",1,["Sqrt",5]],2]},CatalanConstant:{domain:"RealNumber",wikidata:"Q855282",constant:!0,value:{num:"0.91596559417721901505"}},EulerGamma:{domain:"RealNumber",wikidata:"Q273023",constant:!0,value:{num:"0.577215664901532860606"}},Quarter:{domain:"RationalNumber",wikidata:"Q2310416",constant:!0,hold:!1,value:[j,3,4]},Third:{domain:"RationalNumber",wikidata:"Q20021125",constant:!0,hold:!1,value:[j,1,3]},Half:{domain:"RationalNumber",wikidata:"Q2114394",constant:!0,hold:!1,value:[j,1,2]},TwoThird:{domain:"RationalNumber",constant:!0,hold:!1,value:[j,2,3]},ThreeQuarter:{domain:"RationalNumber",constant:!0,hold:!1,value:[j,3,4]},Abs:{domain:"Function",wikidata:"Q3317982",threadable:!0,idempotent:!0,numeric:!0,range:["Interval",0,1/0],evalNumber:(e,i)=>Math.abs(i),evalComplex:(e,i)=>f.exports.Complex.abs(i),evalDecimal:(e,i)=>m.exports.Decimal.abs(i)},Add:{domain:"Function",wikidata:"Q32043",associative:!0,commutative:!0,threadable:!0,idempotent:!0,range:"Number",numeric:!0,simplify:function(e,...i){var n,t;if(0===i.length)return 0;if(1===i.length)return i[0];let r=0,o=1,s=h,a=f.exports.Complex.ZERO,l=!1,u=!1;const c=[];for(const n of i){const i=ve(n);if(i===L||i===_)return NaN;if(i===X)return X;Pe(e,n)&&(Te(e,n)?l=!0:u=!0);const[t,m]=me(n);if(null!==t&&null!==m){if(isNaN(t)||isNaN(m))return NaN;r=r*m+t*o,o*=m}else{const i=ae(n);if(null!==i)Number.isInteger(i.re)&&Number.isInteger(i.im)?a=a.add(i):c.push(n);else{const i=ue(n);if(null!==i&&i.isInteger())s=s.add(i);else{const i=se(n);null!==i&&Number.isInteger(i)?r+=i:!1!==ke(e,n)&&c.push(n)}}}}if(l&&u)return NaN;if(l)return 1/0;if(u)return-1/0;if(s.isZero()||c.push(s),a.isZero()||c.push(a),0===c.length)return 0===r?0:1===o?r:["Divide",r,o];if(0!==r){const e=C(r,o);r/=e,o/=e,1===o?c.push(r):c.push(["Divide",r,o])}return 1===c.length?c[0]:2===c.length&&de(c[1])===U?["Subtract",c[0],null!==(n=Ne(c[1],1))&&void 0!==n?n:L]:2===c.length&&de(c[0])===U?["Subtract",c[1],null!==(t=Ne(c[0],1))&&void 0!==t?t:L]:["Add",...c]},evalNumber:(e,...i)=>{if(0===i.length)return 0;let n=0;for(const e of i)n+=e;return n},evalComplex:(e,...i)=>{if(0===i.length)return f.exports.Complex.ZERO;let n=f.exports.Complex.ZERO;for(const e of i)n=n.add(e);return n},evalDecimal:(e,...i)=>{if(0===i.length)return h;let n=h;for(const e of i)n=n.add(e);return n},evaluate:(e,...i)=>{if(0===i.length)return 0;let n=["Add"];const t=i.filter((e=>e instanceof m.exports.Decimal));t.length>0&&(1===t.length?n.push(t[0]):n.push(e.N(["Add",...t])));const r=i.filter((e=>e instanceof f.exports.Complex));r.length>0&&(1===r.length?n.push(r[0]):n.push(e.N(["Add",...r])));const o=i.filter((e=>"number"==typeof e));o.length>0&&(1===o.length?n.push(o[0]):n.push(e.N(["Add",...o])));const s=i.filter((e=>!("number"==typeof e||e instanceof m.exports.Decimal||e instanceof f.exports.Complex)));return n=[...n,...s],0===n.length?0:1===n.length?n[1]:n}},Chop:{domain:"Function",associative:!0,threadable:!0,idempotent:!0,numeric:!0,range:"Number",evalNumber:(e,i)=>e.chop(i),evalComplex:(e,i)=>e.chop(i),evalDecimal:(e,i)=>e.chop(i)},Ceil:{domain:"Function",range:"Number",numeric:!0,evalNumber:(e,i)=>Math.ceil(i),evalComplex:(e,i)=>f.exports.Complex.ceil(i),evalDecimal:(e,i)=>m.exports.Decimal.ceil(i)},Divide:{domain:"Function",range:"Number",numeric:!0,evalNumber:(e,i,n)=>i/n,evalComplex:(e,i,n)=>"number"==typeof i?new f.exports.Complex(i).div(n):i.div(n),evalDecimal:(e,i,n)=>m.exports.Decimal.div(i,n)},Exp:{domain:["ContinuousFunction","MonotonicFunction"],wikidata:"Q168698",threadable:!0,range:"Number",numeric:!0,evalNumber:(e,i)=>Math.exp(i),evalComplex:(e,i)=>"number"==typeof i?new f.exports.Complex(i).exp():i.exp(),evalDecimal:(e,i)=>m.exports.Decimal.exp(i)},Erf:{domain:["ContinuousFunction","MonotonicFunction"],range:"Number",numeric:!0},Erfc:{domain:["ContinuousFunction","MonotonicFunction"],range:"Number",numeric:!0},Factorial:{wikidata:"Q120976",domain:"MonotonicFunction",range:"Integer",numeric:!0,evalNumber:(e,i)=>function(e){if(!Number.isInteger(e)||e<0)return NaN;let i=1;for(let n=2;n<=e;n++)i*=n;return i}(i),evalComplex:(e,i)=>"number"==typeof i?new f.exports.Complex(i+1):i.add(1),evalDecimal:(e,i)=>y(i)},Floor:{domain:"Function",wikidata:"Q56860783",range:"Number",numeric:!0,evalNumber:(e,i)=>Math.floor(i),evalDecimal:(e,i)=>m.exports.Decimal.floor(i)},Gamma:{domain:"Function",wikidata:"Q190573",range:"Number",numeric:!0,evalNumber:(e,i)=>k(i),evalDecimal:(e,i)=>M(i)},LogGamma:{domain:"Function",range:"Number",numeric:!0,evalNumber:(e,i)=>I(i),evalDecimal:(e,i)=>S(i)},Ln:{domain:"Function",wikidata:"Q11197",range:"Number",numeric:!0,evalNumber:(e,i)=>Math.log(i),evalComplex:(e,i)=>"number"==typeof i?new f.exports.Complex(i).log():i.log(),evalDecimal:(e,i)=>m.exports.Decimal.log(i)},Log:{domain:"Function",range:"Number",numeric:!0,evalNumber:(e,i,n)=>Math.log(n)/Math.log(i),evalComplex:(e,i,n)=>{const t="number"==typeof i?new f.exports.Complex(i):i;return("number"==typeof n?new f.exports.Complex(n):n).log().div(t.log())},evalDecimal:(e,i,n)=>m.exports.Decimal.log(n).div(m.exports.Decimal.log(i))},Lb:{domain:"Function",wikidata:"Q581168",range:"Number",numeric:!0,evalNumber:(e,i)=>Math.log2(i),evalComplex:(e,i,n)=>("number"==typeof n?new f.exports.Complex(n):n).log().div(f.exports.Complex.log(2)),evalDecimal:(e,i)=>m.exports.Decimal.log(i).div(m.exports.Decimal.log(2))},Lg:{domain:"Function",wikidata:"Q966582",range:"Number",numeric:!0,evalNumber:(e,i)=>Math.log10(i),evalComplex:(e,i,n)=>("number"==typeof n?new f.exports.Complex(n):n).log().div(f.exports.Complex.log(10)),evalDecimal:(e,i)=>m.exports.Decimal.log(i).div(m.exports.Decimal.log(10))},Multiply:{domain:"Function",wikidata:"Q40276",associative:!0,commutative:!0,idempotent:!0,range:"Number",simplify:function(e,...i){if(0===i.length)return 1;if(1===i.length)return i[0];const n=[];let t=1,r=1,o=f.exports.Complex.ONE;for(const s of i){const i=se(s);if(0===i)return 0;if(null===i||Number.isFinite(i)&&!Number.isInteger(i)){const[i,a]=[null,null];if(null!==i&&null!==a)t*=i,r*=a;else{const i=ae(s);if(null!==i)Number.isInteger(i.re)&&Number.isInteger(i.im)?o=o.mul(i):n.push(s);else{if(Ie(e,s))return 0;n.push(s)}}}else t*=i}return 0!==o.im?(o=o.mul(t),t=1):(t*=o.re,o=f.exports.Complex.ONE),0!==t&&isFinite(t)?(o.equals(f.exports.Complex.ONE)||n.push(["Complex",o.re,o.im]),0===n.length?1===r?t:["Divide",t,r]:(1!==r&&(n.unshift(["Divide",t,r]),t=1,r=1),1===n.length&&1===t?n[0]:1===n.length&&-1===t?["Negate",n[0]]:1===t?["Multiply",...n]:-1===t?["Negate",["Multiply",...n]]:["Multiply",t,...n])):t/r},numeric:!0,evalNumber:function(e,...i){if(0===i.length)return 1;if(1===i.length)return i[0];let n=1;for(const e of i)n*=e;return n},evalComplex:(e,...i)=>{if(0===i.length)return f.exports.Complex.ONE;let n=f.exports.Complex.ONE;for(const e of i)n=n.mul(e);return n},evalDecimal:(e,...i)=>{if(0===i.length)return p;let n=p;for(const e of i)n=n.mul(e);return n},evaluate:(e,...i)=>{if(0===i.length)return 0;let n=["Multiply"];const t=i.filter((e=>e instanceof m.exports.Decimal));t.length>0&&(1===t.length?n.push(t[0]):n.push(e.N(["Multiply",...t])));const r=i.filter((e=>e instanceof f.exports.Complex));r.length>0&&(1===r.length?n.push(r[0]):n.push(e.N(["Multiply",...r])));const o=i.filter((e=>"number"==typeof e));o.length>0&&(1===o.length?n.push(o[0]):n.push(e.N(["Multiply",...o])));const s=i.filter((e=>!("number"==typeof e||e instanceof m.exports.Decimal||e instanceof f.exports.Complex)));return n=[...n,...s],0===n.length?1:1===n.length?n[1]:n}},Negate:{domain:"Function",wikidata:"Q715358",range:"Number",simplify:(e,i)=>{var n;return null!==(n=Re(i))&&void 0!==n?n:["Negate",i]},numeric:!0,evalNumber:(e,i)=>-i,evalComplex:(e,i)=>"number"==typeof i?new f.exports.Complex(-i):i.neg(),evalDecimal:(e,i)=>"number"==typeof i?new m.exports.Decimal(-i):i.neg()},Power:{domain:"Function",wikidata:"Q33456",commutative:!1,numeric:!0,range:"Number",simplify:(e,...i)=>Qe(e,["Power",...i]),evalNumber:(e,i,n)=>Math.pow(i,n),evalComplex:(e,i,n)=>{const t="number"==typeof i?new f.exports.Complex(i):i,r="number"==typeof n?new f.exports.Complex(n):n;return f.exports.Complex.pow(t,r)},evalDecimal:(e,i,n)=>m.exports.Decimal.pow(i,n)},Round:{domain:"Function",range:"Number",numeric:!0,evalNumber:(e,i)=>Math.round(i),evalComplex:(e,i)=>"number"==typeof i?new f.exports.Complex(i).round():i.round(),evalDecimal:(e,i)=>m.exports.Decimal.round(i)},Sign:{domain:"Function",range:["Range",-1,1],numeric:!0,simplify:(e,i)=>Ie(e,i)?0:Oe(e,i)?-1:1,evalNumber:(e,i)=>0===i?0:i<0?-1:1,evalComplex:(e,i)=>{const n="number"==typeof i?new f.exports.Complex(i):i;return n.div(n.abs())},evalDecimal:(e,i)=>"number"==typeof i?0===i?h:i<0?g:p:i.isZero()?h:i.isNeg()?g:p},SignGamma:{domain:"Function",range:"Number",numeric:!0},Sqrt:{domain:"Function",wikidata:"Q134237",range:"Number",numeric:!0,evalNumber:(e,i)=>Math.sqrt(i),evalComplex:(e,i)=>"number"==typeof i?new f.exports.Complex(i).sqrt():i.sqrt(),evalDecimal:(e,i)=>m.exports.Decimal.sqrt(i)},Square:{domain:"Function",wikidata:"Q3075175",range:"Number",numeric:!0,evalNumber:(e,i)=>i*i,evalComplex:(e,i)=>"number"==typeof i?new f.exports.Complex(i).multiply(i):i.mul(i),evalDecimal:(e,i)=>m.exports.Decimal.mul(i,i)},Root:{domain:"Function",commutative:!1,range:"Number",numeric:!0,evalNumber:(e,i,n)=>Math.pow(i,1/n),evalComplex:(e,i,n)=>{const t="number"==typeof i?new f.exports.Complex(i):i,r="number"==typeof n?new f.exports.Complex(1/n):new f.exports.Complex(f.exports.Complex.ONE.div(n));return f.exports.Complex.pow(t,r)},evalDecimal:(e,i,n)=>m.exports.Decimal.pow(i,p.div(n))},Subtract:{domain:"Function",wikidata:"Q32043",range:"Number",numeric:!0,evalNumber:(e,i,n)=>i-n,evalComplex:(e,i,n)=>"number"==typeof i?new f.exports.Complex(i).sub(n):i.sub(n),evalDecimal:(e,i,n)=>m.exports.Decimal.sub(i,n)}};function Re(e){var i,n,t,r;if("number"==typeof(e=Ze(e)))return-e;if(e&&ie(e))return"-"===e.num[0]?{num:e.num.slice(1)}:"+"===e.num[0]?{num:"-"+e.num.slice(1)}:{num:"-"+e.num};if(e instanceof m.exports.Decimal)return e.mul(-1);if(e instanceof f.exports.Complex)return e.mul(-1);const o=de(e),s=we(e);if(o===U&&1===s)return null!==(i=Ne(e,1))&&void 0!==i?i:L;if(o===B){const i=Re(null!==(n=Ne(e,1))&&void 0!==n?n:L);return[B,i,...xe(e).slice(1)]}return o===Q?[Q,...be(e,Re)]:o===J?[J,null!==(t=Ne(e,2))&&void 0!==t?t:L,null!==(r=Ne(e,1))&&void 0!==r?r:L]:o===P&&1===s?Re(Ne(Ne(e,1),1)):[U,null!=e?e:L]}function Ze(e){return null===e?_:ge(e)?e:pe(e)===P&&1===we(e)?Ze(Ne(e,1)):ye(e,Ze)}function Qe(e,i){var n,t;if(2!==we(i=Ze(i)))return i;const r=Ne(i,1),o=null!==(n=se(r))&&void 0!==n?n:NaN,s=Ne(i,2);if("ComplexInfinity"===ve(s))return NaN;const a=null!==(t=se(s))&&void 0!==t?t:NaN;if(Ie(e,s))return 1;if(1===a)return r;if(2===a)return["Square",r];if(-1===a)return-1===o||1===o?-1:Number.isFinite(o)?["Divide",1,r]:0;if(!Number.isFinite(a)){if(0===o&&a<0)return"ComplexInfinity";if(1===o||-1===o)return NaN;if(o===1/0){if(a>0)return 1/0;if(a<0)return 0}if(o===-1/0&&!Number.isFinite(a))return NaN}return i}function He(e){if(ge(e))return e;let[i,n]=me(e);return 3===i&&4===n?"ThreeQuarter":2===i&&3===n?"TwoThird":1===i&&2===n?"Half":1===i&&4===n?"Quarter":([i,n]=fe(e,"Pi"),null===i||null===n?ye(e,(e=>He(e))):-2===i&&1===n?"MinusDoublePi":-1===i&&2===n?"MinusHalfPi":1===i&&4===n?"QuarterPi":1===i&&3===n?"ThirdPi":1===i&&2===n?"HalfPi":2===i&&3===n?"TwoThirdPi":3===i&&4===n?"ThreeQuarterPi":2===i&&1===n?"DoublePi":1===i&&1===n?"Pi":1===i?["Divide","Pi",n]:1===n?["Multiply",i,"Pi"]:["Multiply",["Divide",i,n],"Pi"])}function je(e,i,n,t){return null===n?"\\sqrt{}":(t=null!=t?t:2,"solidus"===i?e.wrapShort(n)+"^{1\\/"+e.serialize(t)+"}":"quotient"===i?e.wrapShort(n)+"^{\\frac{1}{"+e.serialize(t)+"}}":2===se(t)?"\\sqrt{"+e.serialize(n)+"}":"\\sqrt["+e.serialize(t)+"]{"+e.serialize(n)+"}")}function $e(e,i,n){if(!i.match("\\sqrt"))return[e,null];const t=i.matchOptionalLatexArgument(),r=i.matchRequiredLatexArgument();return null===r?null!==t?[e,[V,_,t]]:[e,[Y]]:null!==t?[e,[V,r,t]]:[e,[Y,r]]}function Be(e,i,n){if(276<n)return[e,null];const t=i.index;if(!i.match("-"))return[e,null];const r=i.matchExpression(null===e?400:277);return null===r?(i.index=t,[e,null]):null===e?[null,[U,r]]:[null,[J,e,r]]}function Ue(e,i){var n;if(null===i)return"";e.level-=1;let t="";const[r,o]=function(e){var i,n,t,r,o,s;if(de(e)!==B)return[[],[]];const a=[],l=[],u=xe(e);for(const e of u)if(de(e)===G)if(de(Ne(e,2))===U){const t=null!==(i=Ne(e,1))&&void 0!==i?i:_,r=null!==(n=Ne(Ne(e,2),1))&&void 0!==n?n:_;l.push([G,t,r])}else{const i=null!==(t=se(Ne(e,2)))&&void 0!==t?t:NaN;-1===i?l.push(null!==(r=Ne(e,1))&&void 0!==r?r:_):i<0?l.push([G,null!==(o=Ne(e,1))&&void 0!==o?o:_,null!==(s=Re(Ne(e,2)))&&void 0!==s?s:_]):a.push(e)}else a.push(e);return[a,l]}(i);if(o.length>0&&(t=1===o.length&&1===o[0]?0===r.length?"1":1===r.length?e.serialize(r[0]):Ue(e,[B,...r]):e.serialize([j,1===r.length?r[0]:[B,...r],1===o.length?o[0]:[B,...o]])),t)return e.level+=1,t;let s=!1,a=null;const u=we(i)+1;let c=!1;for(let r=1;r<u;r++)if(a=Ne(i,r),null!==a){let i;"number"==typeof a||ie(a)?(i=e.serialize(a),"-1"!==i||t?("-"===i[0]&&(i=i.slice(1),s=!s),t=t?l([t,e.options.multiply,i]):i):t="-",c=!0):de(a)!==G||isNaN(null!==(n=se(Ne(a,1)))&&void 0!==n?n:NaN)?(de(a)===U&&(a=Ne(a,1),s=!s),i=e.wrap(a,390),t=t?c&&de(a)===j?l([t,"\\times",i]):e.options.invisibleMultiply?l([t,e.options.invisibleMultiply,i]):l([t,i]):i,c=!1):(t=t?l([t,e.options.multiply,e.serialize(a)]):e.serialize(a),c=!0)}return e.level+=1,s?"-"+t:t}function Ge(e,i){if(null===i)return"";if(1===we(i))return e.serialize(Ne(i,1));const n=e.level>3?"inline-solidus":"quotient";if("inline-solidus"===n||"nice-solidus"===n){const t=e.wrapShort(Ne(i,1)),r=e.wrapShort(Ne(i,2));return"nice-solidus"===n?`^{${t}}\\!\\!/\\!_{${r}}`:`${t}\\/${r}`}return"reciprocal"===n?e.wrap(Ne(i,1))+e.wrap(Ne(i,2))+"^{-1}":"factor"===n?"\\frac{1}{"+e.serialize(Ne(i,2))+"}"+e.wrap(Ne(i,1)):"\\frac{"+e.serialize(Ne(i,1))+"}{"+e.serialize(Ne(i,2))+"}"}function We(e,i){var n;const t=Ne(i,1),r=Ne(i,2);if(null===r)return e.serialize(t);if(null===t)return"";const o=de(i);if(o===Y||o===V)return je(e,De(0,e.level),Ne(i,1),Ne(i,2));const s=null!==(n=se(r))&&void 0!==n?n:1;if(-1===s)return e.serialize([j,"1",t]);if(s<0)return e.serialize([j,"1",[G,t,-s]]);if(de(r)===j){if(1===se(Ne(r,1)))return je(e,De(0,e.level),t,Ne(r,2))}else if(de(r)===G&&-1===se(Ne(r,2)))return je(e,De(0,e.level),t,Ne(r,1));return e.wrapShort(t)+"^{"+e.serialize(r)+"}"}function Ve(e,i,n){var t;const r=i.next();let o=!1,s=0;if(i.skipSpace(),i.match("^")){if(i.skipSpace(),i.match("<{>")){i.skipSpace(),i.match("-")&&i.match("1")&&(o=!0);do{i.match("\\doubleprime")&&(s+=2),i.match("\\prime")&&(s+=1),i.match("'")&&(s+=1)}while(!i.match("<}>")&&!i.atEnd)}let e=!1;for(;!e;)i.skipSpace(),i.match("\\doubleprime")?s+=2:i.match("\\prime")||i.match("'")?s+=1:e=!0}let a=null!==(t={"\\arcsin":"Arcsin","\\arccos":"Arccos","\\arctan":"Arctan","\\arctg":"Arctan","\\arcctg":"Arctan","\\arcsec":"Arcsec","\\arccsc":" Arccsc","\\arsinh":"Arsinh","\\arcosh":"Arcosh","\\artanh":"Artanh","\\arcsech":"Arcsech","\\arccsch":"Arcsch","\\ch":"Cosh","\\cos":"Cos","\\cosec":"Csc","\\cosh":"Csch","\\cot":"Cot","\\cotg":"Cot","\\coth":"Coth","\\csc":"Csc","\\ctg":"Cot","\\cth":"Coth","\\sec":"Sec","\\sin":"Sin","\\sinh":"Sinh","\\sh":"Sinh","\\tan":"Tan","\\tanh":"Tanh","\\tg":"Tan","\\th":"Tanh"}[r])&&void 0!==t?t:r;o&&(a=[$,a]),s>=1&&(a=[H,s,a]);const l=i.matchArguments("implicit");return null===l?[null,a]:[null,[a,...l]]}function Ye(e){return u(e)}const Je={algebra:[{name:"To",trigger:{infix:"\\to"},precedence:270}],arithmetic:[{name:"ThreeQuarter",serialize:"\\frac{3}{4}"},{name:"TwoThird",serialize:"\\frac{2}{3}"},{name:"Half",serialize:"\\frac{1}{2}"},{name:"Third",serialize:"\\frac{1}{3}"},{name:"Quarter",serialize:"\\frac{1}{4}"},{name:"CatalanConstant",serialize:"G"},{name:"GoldenRatio",serialize:"\\varphi"},{name:"EulerGamma",serialize:"\\gamma"},{name:"Degrees",serialize:"\\frac{\\pi}{180}"},{name:"MinusDoublePi",serialize:"-2\\pi"},{name:"MinusPi",serialize:"-\\pi"},{name:"MinusHalfPi",serialize:"-\\frac{\\pi}{2}"},{name:"QuarterPi",serialize:"\\frac{\\pi}{4}"},{name:"ThirdPi",serialize:"\\frac{\\pi}{3}"},{name:"HalfPi",serialize:"\\frac{\\pi}{2}"},{name:"TwoThirdPi",serialize:"\\frac{2\\pi}{3}"},{name:"ThreeQuarterPi",serialize:"\\frac{3\\pi}{4}"},{name:"DoublePi",serialize:"2\\pi"},{name:"Complex",precedence:275,serialize:(e,i)=>{const n=se(Ne(i,1)),t=se(Ne(i,2));if(0===t)return e.serialize(Ne(i,1));const r=1===t?"\\imaginaryI":-1===t?"-\\imaginaryI":l([e.serialize(Ne(i,2)),"\\imaginaryI"]);return 0===n?r:l([e.serialize(Ne(i,1)),"+",r])}},{name:"Exp",serialize:(e,i)=>{var n;return l(["\\exponentialE^{",e.serialize(null!==(n=Ne(i,1))&&void 0!==n?n:_),"}"])}},{name:"Square",serialize:(e,i)=>e.wrapShort(Ne(i,1))+"^2"},{trigger:{symbol:"\\infty"},parse:{num:"+Infinity"}},{name:X,trigger:{symbol:["\\tilde","\\infty"]},serialize:"\\tilde\\infty"},{name:X,trigger:{symbol:["\\tilde","<{>","\\infty","<}>"]},serialize:"\\tilde\\infty"},{name:"Pi",trigger:{symbol:"\\pi"}},{name:"Pi",trigger:{symbol:"π"},serialize:"\\pi"},{name:K,trigger:{symbol:"e"},serialize:"e"},{name:ee,trigger:{symbol:"i"},serialize:"\\imaginaryI"},{name:ee,trigger:{symbol:"\\imaginaryI"}},{name:Q,trigger:{prefix:"+",infix:"+"},parse:function(e,i,n){if(275<n)return[e,null];const t=i.index;if(!i.match("+"))return[e,null];const r=i.matchExpression(null===e?400:275);return null===r?(i.index=t,[e,null]):null===e?[null,r]:i.applyOperator(Q,e,r)},serialize:function(e,i){var n,t;e.level-=1;const r=de(i);let o="",s=Ne(i,1),a=!Number.isNaN(null!==(n=se(s))&&void 0!==n?n:NaN);if(r===U)o="-"+e.wrap(s,276);else if(r===Q){o=e.serialize(s);const n=we(i)+1;for(let r=2;r<n;r++){s=Ne(i,r);const n=null!==(t=se(s))&&void 0!==t?t:NaN,l=!Number.isNaN(n);let u=!1;if(null!==s&&a){const[i,n]=me(s);null!==i&&null!==n&&isFinite(i)&&isFinite(n)&&1!==n&&(o+=e.options.invisiblePlus+e.serialize(s),u=!0)}if(!u)if(n<0)o+=e.serialize(s);else if(de(s)===U)o+=e.wrap(s,275);else{const i=e.wrap(s,275);"-"===i[0]||"+"===i[0]?o+=i:o=o+"+"+i}a=l}}else if(r===J){const n=Ne(i,2);o=null!==n?e.wrap(s,275)+"-"+e.wrap(n,275):e.wrap(s,275)}return e.level+=1,o},associativity:"both",precedence:275},{name:U,trigger:{prefix:"-"},parse:Be,associativity:"left",precedence:275},{name:J,trigger:{infix:"-"},parse:Be,associativity:"both",precedence:275},{name:"PlusMinus",trigger:{infix:"\\pm"},associativity:"both",precedence:270},{name:"MinusPlus",trigger:{infix:"\\mp"},associativity:"both",precedence:270},{name:B,trigger:{infix:"\\times"},serialize:Ue,associativity:"both",precedence:390},{name:B,trigger:{infix:"\\cdot"},serialize:Ue,associativity:"both",precedence:390},{name:B,trigger:{infix:"*"},serialize:Ue,associativity:"both",precedence:390},{name:j,trigger:"\\frac",parse:function(e,i,n){var t,r,o,s;if(!i.match("\\frac"))return[e,null];const a=null!==(t=i.matchRequiredLatexArgument())&&void 0!==t?t:L,l=null!==(r=i.matchRequiredLatexArgument())&&void 0!==r?r:L;if("PartialDerivative"===de(a)&&("PartialDerivative"===de(l)||de(l)===B&&"PartialDerivative"===de(Ne(l,1)))){const n=null!==(o=Ne(a,3))&&void 0!==o?o:_;let t=Ne(a,1);null!==t&&t!==_||(t=null!==(s=i.matchExpression())&&void 0!==s?s:_);let r=[];if(de(l)===B){for(const e of xe(l))if("PartialDerivative"===pe(e)){const i=Ne(e,2);i&&r.push(i)}}else{const e=Ne(l,2);e&&r.push(e)}return r.length>1&&(r=[z,...r]),[e,["PartialDerivative",t,r,n===_?1:n]]}return[e,[j,a,l]]},serialize:Ge,requiredLatexArg:2},{name:j,trigger:{infix:"\\/"},serialize:Ge,associativity:"non",precedence:660},{name:j,trigger:{infix:"/"},serialize:Ge,associativity:"non",precedence:660},{name:j,trigger:{infix:"\\div"},serialize:Ge,associativity:"non",precedence:660},{name:G,trigger:{infix:"^"},associativity:"non",precedence:720,serialize:We},{name:G,trigger:{infix:["*","*"]},associativity:"non",precedence:720,serialize:We},{name:Y,trigger:"\\sqrt",optionalLatexArg:1,requiredLatexArg:1,parse:$e,serialize:We},{name:V,trigger:"\\sqrt",optionalLatexArg:1,requiredLatexArg:1,parse:$e},{name:"Norm",trigger:{matchfix:"\\lVert"},closeFence:"\\rVert"},{name:"Norm",trigger:{matchfix:"\\|"},closeFence:"\\|"},{name:"Norm",trigger:{matchfix:["|","|"]},closeFence:["|","|"]},{name:"Abs",trigger:{matchfix:"|"},closeFence:"|"},{name:"Abs",trigger:{matchfix:"\\lvert"},closeFence:"\\rvert"},{name:"Factorial",trigger:{postfix:"!"},precedence:810},{name:"Factorial2",trigger:{postfix:["!","!"]},precedence:810},{name:"Lcm",trigger:{symbol:["\\operatorname","<{>","l","c","m","<}>"]}},{name:"Gcd",trigger:{symbol:["\\operatorname","<{>","g","c","d","<}>"]}},{name:"Ceil",trigger:{symbol:["\\operatorname","<{>","c","e","i","l","<}>"]}},{name:"Floor",trigger:{symbol:["\\operatorname","<{>","f","l","o","o","r","<}>"]}},{name:"Round",trigger:{symbol:["\\operatorname","<{>","r","o","u","n","d","<}>"]}},{name:"Sign",trigger:{symbol:["\\operatorname","<{>","s","g","n","<}>"]}}],calculus:[{trigger:{symbol:"\\int"},parse:function(e,i,n){if(!i.match("\\int"))return[e,null];let t=_,r=_,o=!1;for(;!o;)i.skipSpace(),i.match("_")?r=i.matchRequiredLatexArgument():i.match("^")?t=i.matchRequiredLatexArgument():o=!0;const s=i.matchBalancedExpression("<{>","<}>");return[e,["Integral",null!=s?s:"",null!=t?t:_,null!=r?r:_]]},serialize:function(e,i){return""}}],core:Fe,inequalities:[{name:"NotLess",trigger:{infix:["!","<"]},associativity:"right",precedence:246},{name:"NotLess",trigger:{infix:"\\nless"},associativity:"right",precedence:246},{name:"Less",trigger:{infix:"<"},associativity:"right",precedence:245},{name:"Less",trigger:{infix:"\\lt"},associativity:"right",precedence:245},{name:"LessEqual",trigger:{infix:["<","="]},associativity:"right",precedence:241},{name:"LessEqual",trigger:{infix:"\\le"},associativity:"right",precedence:241},{name:"LessEqual",trigger:{infix:"\\leq"},associativity:"right",precedence:241},{name:"LessEqual",trigger:{infix:"\\leqslant"},associativity:"right",precedence:265},{name:"LessNotEqual",trigger:{infix:"\\lneqq"},associativity:"right",precedence:260},{name:"NotLessNotEqual",trigger:{infix:"\\nleqq"},associativity:"right",precedence:260},{name:"LessOverEqual",trigger:{infix:"\\leqq"},associativity:"right",precedence:265},{name:"GreaterOverEqual",trigger:{infix:"\\geqq"},associativity:"right",precedence:265},{name:"Equal",trigger:{infix:"="},associativity:"right",precedence:260},{name:"StarEqual",trigger:{infix:["*","="]},associativity:"right",precedence:260},{name:"StarEqual",trigger:{infix:["\\star","="]},associativity:"right",precedence:260},{name:"PlusEqual",trigger:{infix:["+","="]},associativity:"right",precedence:260},{name:"MinusEqual",trigger:{infix:["-","="]},associativity:"right",precedence:260},{name:"SlashEqual",trigger:{infix:["/","="]},associativity:"right",precedence:260},{name:"EqualEqual",trigger:{infix:["=","="]},associativity:"right",precedence:260},{name:"EqualEqualEqual",trigger:{infix:["=","=","="]},associativity:"right",precedence:265},{name:"TildeFullEqual",trigger:{infix:"\\cong"},associativity:"right",precedence:260},{name:"NotTildeFullEqual",trigger:{infix:"\\ncong"},associativity:"right",precedence:260},{name:"Assign",trigger:{infix:[":","="]},associativity:"right",precedence:260},{name:"Assign",trigger:{infix:"\\coloneq"},associativity:"right",precedence:260},{name:"Approx",trigger:{infix:"\\approx"},associativity:"right",precedence:247},{name:"NotApprox",trigger:{infix:"\\approx"},associativity:"right",precedence:247},{name:"ApproxEqual",trigger:{infix:"\\approxeq"},associativity:"right",precedence:260},{name:"NotApproxEqual",trigger:{infix:["!","\\approxeq"]},associativity:"right",precedence:250},{name:"NotEqual",trigger:{infix:"\\ne"},associativity:"right",precedence:255},{name:"Unequal",trigger:{infix:["!","="]},associativity:"right",precedence:260},{name:"GreaterEqual",trigger:{infix:"\\ge"},associativity:"right",precedence:242},{name:"GreaterEqual",trigger:{infix:"\\geq"},associativity:"right",precedence:242},{name:"GreaterEqual",trigger:{infix:[">","="]},associativity:"right",precedence:243},{name:"GreaterEqual",trigger:{infix:"\\geqslant"},associativity:"right",precedence:265},{name:"GreaterNotEqual",trigger:{infix:"\\gneqq"},associativity:"right",precedence:260},{name:"NotGreaterNotEqual",trigger:{infix:"\\ngeqq"},associativity:"right",precedence:260},{name:"Greater",trigger:{infix:">"},associativity:"right",precedence:245},{name:"Greater",trigger:{infix:"\\gt"},associativity:"right",precedence:245},{name:"NotGreater",trigger:{infix:"\\ngtr"},associativity:"right",precedence:244},{name:"NotGreater",trigger:{infix:["!",">"]},associativity:"right",precedence:244},{name:"RingEqual",trigger:{infix:"\\circeq"},associativity:"right",precedence:260},{name:"TriangleEqual",trigger:{infix:"\\triangleq"},associativity:"right",precedence:260},{name:"DotEqual",trigger:{infix:"\\doteq"},associativity:"right",precedence:265},{name:"DotEqualDot",trigger:{infix:"\\doteqdot"},associativity:"right",precedence:265},{name:"FallingDotEqual",trigger:{infix:"\\fallingdotseq"},associativity:"right",precedence:265},{name:"RisingDotEqual",trigger:{infix:"\\fallingdotseq"},associativity:"right",precedence:265},{name:"QuestionEqual",trigger:{infix:"\\questeq"},associativity:"right",precedence:260},{name:"Equivalent",trigger:{infix:"\\equiv"},associativity:"right",precedence:260},{name:"MuchLess",trigger:{infix:"\\ll"},associativity:"right",precedence:260},{name:"MuchGreater",trigger:{infix:"\\gg"},associativity:"right",precedence:260},{name:"Precedes",trigger:{infix:"\\prec"},associativity:"right",precedence:260},{name:"Succeeds",trigger:{infix:"\\succ"},associativity:"right",precedence:260},{name:"PrecedesEqual",trigger:{infix:"\\preccurlyeq"},associativity:"right",precedence:260},{name:"SucceedsEqual",trigger:{infix:"\\curlyeqprec"},associativity:"right",precedence:260},{name:"NotPrecedes",trigger:{infix:"\\nprec"},associativity:"right",precedence:260},{name:"NotSucceeds",trigger:{infix:"\\nsucc"},associativity:"right",precedence:260},{name:"Between",trigger:{infix:"\\between"},associativity:"right",precedence:265}],other:Ee,physics:[{name:"mu-0",trigger:{symbol:["\\mu","_","0"]}}],sets:[{trigger:{symbol:"\\N"},parse:"NaturalNumber"},{trigger:{symbol:"\\Z"},parse:"Integer"},{trigger:{symbol:"\\Q"},parse:"RationalNumber"},{trigger:{symbol:["\\mathbb","<{>","A","<}>"]},parse:"AlgebraicNumber"},{trigger:{symbol:"\\R"},parse:"RealNumber"},{trigger:{symbol:"\\C"},parse:"ComplexNumber"},{trigger:{symbol:"\\varnothing"},parse:"EmptySet"},{trigger:{symbol:"\\emptyset"},parse:"EmptySet"},{name:"Complement",trigger:{infix:"\\complement"},precedence:240},{name:"Element",trigger:{infix:"\\in"},precedence:240},{name:"Intersection",trigger:{infix:"\\Cap"},precedence:350},{name:"NotElement",trigger:{infix:"\\notin"},precedence:240},{name:"SetMinus",trigger:{infix:"\\setminus"},precedence:650},{name:"SubsetEqual",trigger:{infix:"\\subseteq"},precedence:240},{name:"SymmetricDifference",trigger:{infix:"\\triangle"},precedence:260},{name:"Union",trigger:{infix:"\\cup"},precedence:350},{name:"Contains",trigger:{infix:"\\ni"},associativity:"right",precedence:160},{name:"Subset",trigger:{infix:"\\subset"},associativity:"right",precedence:240},{name:"SquareSubset",trigger:{infix:"\\sqsubset"},associativity:"right",precedence:265},{name:"SquareSubsetEqual",trigger:{infix:"\\sqsubseteq"},associativity:"right",precedence:265},{name:"Superset",trigger:{infix:"\\supset"},associativity:"right",precedence:240},{name:"SquareSuperset",trigger:{infix:"\\sqsupset"},associativity:"right",precedence:265},{name:"SquareSupersetEqual",trigger:{infix:"\\sqsupseteq"},associativity:"right",precedence:265},{name:"NotSubset",trigger:{infix:"\\nsubset"},associativity:"right",precedence:240},{name:"NotSuperset",trigger:{infix:"\\nsupset"},associativity:"right",precedence:240},{name:"SupersetEqual",trigger:{infix:"\\supseteq"},associativity:"right",precedence:240},{name:"NotSubsetNotEqual",trigger:{infix:"\\nsubseteq"},associativity:"right",precedence:240},{name:"NotSupersetNotEqual",trigger:{infix:"\\nsupseteq"},associativity:"right",precedence:240},{name:"SubsetNotEqual",trigger:{infix:"\\subsetneq"},associativity:"right",precedence:240},{name:"SubsetNotEqual",trigger:{infix:"\\varsupsetneqq"},associativity:"right",precedence:240},{name:"SupersetNotEqual",trigger:{infix:"\\supsetneq"},associativity:"right",precedence:240},{name:"SupersetNotEqual",trigger:{infix:"\\varsupsetneq"},associativity:"right",precedence:240}],symbols:[{trigger:{symbol:"\\alpha"},parse:"α"},{trigger:{symbol:"\\beta"},parse:"β"},{trigger:{symbol:"\\gamma"},parse:"γ"},{trigger:{symbol:"\\delta"},parse:"δ"},{trigger:{symbol:"\\epsilon"},parse:"ϵ"},{trigger:{symbol:"\\varepsilon"},parse:"ε"},{trigger:{symbol:"\\zeta"},parse:"ζ"},{trigger:{symbol:"\\eta"},parse:"η"},{trigger:{symbol:"\\theta"},parse:"θ"},{trigger:{symbol:"\\vartheta"},parse:"ϑ"},{trigger:{symbol:"\\iota"},parse:"ι"},{trigger:{symbol:"\\kappa"},parse:"κ"},{trigger:{symbol:"\\varkappa"},parse:"ϰ"},{trigger:{symbol:"\\lambda"},parse:"λ"},{trigger:{symbol:"\\mu"},parse:"μ"},{trigger:{symbol:"\\nu"},parse:"ν"},{trigger:{symbol:"\\xi"},parse:"ξ"},{trigger:{symbol:"\\omicron"},parse:"ο"},{trigger:{symbol:"\\varpi"},parse:"ϖ"},{trigger:{symbol:"\\rho"},parse:"ρ"},{trigger:{symbol:"\\varrho"},parse:"ϱ"},{trigger:{symbol:"\\sigma"},parse:"σ"},{trigger:{symbol:"\\varsigma"},parse:"ς"},{trigger:{symbol:"\\tau"},parse:"τ"},{trigger:{symbol:"\\phi"},parse:"ϕ"},{trigger:{symbol:"\\varphi"},parse:"φ"},{trigger:{symbol:"\\upsilon"},parse:"υ"},{trigger:{symbol:"\\chi"},parse:"χ"},{trigger:{symbol:"\\psi"},parse:"ψ"},{trigger:{symbol:"\\omega"},parse:"ω"},{trigger:{symbol:"\\Gamma"},parse:"Γ"},{trigger:{symbol:"\\Delta"},parse:"Δ"},{trigger:{symbol:"\\Theta"},parse:"Θ"},{trigger:{symbol:"\\Lambda"},parse:"Λ"},{trigger:{symbol:"\\Xi"},parse:"Ξ"},{trigger:{symbol:"\\Pi"},parse:"Π"},{trigger:{symbol:"\\Sigma"},parse:"Σ"},{trigger:{symbol:"\\Upsilon"},parse:"Υ"},{trigger:{symbol:"\\Phi"},parse:"Φ"},{trigger:{symbol:"\\Psi"},parse:"Ψ"},{trigger:{symbol:"\\Omega"},parse:"Ω"},{trigger:{symbol:"\\digamma"},parse:"ϝ"},{trigger:{symbol:"\\aleph"},parse:"ℵ"},{trigger:{symbol:"\\beth"},parse:"ℶ"},{trigger:{symbol:"\\daleth"},parse:"ℸ"},{trigger:{symbol:"\\gimel"},parse:"ℷ"},{trigger:{symbol:"\\Finv"},parse:"Ⅎ"},{trigger:{symbol:"\\Game"},parse:"⅁"},{trigger:{symbol:"\\wp"},parse:"℘"},{trigger:{symbol:"\\eth"},parse:"ð"},{trigger:{symbol:"\\mho"},parse:"℧"},{trigger:{symbol:"\\clubsuit"},parse:"♣"},{trigger:{symbol:"\\heartsuit"},parse:"♡"},{trigger:{symbol:"\\spadesuit"},parse:"♠"},{trigger:{symbol:"\\diamondsuit"},parse:"♢"},{trigger:{symbol:"\\sharp"},parse:"♯"},{trigger:{symbol:"\\flat"},parse:"♭"},{trigger:{symbol:"\\natural"},parse:"♮"}],trigonometry:[{name:"Arcsin",trigger:"\\arcsin",arguments:"implicit",parse:Ve},{name:"Arccos",trigger:"\\arccos",arguments:"implicit",parse:Ve},{name:"Arctan",trigger:"\\arctan",arguments:"implicit",parse:Ve},{name:"Arctan",trigger:"\\arctg",arguments:"implicit",parse:Ve},{name:"Arccot",trigger:"\\arcctg",arguments:"implicit",parse:Ve},{name:"Arcsec",trigger:"\\arcsec",arguments:"implicit",parse:Ve},{name:"Arccsc",trigger:"\\arccsc",arguments:"implicit",parse:Ve},{name:"Arsinh",trigger:"\\arsinh",arguments:"implicit",parse:Ve},{name:"Arcosh",trigger:"\\arcosh",arguments:"implicit",parse:Ve},{name:"Artanh",trigger:"\\artanh",arguments:"implicit",parse:Ve},{name:"Arsech",trigger:"\\arsech",arguments:"implicit",parse:Ve},{name:"Arcsch",trigger:"\\arcsch",arguments:"implicit",parse:Ve},{name:"Cosh",trigger:"\\ch",arguments:"implicit",parse:Ve},{name:"Cosec",trigger:"\\cosec",arguments:"implicit",parse:Ve},{name:"Cosh",trigger:"\\cosh",arguments:"implicit",parse:Ve},{name:"Cot",trigger:"\\cot",arguments:"implicit",parse:Ve},{name:"Cot",trigger:"\\cotg",arguments:"implicit",parse:Ve},{name:"Coth",trigger:"\\coth",arguments:"implicit",parse:Ve},{name:"Csc",trigger:"\\csc",arguments:"implicit",parse:Ve},{name:"Cot",trigger:"\\ctg",arguments:"implicit",parse:Ve},{name:"Coth",trigger:"\\cth",arguments:"implicit",parse:Ve},{name:"Sec",trigger:"\\sec",arguments:"implicit",parse:Ve},{name:"Sinh",trigger:"\\sinh",arguments:"implicit",parse:Ve},{name:"Sinh",trigger:"\\sh",arguments:"implicit",parse:Ve},{name:"Tan",trigger:"\\tan",arguments:"implicit",parse:Ve},{name:"Tan",trigger:"\\tg",arguments:"implicit",parse:Ve},{name:"Tanh",trigger:"\\tanh",arguments:"implicit",parse:Ve},{name:"Tanh",trigger:"\\th",arguments:"implicit",parse:Ve},{name:"Cos",trigger:"\\cos",arguments:"implicit",parse:Ve},{name:"Sin",trigger:"\\sin",arguments:"implicit",parse:Ve}]},Xe={precision:15,positiveInfinity:"\\infty",negativeInfinity:"-\\infty",notANumber:"\\operatorname{NaN}",decimalMarker:".",groupSeparator:",",exponentProduct:"\\cdot",beginExponentMarker:"10^{",endExponentMarker:"}",notation:"auto",truncationMarker:"\\ldots",beginRepeatingDigits:"\\overline{",endRepeatingDigits:"}",imaginaryNumber:"\\imaginaryI"},Ke={invisibleOperator:B,skipSpace:!0,parseArgumentsOfUnknownLatexCommands:!0,parseNumbers:!0,promoteUnknownSymbols:/^[a-zA-Z]$/,promoteUnknownFunctions:/^[fg]$/,ignoreCommands:["\\displaystyle","\\!","\\:","\\enskip","\\quad","\\,","\\;","\\enspace","\\qquad","\\selectfont","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],idempotentCommands:["\\left","\\right","\\mleft","\\mright","\\middle","\\bigl","\\bigm","\\bigr","\\Bigl","\\Bigm","\\Bigr","\\biggl","\\biggm","\\biggr","\\Biggl","\\Biggm","\\Biggr"],invisiblePlusOperator:Q,preserveLatex:!1},ei={invisibleMultiply:"",invisiblePlus:"",multiply:"\\times"};function ii(e,i){var n;let t=e;for(let e=0;e<i.length;e++){let r=null!==(n=i[e])&&void 0!==n?n:"";if(/[a-zA-Z*]/.test(r[0])){const i=t.match(new RegExp("(.*)#"+Number(e+1).toString()));i&&/\\[a-zA-Z*]+/.test(i[1])&&(r=" "+r)}t=t.replace("#"+Number(e+1).toString(),r)}return t}class ni{constructor(e,i,n,t){let r;this.index=0,this.options={...Xe,...Ke,...i},this.tokens=e,this.onError=e=>t({...e,before:this.latexBefore(),after:this.latexAfter()}),this.dictionary=n,this.invisibleOperatorPrecedence=0,this.options.invisibleOperator&&(r=this.dictionary.name.get(this.options.invisibleOperator),void 0===r?t({code:"unknown-operator",arg:"invisible operator "+this.options.invisibleOperator}):void 0===r.precedence?t({code:"expected-operator",arg:"invisible operator "+this.options.invisibleOperator}):this.invisibleOperatorPrecedence=r.precedence)}clone(e,i){return new ni(this.tokens.slice(e,i),this.options,this.dictionary,this.onError)}balancedClone(e,i,n=!0){if(!this.matchAll(e))return n||this.onError({code:"syntax-error",arg:"Expected "+u(e)}),null;const t=this.index;let r=t,o=1;for(;!this.atEnd&&0!==o;)this.skipSpace(),r=this.index,this.matchAll(i)?o-=1:this.matchAll(e)?o+=1:this.next();return 0!==o?(n||this.onError({code:"unbalanced-symbols",arg:u(e)+u(i)}),this.index=t,null):this.clone(t,r)}get atEnd(){return this.index>=this.tokens.length}get peek(){return this.tokens[this.index]}latex(e,i){return u(this.tokens.slice(e,i))}latexAhead(e){return u(this.tokens.slice(this.index,this.index+e))}latexBefore(){return this.latex(0,this.index)}latexAfter(){return this.latex(this.index)}lookAhead(){let e=Math.min(this.dictionary.lookahead,this.tokens.length-this.index);const i=[];for(;e>0;)i[e]=this.latexAhead(e--);return i}peekDefinition(e){let i;i="operator"===e?this.lookAhead().map(((e,i)=>{var n,t,r,o,s;return null!==(o=null!==(t=null===(n=this.dictionary.infix[i])||void 0===n?void 0:n.get(e))&&void 0!==t?t:null===(r=this.dictionary.postfix[i])||void 0===r?void 0:r.get(e))&&void 0!==o?o:null===(s=this.dictionary.prefix[i])||void 0===s?void 0:s.get(e)})):this.lookAhead().map(((i,n)=>{var t;return null===(t=this.dictionary[e][n])||void 0===t?void 0:t.get(i)}));for(let e=i.length;e>0;e--)if(void 0!==i[e])return[i[e],e];return[null,0]}next(){return this.tokens[this.index++]}skipSpace(){if(!this.atEnd&&"<{>"===this.peek&&"<}>"===this.tokens[this.index+1])return this.index+=2,this.skipSpace(),!0;let e=!1;for(;!this.atEnd&&(this.options.ignoreCommands.includes(this.peek)||this.options.idempotentCommands.includes(this.peek));)this.index+=1,this.skipSpace(),e=!0;if(!this.options.skipSpace)return!1;for(;this.match("<space>");)e=!0;return e&&this.skipSpace(),e}match(e){return this.tokens[this.index]===e&&(this.index++,!0)}matchAll(e){let i=!0;"string"==typeof e&&(e=[e]);let n=0;do{i=this.tokens[this.index+n]===e[n++]}while(i&&n<e.length);return i&&(this.index+=n),i}matchAny(e){return e.includes(this.tokens[this.index])?this.tokens[this.index++]:""}matchWhile(e){const i=[];for(;e.includes(this.tokens[this.index]);)i.push(this.tokens[this.index++]);return i}matchSign(){let e=!1,i=!1;for(;!i;)this.skipSpace()?i=!1:this.match("-")?(e=!e,i=!1):i=!this.match("+");return e?"-":"+"}matchDecimalDigits(){let e="",i=!1;for(;!i;)if(e+=this.matchWhile(["0","1","2","3","4","5","6","7","8","9"]).join(""),i=!0,this.options.groupSeparator){const e=this.index;this.match(this.options.groupSeparator)&&(/[0-9]/.test(this.peek)?i=!1:this.index=e)}return e}matchSignedInteger(){const e=this.index,i=this.matchSign(),n=this.matchDecimalDigits();return n?("-"===i?"-":"")+n:(this.index=e,"")}matchExponent(){const e=this.index;let i="";if(this.matchAny(["e","E","d","D"])){const e=this.matchSignedInteger();e&&(i="e"+e)}if(i)return i;if(this.match("\\times")&&(this.skipSpace(),this.match("1")&&this.match("0")&&this.match("^"))){if(/[0-9]/.test(this.peek))return"e"+this.next();if(this.match("<{>")){this.skipSpace();const e=this.matchSignedInteger();if(this.skipSpace(),this.match("<}>")&&e)return"e"+e}}return this.index=e,""}matchNumber(){var e,i;if(!this.options.parseNumbers)return"";const n=this.index,t=this.matchSign();let r=this.matchDecimalDigits();if(!r)return this.index=n,"";r=("-"===t?"-":"")+r;let o=!1,s=!1;this.match(null!==(e=this.options.decimalMarker)&&void 0!==e?e:"")&&(o=!0,r+="."+(null!==(i=this.matchDecimalDigits())&&void 0!==i?i:"0"));const a=this.matchExponent();return a&&(s=!0),r?r.length+a.length>12?o||s?r+a+"d":r+"n":r+a:(this.index=n,"")}matchOperator(e,i=null,n=0){const[t,r]=this.peekDefinition(e);if(null===t)return null;if("function"==typeof t.parse){let e=null;return[i,e]=t.parse(i,this,n),null===e?null:this.applyInvisibleOperator(i,e)}let o=t.precedence;if(void 0===o||o<n)return null;o+="left"===t.associativity?1:0,this.index+=r;const s=this.matchExpression(o);return this.applyInvisibleOperator(...this.applyOperator(t.parse,i,s))}matchArguments(e){if(!e)return null;const i=this.index;let n=null;const t=this.matchMatchfixOperator();if("group"===e&&de(t)===P)n=xe(t);else if("implicit"===e)if(de(t)===P)n=xe(t);else if(null!==t)n=[t];else{const e=this.matchPrimary();null!==e&&(n=[e])}else this.index=i;return n}matchMatchfixOperator(){const[e]=this.peekDefinition("matchfix");if(null===e)return null;if("function"==typeof e.parse)return this.applyInvisibleOperator(...e.parse(null,this,0));const i="object"==typeof e.trigger?e.trigger.matchfix:e.trigger;if(!i||!e.closeFence||!e.parse)return null;const n=this.matchBalancedExpression(i,e.closeFence,this.onError);return n?[e.parse,n]:[e.parse]}matchDefinition(e){const[i,n]=this.peekDefinition(e);if("function"==typeof(null==i?void 0:i.parse)){const[,e]=i.parse(null,this,0);return[i,e]}return this.index+=n,[i,null]}matchSymbol(){var e,i,n,t;const[r,o]=this.matchDefinition("symbol");if(null!==o)return o;if(null===r){if(null===(e=this.options.promoteUnknownFunctions)||void 0===e?void 0:e.test(this.peek)){const e=this.next(),i=this.matchMatchfixOperator();return null===i?e:de(i)!==P?null:[e,...xe(i)]}return(null===(i=this.options.promoteUnknownSymbols)||void 0===i?void 0:i.test(this.peek))?this.next():this.matchUnknownLatexCommand()}const s=[],a=[];let l,u=null!==(n=r.optionalLatexArg)&&void 0!==n?n:0;for(;u>0;)l=this.matchOptionalLatexArgument(),null!==l&&a.push(l),u--;for(u=null!==(t=r.requiredLatexArg)&&void 0!==t?t:0;u>0;)l=this.matchRequiredLatexArgument(),null===l&&this.onError({code:"expected-argument"}),null!==l&&s.push(l),u--;const c=this.matchArguments(r.arguments);return null===c?0===s.length&&0===a.length?r.parse:[r.parse,...s,...a]:[r.parse,...s,...c,...a]}matchOptionalLatexArgument(){return this.skipSpace(),this.matchBalancedExpression("[","]")}matchRequiredLatexArgument(){return this.skipSpace(),this.matchBalancedExpression("<{>","<}>")||(/^[0-9]$/.test(this.peek)?parseFloat(this.next()):/^[^\\#]$/.test(this.peek)?this.next():this.matchSymbol())}matchSupsub(e){if(null===e)return null;let i=null;return this.skipSpace(),[["^","superfix"],["_","subfix"]].forEach((n=>{var t,r,o;if(null!==i)return;const[s,a]=n,l=this.index;if(!this.match(s))return;const u=this.index;let c,m=0;if(this.match("<{>")?([c,m]=this.peekDefinition(a),c?"function"==typeof c.parse?i=c.parse(e,this,0)[1]:(this.index+=m,this.match("<}>")?i=[null!==(t=c.parse)&&void 0!==t?t:c.name,e]:this.index=u):this.index=u):([c,m]=this.peekDefinition(a),c?"function"==typeof c.parse?i=c.parse(e,this,0)[1]:(this.index+=m,i=[null!==(r=c.parse)&&void 0!==r?r:c.name,e]):this.index=u),null===i&&(c=null===(o=this.dictionary.infix[1])||void 0===o?void 0:o.get(s),"function"==typeof(null==c?void 0:c.parse)?(this.index=l,i=c.parse(e,this,0)[1]):"string"==typeof(null==c?void 0:c.parse)?([e,i]=this.applyOperator(c.parse,e,this.matchRequiredLatexArgument()),i=this.applyInvisibleOperator(e,i)):i=this.applyInvisibleOperator(e,s)),null!==i){const e=this.matchArguments(null==c?void 0:c.arguments);null!==e&&(i=[i,...e])}})),i}matchPostfix(e){if(null===e)return null;const[i,n]=this.peekDefinition("postfix");return null==i?null:"function"==typeof i.parse?([,e]=i.parse(e,this,0),null===e?null:e):(this.index+=n,[i.parse,e])}matchString(){let e="",i=this.atEnd;for(;!i;){if(this.match("<space>"))e+=" ";else{const n=this.peek;"]"===n?i=!0:/^<({|}|\$|\$\$|space)>$/.test(n)?"\\"===n[0]?(this.onError({code:"unexpected-command"}),e+=this.next()):i=!0:e+=this.next()}i=i||this.atEnd}return e}matchEnvironmentName(e,i){if(this.match(e)){const e=this.index;if(this.match("<{>")){const e=this.matchString();if(this.match("<}>")&&e===i)return!0}this.index=e}return!1}matchTabular(){const e=["list"];let i=["list"],n=null,t=!1;for(;!this.atEnd&&!t;)if(this.match("&"))i.push(null!=n?n:_),n=null;else if(this.match("\\\\")||this.match("\\cr"))this.skipSpace(),this.matchOptionalLatexArgument(),null!==n&&i.push(n),e.push(i),i=["list"],n=null;else{const e=this.matchExpression();null===e&&(t=!0),n=null!==n?this.applyInvisibleOperator(n,e):e}return i.length>1&&e.push(i),e}matchEnvironment(){var e;if(this.match("\\begin")&&this.match("<{>")){const i=this.matchString();if(this.match("<}>")){const n=this.index;let t=this.index,r=1;for(;!this.atEnd&&0!==r;)t=this.index,this.matchEnvironmentName("\\begin",i)?r+=1:this.matchEnvironmentName("\\end",i)?r-=1:this.next();const o=this.dictionary.environment.get(i);return"function"==typeof(null==o?void 0:o.parse)?o.parse(null,this.clone(n,t),0)[1]:null!==(e=null==o?void 0:o.parse)&&void 0!==e?e:null}}return null}applyOperator(e,i,n){var t,r,o,s;const a=this.dictionary.name.get(e);if(void 0===a)return this.onError({code:"unknown-operator"}),[i,n];if(void 0!==(null===(t=a.trigger)||void 0===t?void 0:t.prefix)&&null===i&&null!==n)return[null,[a.name,n]];if(void 0!==(null===(r=a.trigger)||void 0===r?void 0:r.postfix)&&null!==i)return[null,[a.name,i]];if(void 0!==(null===(o=a.trigger)||void 0===o?void 0:o.matchfix)||void 0!==(null===(s=a.trigger)||void 0===s?void 0:s.infix)){if("non"===a.associativity)return[null,[e,null!=i?i:"Missing",null!=n?n:"Missing"]];if(de(i)===e){if("both"===a.associativity){if(de(n)===e){if(Array.isArray(i))return[null,i.concat(xe(n))];if(re(i))return[null,i.fn.concat(xe(n))]}else n&&(Array.isArray(i)&&i.push(n),re(i)&&i.fn.push(n));return[null,i]}return"left"===a.associativity?[null,[e,null!=i?i:L,null!=n?n:L]]:Array.isArray(i)?[null,[e,i[1],[e,i[2],null!=n?n:L]]]:(re(i)&&(i.fn[2]=[e,i.fn[2],null!=n?n:L]),[null,i])}return de(n)===e?"both"===a.associativity?(Array.isArray(n)&&i&&n.splice(1,0,i),re(n)&&i&&n.fn.splice(1,0,i),[null,n]):"right"===a.associativity?[null,[e,null!=i?i:L,null!=n?n:L]]:Array.isArray(n)?[null,[e,n[1],[e,n[2],null!=i?i:L]]]:(re(n)&&(n.fn[2]=[e,n.fn[2],null!=i?i:L]),[null,n]):[null,[e,null!=i?i:"Missing",null!=n?n:"Missing"]]}return[i,null]}applyInvisibleOperator(e,i){if(null===e)return i;if(null===i)return e;if(this.options.invisiblePlusOperator&&("number"==typeof e||ie(e))&&function(e){var i,n;const t=ve(e);if(null!==t&&["ThreeQuarter","TwoThird","Half","Third","Quarter"].includes(t))return!0;if(de(e)!==j)return!1;const r=null!==(i=se(Ne(e,1)))&&void 0!==i?i:NaN,o=null!==(n=se(Ne(e,2)))&&void 0!==n?n:NaN;return Number.isInteger(r)&&Number.isInteger(o)}(i))return[e,i]=this.applyOperator(this.options.invisiblePlusOperator,e,i),null===e?i:null;if(this.options.invisibleOperator)return[e,i]=this.applyOperator(this.options.invisibleOperator,e,i),null===e?i:null;let n=[O];return de(e)===O?n=n.concat(xe(e)):n.push(e),null!==i&&(de(i)===O?n=n.concat(xe(i)):n.push(i)),this.options.invisibleOperator&&this.onError({code:"unexpected-sequence"}),n}matchUnknownLatexCommand(){var e;const i=this.peek;if(!i||"\\"!==i[0])return null;if(this.next(),"\\operatorname"===i){if(this.skipSpace(),"<{>"===this.peek){let e="";for(this.next();!this.atEnd&&"<}>"!==this.tokens[this.index];)e+=this.next();return e}return null!==(e=this.next())&&void 0!==e?e:L}const n=[],t=[];let r=!1;do{r=!0;let e=this.matchOptionalLatexArgument();null!==e&&(n.push(e),r=!1),this.skipSpace(),"<{>"===this.peek&&(e=this.matchRequiredLatexArgument(),null!==e&&(t.push(e),r=!1))}while(!r);return n.length>0||t.length>0?[i,...t,...n]:i}matchPrimary(e){let i=null;const n=this.index,t=this.matchNumber();t&&(i={num:t}),null===i&&(i=this.matchMatchfixOperator()),null===i&&(i=this.matchEnvironment()),null===i&&(i=this.matchSymbol());let r=null;do{r=this.matchSupsub(i),i=null!=r?r:i}while(null!==r);let o=null;do{o=this.matchPostfix(i),i=null!=o?o:i}while(null!==o);return this.decorate(i,n)}matchBalancedExpression(e,i,n){const t=this.balancedClone(e,i);if(!t)return null==n||n({code:"unbalanced-symbols",arg:u(e)+u(i)}),null;const r=t.matchExpression();return t.atEnd||null==n||n({code:"unbalanced-symbols",arg:u(e)+u(i)}),r}matchExpression(e=0){let i=null;const n=this.index;this.skipSpace(),i=this.matchPrimary(e),null===i&&(i=this.matchOperator("prefix"));let t=!1;for(;!this.atEnd&&!t;){this.skipSpace();let n=this.matchOperator("infix",i,e);if(null===n&&null!==i){const[e]=this.peekDefinition("operator");if(null===e){const e=this.matchExpression(this.invisibleOperatorPrecedence);null!==e&&(n=this.applyInvisibleOperator(i,e))}}null!==n?i=n:t=!0}return this.decorate(i,n)}decorate(e,i){if(null===e)return null;if(this.options.preserveLatex){const n=this.latex(i,this.index);Array.isArray(e)?e={latex:n,fn:e}:"number"==typeof e?e={latex:n,num:Number(e).toString()}:"string"==typeof e?e={latex:n,sym:e}:"object"==typeof e&&null!==e&&(e.latex=n)}return e}}function ti(e,i){const n=e.length,t=e;e=e.slice(0,-1);for(let n=0;n<e.length-16;n++){const t=e.substr(0,n);for(let r=0;r<17;r++){const o=e.substr(n,r+1),s=Math.floor((e.length-t.length)/o.length);if(s>1&&(t+o.repeat(s+1)).startsWith(e))return"0"===o?t.replace(/(\d{3})/g,"$1"+i.groupSeparator):t.replace(/(\d{3})/g,"$1"+i.groupSeparator)+i.beginRepeatingDigits+o+i.endRepeatingDigits}}const r=n>i.precision-1;return e=t,r&&(e=e.substr(0,i.precision-1)),i.groupSeparator&&(e=e.replace(/(\d{3})/g,"$1"+i.groupSeparator)).endsWith(i.groupSeparator)&&(e=e.slice(0,-i.groupSeparator.length)),r?e+i.truncationMarker:e}function ri(e,i){var n;return e?i.beginExponentMarker?i.beginExponentMarker+e+(null!==(n=i.endExponentMarker)&&void 0!==n?n:""):"10^{"+e+"}":""}class oi{constructor(e,i,n){this.level=-1,this.options=e,e.invisibleMultiply&&(/#1/.test(e.invisibleMultiply)&&/#2/.test(e.invisibleMultiply)||n({code:"expected-argument",arg:"invisibleMultiply"})),this.onError=n,this.dictionary=i}wrap(e,i){if(null===e)return"";if(void 0===i)return"("+this.serialize(e)+")";if("number"==typeof e||ie(e)||"string"==typeof e||ne(e))return this.serialize(e);const n=de(e);if(n&&n!==P){const t=this.dictionary.name.get(n);if(t&&void 0!==t.precedence&&t.precedence<i)return this.wrapString(this.serialize(e),(this.level,"paren"))}return this.serialize(e)}wrapShort(e){if(null===e)return"";const i=this.serialize(e);return de(e)===P||"number"==typeof e||ie(e)||/(^(.|\\[a-zA-Z*]+))$/.test(i)?i:this.wrapString(i,(this.level,"paren"))}wrapString(e,i){return"none"===i?e:"("+e+")"}serializeSymbol(e,i){const n=pe(e);if(!n){if("string"==typeof(null==i?void 0:i.serialize))return i.serialize;const n=ve(e);if(null===n)return"";switch(function(e,i){const n=ve(e);return null===n?"asis":n.length>1?"upright":"asis"}(e,this.level)){case"upright":return"\\operatorname{"+n+"}";default:return n}}const t=xe(e);if(!i){if("string"==typeof n&&n.length>0&&"\\"===n[0]){let e=n;for(const i of t)e+="{"+this.serialize(i)+"}";return e}return`${this.serialize(n)}(${t.map((e=>this.serialize(e))).join(", ")})`}if(i.requiredLatexArg>0){let e="",n="",r=0;for(;r<i.requiredLatexArg;)n+="{"+this.serialize(t[r++])+"}";for(;r<Math.min(t.length,i.optionalLatexArg+i.requiredLatexArg);){const i=this.serialize(t[1+r++]);i&&(e+="["+i+"]")}return i.serialize+(e+n)}return this.level,i.serialize+this.serialize([P,...t])}serializeDictionary(e){return`\\left[\\begin{array}{lll}${Object.keys(e).map((i=>`\\textbf{${i}} & \\rightarrow & ${this.serialize(e[i])}`)).join("\\\\")}\\end{array}\\right]`}serialize(e){if(null===e)return"";this.level+=1;const i=(()=>{var i,n,t,r;const o=function(e,i){var n,t;let r;if("number"==typeof e)r=e;else{if(!ie(e))return"";r=e.num}if(r===1/0||"Infinity"===r||"+Infinity"===r)return i.positiveInfinity;if(r===-1/0||"-Infinity"===r)return i.negativeInfinity;if("NaN"===r||"number"==typeof r&&Number.isNaN(r))return i.notANumber;if("number"==typeof r)return"engineering"===i.notation?function(e,i){if(0===e)return"0";const n=Math.abs(e);let t=Math.round(Math.log10(n));t-=t%3,n<1e3&&(t=0);const r=n/Math.pow(10,t);let o="";const s=r.toString().match(/^(.*)\.(.*)$/);(null==s?void 0:s[1])&&s[2]&&(o=s[1]+i.decimalMarker+s[2]),i.groupSeparator&&(o=ti(r.toExponential(),i));let a="";return 0!==t&&(a=ri(t.toString(),i)),(e<0?"-":"")+o+a}(r,i):function(e,i){let n,t=e.match(/^(.*)[e|E]([-+]?[0-9]+)$/i);(null==t?void 0:t[1])&&t[2]&&(n=ri(t[2],i),n&&(n=i.exponentProduct+n));let r=e,o="";return t=(n?t[1]:e).match(/^(.*)\.(.*)$/),(null==t?void 0:t[1])&&t[2]&&(r=t[1],o=t[2]),i.groupSeparator&&(r=r.replace(/\B(?=(\d{3})+(?!\d))/g,i.groupSeparator),o=ti(o,i)),o&&(o=i.decimalMarker+o),r+o+(null!=n?n:"")}(r.toString(),i);/[a-zA-Z]$/.test(r)&&(r=r.slice(0,-1));let o="";for("-"===r[0]?(o="-",r=r.substr(1)):"+"===r[0]&&(r=r.substr(1));"0"===r[0];)r=r.substr(1);if(0===r.length)return o+"0";"."===r[0]&&(r="0"+r);let s="";if(r.indexOf(".")>=0){const e=r.match(/(\d*)\.(\d*)([e|E]([-+]?[0-9]*))?/);if(!e)return"";const t=e[1],a=e[2];if(s=null!==(n=e[4])&&void 0!==n?n:"","0"===t){let e=0;for(;"0"===a[e]&&e<a.length;)e+=1;let n="";if(e<=4)n="0"+i.decimalMarker,n+=a.substr(0,e),n+=ti(r.substr(n.length),i);else if(e+1>=i.precision)n="0",o="";else{n=r[e];const t=ti(r.substr(e+1),i);t&&(n+=i.decimalMarker+t)}"0"!==n&&(!(r.length-1>i.precision)||i.endRepeatingDigits&&n.endsWith(i.endRepeatingDigits)||!i.truncationMarker||n.endsWith(i.truncationMarker)||(n+=i.truncationMarker),e>4&&(n+=i.exponentProduct+ri((1-e).toString(),i))),r=n}else{r=t.replace(/\B(?=(\d{3})+(?!\d))/g,i.groupSeparator);const e=ti(a,i);e&&(r+=i.decimalMarker+e)}}else if(r.length>i.precision){const e=r.length;let n=r[0];const t=ti(r.substr(1),i);t&&(n+=i.decimalMarker+t,i.truncationMarker&&!n.endsWith(i.truncationMarker)&&i.endRepeatingDigits&&!n.endsWith(i.endRepeatingDigits)&&(n+=i.truncationMarker)),"1"!==n?n+=i.exponentProduct:n="",r=n+ri((e-1).toString(),i)}else{const e=r.match(/([0-9]*)\.?([0-9]*)([e|E]([-+]?[0-9]+))?/);e&&(r=e[1],e[2]&&(r+=i.decimalMarker+e[2]),s=null!==(t=e[4])&&void 0!==t?t:""),r=r.replace(/\B(?=(\d{3})+(?!\d))/g,i.groupSeparator)}const a=ri(s,i);return o+r+(a?i.exponentProduct+a:"")}(e,this.options);if(o)return o;const s=ce(e);if(null!==s)return`\\text{${s}}`;const a=ve(e);if(null!==a)return this.serializeSymbol(e,this.dictionary.name.get(a));const c=Se(e);if(null!==c)return this.serializeDictionary(c);const m=de(e);if(m){if("\\"===m[0]){const i=xe(e);return 0===i.length?m:m+"{"+i.map((e=>this.serialize(e))).filter((e=>Boolean(e))).join("}{")+"}"}const o=this.dictionary.name.get(m);if(o){let s="";return"function"==typeof o.serialize&&(s=o.serialize(this,e)),s||void 0===o.precedence&&!(null===(i=o.trigger)||void 0===i?void 0:i.superfix)&&!(null===(n=o.trigger)||void 0===n?void 0:n.subfix)||(s=function(e,i,n){var t,r,o,s,a;let l="";const u=we(i),c=de(i);if((null===(t=n.trigger)||void 0===t?void 0:t.superfix)||(null===(r=n.trigger)||void 0===r?void 0:r.subfix))return 1!==u&&e.onError({code:"operator-requires-one-operand",arg:e.serializeSymbol(c)}),ii(n.serialize,[e.serialize(Ne(i,1))]);if(null===(o=n.trigger)||void 0===o?void 0:o.postfix)return 1!==u&&e.onError({code:"postfix-operator-requires-one-operand",arg:e.serializeSymbol(c)}),ii(n.serialize,[e.wrap(Ne(i,1),n.precedence)]);if(null===(s=n.trigger)||void 0===s?void 0:s.prefix)return 1!==u&&e.onError({code:"prefix-operator-requires-one-operand",arg:e.serializeSymbol(c)}),ii(n.serialize,[e.wrap(Ne(i,1),n.precedence+1)]);if(null===(a=n.trigger)||void 0===a?void 0:a.infix){l=e.wrap(Ne(i,1),n.precedence);for(let t=2;t<u+1;t++){const r=Ne(i,t);null!==r&&(l=ii(n.serialize,[l,e.wrap(r,n.precedence)]))}}return l}(this,e,o)),!s&&(null===(t=o.trigger)||void 0===t?void 0:t.matchfix)&&(s=function(e,i,n){var t,r;let o=[];if("string"==typeof(null===(t=n.trigger)||void 0===t?void 0:t.matchfix)?o.push(null===(r=n.trigger)||void 0===r?void 0:r.matchfix):n.trigger&&Array.isArray(n.trigger.matchfix)&&(o=[...n.trigger.matchfix]),we(i)>=1){let t="";for(const r of xe(i))r&&(o.push(t),o.push(e.serialize(r)),t=n.separator)}return o.push(u(n.closeFence)),l(o)}(this,e,o)),!s&&(null===(r=o.trigger)||void 0===r?void 0:r.symbol)&&(s=this.serializeSymbol(e,o)),s}}if(Array.isArray(e)||re(e))return this.serializeSymbol(e);this.onError({code:"syntax-error",arg:JSON.stringify(e)})})();return this.level-=1,null!=i?i:""}}class si{constructor(e){var i,n;this.onError=null!==(i=null==e?void 0:e.onError)&&void 0!==i?i:e=>{"undefined"!=typeof window&&(!e.before||e.after)};const t={...null!=e?e:{}};delete t.dictionary,delete t.onError,this.options={...Xe,...ei,...Ke,...t},this.dictionary=function(e,i){var n,t,r,o,s,a,l,u,c,m,f,h,p,g,d;const v={lookahead:1,name:new Map,prefix:[],infix:[],postfix:[],matchfix:[],superfix:[],subfix:[],symbol:[],environment:new Map};for(const x of e)void 0===x.parse&&(x.parse=x.name),"string"==typeof x.trigger&&(x.trigger={symbol:x.trigger}),"string"==typeof x.serialize&&void 0!==(null===(n=x.trigger)||void 0===n?void 0:n.symbol)&&/#[0-9]/.test(x.serialize)&&i({code:"unexpected-argument",arg:x.name}),void 0===x.serialize&&(void 0!==(null===(t=x.trigger)||void 0===t?void 0:t.postfix)?x.serialize="#1"+Ye(x.trigger.postfix):void 0!==(null===(r=x.trigger)||void 0===r?void 0:r.prefix)?x.serialize=Ye(x.trigger.prefix)+"#1":void 0!==(null===(o=x.trigger)||void 0===o?void 0:o.infix)?x.serialize="#1"+Ye(x.trigger.infix)+"#2":void 0!==(null===(s=x.trigger)||void 0===s?void 0:s.symbol)?x.serialize=Ye(x.trigger.symbol):void 0!==(null===(a=x.trigger)||void 0===a?void 0:a.superfix)?x.serialize="#1^{"+Ye(null===(l=x.trigger)||void 0===l?void 0:l.superfix)+"}":void 0!==(null===(u=x.trigger)||void 0===u?void 0:u.subfix)?x.serialize="#1_{"+Ye(null===(c=x.trigger)||void 0===c?void 0:c.subfix)+"}":x.serialize=""),void 0!==(null===(m=x.trigger)||void 0===m?void 0:m.infix)&&(void 0===x.precedence&&i({code:"syntax-error",arg:"Infix operators require a precedence"}),x.associativity||(x.associativity="non")),void 0!==(null===(f=x.trigger)||void 0===f?void 0:f.symbol)&&(x.arguments=null!==(h=x.arguments)&&void 0!==h?h:"",x.optionalLatexArg=null!==(p=x.optionalLatexArg)&&void 0!==p?p:0,x.requiredLatexArg=null!==(g=x.requiredLatexArg)&&void 0!==g?g:0),void 0!==(null===(d=x.trigger)||void 0===d?void 0:d.matchfix)&&("function"===x.parse||x.closeFence||i({code:"syntax-error",arg:"Matchfix operators require a close fence or a custom parse function"})),void 0!==x.trigger&&(["infix","prefix","postfix","symbol","matchfix","superfix","subfix"].forEach((e=>{if(x.trigger[e]){const n=(i=x.trigger[e],Array.isArray(i)?i.length:1);v.lookahead=Math.max(v.lookahead,n),void 0===v[e][n]&&(v[e][n]=new Map),v[e][n].set(Ye(x.trigger[e]),x)}var i})),void 0!==x.trigger.environment&&v.environment.set(x.trigger.environment,x)),void 0!==x.name?v.name.set(Ye(x.name),x):"string"==typeof x.parse&&v.name.set(x.parse,x),void 0!==x.trigger||x.name||i({code:"syntax-error",arg:"Need at least a trigger or a name"});return v}(null!==(n=null==e?void 0:e.dictionary)&&void 0!==n?n:si.getDictionary(),this.onError)}static getDictionary(e="all"){if("all"===e){let e=[];for(const i of Object.keys(Je))e=[...e,...Je[i]];return e}return Je[e]?[...Je[e]]:[]}parse(e){var i;const n=new ni(a(e,[]),this.options,this.dictionary,this.onError),t=n.matchExpression();return n.atEnd||null===(i=this.onError)||void 0===i||i.call(this,{code:"syntax-error"}),null!=t?t:""}serialize(e){return new oi(this.options,this.dictionary,this.onError).serialize(e)}}class ai{constructor(e){this.signal={severity:"error",...e}}toString(){let e="";if(this.signal.head&&(e+=this.signal.head+": "),"string"==typeof this.signal.message)e+=this.signal.message;else{e+=" ";for(const i of this.signal.message)e+=i.toString()+" "}return e}}function li(e,i,n){const t=xe(i);if(t.length>0)t.forEach((i=>li(e,i,n)));else{const t=ve(i);if(t&&!n.has(t)){const i=e.getSymbolDefinition(t);i&&!1!==i.constant||n.add(t)}}}function ui(e,i){const n=new Set;return li(e,i,n),n}function ci(e){var i,n,t;let r=!0;const o=de(e);return"Not"===o?([e,r]=ci(null!==(i=Ne(e,1))&&void 0!==i?i:L),r=!r):"NotEqual"===o?(r=!1,e=["Equal",null!==(n=Ne(e,1))&&void 0!==n?n:L]):"NotElement"===o&&(r=!1,e=["Element",null!==(t=Ne(e,1))&&void 0!==t?t:L]),[e,r]}function mi(e,i){const n=de(i=e.canonical(i));if(!n)throw new ai({message:"expected-predicate"});let t=!0;if("And"===n)for(const n of xe(i)){const i=mi(e,n);if("ok"!==i)return i}else[i,t]=ci(i);const r=e.is(i);if(void 0!==r){if(r===t)return"tautology";if(r!==t)return"contradiction"}return e.assumptions.set(i,t),"ok"}const fi={Anything:[],Expression:"Anything",Domain:["Set","Symbol"],ParametricDomain:["Domain","Function"],MaybeBoolean:"Expression",Boolean:"MaybeBoolean",Collection:"Expression",Dictionary:"Collection",List:"Collection",Sequence:"Collection",Tuple:"Collection",Set:"Collection",FiniteSet:"Set",InfiniteSet:"Set",EmptySet:"FiniteSet",String:"Expression",Symbol:"String",Function:"Expression",Predicate:"Function",LogicalFunction:"Predicate",TranscendentalFunction:"Function",AlgebraicFunction:"Function",PeriodicFunction:"Function",TrigonometricFunction:["PeriodicFunction","TranscendentalFunction"],HyperbolicFunction:"TranscendentalFunction",MonotonicFunction:"Function",StrictMonotonicFunction:"MonotonicFunction",ContinuousFunction:"Function",DifferentiableFunction:"ContinuousFunction",InfinitelyDifferentiableFunction:"DifferentiableFunction",RationalFunction:["AlgebraicFunction","ContinuousFunction"],PolynomialFunction:["AlgebraicFunction","InfinitelyDifferentiableFunction"],QuadraticFunction:"PolynomialFunction",LinearFunction:["QuadraticFunction","MonotonicFunction"],ConstantFunction:"LinearFunction",Number:"Set",ImaginaryNumber:["ComplexNumber","InfiniteSet"],ComplexNumber:"ExtendedComplexNumber",ExtendedComplexNumber:"Number",ComplexInfinity:"ExtendedComplexNumber",NumberZero:["CompositeNumber","ImaginaryNumber","FiniteSet"],NaturalNumber:"Integer",CompositeNumber:"NaturalNumber",PrimeNumber:"NaturalNumber",Integer:["RationalNumber","ExtendedInteger"],ExtendedInteger:"ExtendedRationalNumber",RationalNumber:["AlgebraicNumber","ExtendedRationalNumber"],IrrationalNumber:"RealNumber",TranscendentalNumber:["IrrationalNumber","ImaginaryNumber"],AlgebraicNumber:"IrrationalNumber",RealNumber:["ComplexNumber","ExtendedRealNumber"],ExtendedRealNumber:"ExtendedComplexNumber",ExtendedNaturalNumber:"ExtendedInteger",ExtendedRationalNumber:"ExtendedRealNumber",SignedInfinity:"ExtendedNaturalNumber",Tensor:"Expression",Scalar:"Tensor",Vector:"Matrix",Row:"Vector",Column:"Vector",Matrix:"Tensor",ComplexTensor:"Tensor",RealTensor:"ComplexTensor",IntegerTensor:"RealTensor",LogicalTensor:"IntegerTensor",SquareMatrix:"Matrix",MonomialMatrix:"SquareMatrix",TriangularMatrix:"SquareMatrix",UpperTriangularMatrix:"TriangularMatrix",LowerTriangularMatrix:"TriangularMatrix",PermutationMatrix:["MonomialMatrix","LogicalTensor","OrthogonalMatrix"],OrthogonalMatrix:["SquareMatrix","RealTensor"],DiagonalMatrix:["UpperTriangularMatrix","LowerTriangularMatrix"],IdentityMatrix:["DiagonalMatrix","SymmetricMatrix","PermutationMatrix"],ZeroMatrix:["DiagonalMatrix","SymmetricMatrix","PermutationMatrix"],SymmetricMatrix:["HermitianMatrix","SquareMatrix","RealTensor"],HermitianMatrix:"ComplexTensor",Quaternion:["SquareMatrix","ComplexTensor"]},hi={Function:"Q11348",ComplexNumber:"Q26851286",Integer:"Q47007735",ImaginaryNumber:"Q47310259",NaturalNumber:"Q28920052"},pi={MaybeBoolean:["Union","Boolean",["Set","Maybe"]],NaturalNumber:["Union","CompositeNumber","PrimeNumber"],Scalar:["Intersection","Row","Column"],TriangularMatrix:["Union","UpperTriangularMatrix","LowerTriangularMatrix"],Vector:["Union","Row","Column"]},gi={Boolean:2,MaybeBoolean:3,EmptySet:0,IdentityMatrix:1,ZeroMatrix:1,NumberZero:1},di={Range:{range:"ParametricDomain",evaluate:(e,i,n)=>(i=Math.round(i),n=Math.round(n),Number.isNaN(i)||Number.isNaN(n)||i>n?"EmptySet":i===-1/0&&n===1/0?"Integer":0===i&&n===1/0?"NaturalNumber":0===i&&0===n?"NumberZero":["Range",i,n])},Interval:{range:"ParametricDomain",evaluate:(e,i,n)=>Number.isNaN(i)||Number.isNaN(n)||i>n?"EmptySet":i===-1/0&&n===1/0?"RealNumber":0===i&&0===n?"NumberZero":["Interval",i,n]}};function vi(e,i,n){if(null===i)return null;const t=Ni(e);return""===t?n:n[t]?null===yi(i,n[t])?null:n:(n[t]=i,n)}function xi(e,i,n,t){var r;const o=se(i);if(null!==o)return Math.abs(o-(null!==(r=se(e))&&void 0!==r?r:NaN))<=t.numericalTolerance?n:null;const s=ce(i);if(null!==s)return ce(e)===s?n:null;const a=Se(i);if(null!==a){const i=Object.keys(a),r=Se(e);if(null===r)return null;if(Object.keys(r).length!==i.length)return null;for(const e of i){const i=xi(r[e],a[e],n,t);if(null===i)return null;n=i}return n}const l=ve(i);if(null!==l)return l.startsWith("_")?vi(l,e,n):l===ve(e)?"object"==typeof i&&"object"==typeof e&&"wikidata"in i&&"wikidata"in e&&i.wikidata!==e.wikidata?null:n:"object"==typeof i&&"object"==typeof e&&"wikidata"in i&&"wikidata"in e&&i.wikidata===e.wikidata?n:null;const u=pe(i);if(null===u)return null;if("string"==typeof u&&u.startsWith("_"))return vi(u,pe(e),n);{const i=pe(e);if(null===i)return null;if(null===yi(u,i,t))return null}const c=xe(i),m=xe(e),f=c.length;if(f!==m.length)return null;let h={...n},p=0;for(;p<f;){const e=c[p],i=ve(e);if(null!==i)if(i.startsWith("__")){let e=0;if(void 0===c[p+1])e=m.length+1;else{let i=!1;for(;!i&&e<m.length;)i=null!==yi(c[p+1],m[e],t),e+=1;if(!i)return null}if(!i.startsWith("___")&&e<=1)return null;h=vi(i,["Sequence",...m.splice(0,e-1)],h)}else if(i.startsWith("_"))h=vi(i,m.shift(),h);else{const i=yi(e,m.shift(),t);if(null===i)return null;h={...h,...i}}else{const i=yi(e,m.shift(),t);if(null===i)return null;h={...h,...i}}if(null===h)return null;p+=1}return h}function yi(e,i,n){return xi(i,e,{},null!=n?n:{numericalTolerance:D})}function bi(e,i){var n;const t=ve(e);if(null!==t)return t.startsWith("_")&&null!==(n=i[Ni(t)])&&void 0!==n?n:e;const r=Se(e);if(null!==r){const e={};for(const n of Object.keys(r))e[n]=bi(r[n],i);return{dict:e}}const o=pe(e);if(null!==o){let n=[bi(o,i)];for(const t of xe(e)){const e=ve(t);if(null!==e&&e.startsWith("__")){const t=i[Ni(e)];void 0===t||"Sequence"!==de(t)?n.push(e):n=n.concat(xe(t))}else n.push(bi(t,i))}return n}return e}function Ni(e){const i=e.match(/^__?_?([a-zA-Z0-9]+)/);return null===i?"":i[1]}class wi{constructor(e){this._items=e?new Map(e instanceof wi?e._items:e):new Map}has(e){for(const i of this._items.keys())if(yi(e,i))return!0;return!1}get(e){for(const[i,n]of this._items)if(yi(e,i))return n}set(e,i){for(const n of this._items.keys())if(yi(e,n))return void this._items.set(n,i);this._items.set(e,i)}delete(e){this._items.delete(e)}[Symbol.iterator](){return this._items.entries()}entries(){return this._items.entries()}}const Si=["Sqrt",2],Mi=["Sqrt",3],Ei=["Sqrt",5],Di=["Sqrt",6],Ai=new wi([[["Divide","Pi",12],{Sin:["Divide",["Subtract",Di,Si],4],Cos:["Divide",["Add",Di,Si],4],Tan:["Subtract",[2,Mi]],Cot:["Add",[2,Mi]],Sec:["Subtract",[Di,Si]],Csc:["Add",[Di,Si]]}],[["Divide","Pi",10],{Sin:["Divide",["Subtract",Ei,1],4],Cos:["Divide",["Sqrt",["Add",10,["Multiply",2,Ei]]],4],Tan:["Divide",["Sqrt",["Subtract",25,["Multiply",10,Ei]]],4],Cot:["Sqrt",["Add",5,["Multiply",2,Ei]]],Sec:["Divide",["Sqrt",["Subtract",50,["Multiply",10,Ei]]],5],Csc:["Add",1,Ei]}],[["Divide","Pi",4],{Sin:["Divide",Si,2],Cos:["Divide",Si,2],Tan:1,Cot:1,Sec:Si,Csc:Si}],[["Divide","Pi",3],{Sin:["Divide",Mi,2],Cos:"Half",Tan:Mi,Cot:["Divide",Mi,3],Sec:2,Csc:["Divide",["Multiply",2,Mi],3]}],[["Divide","Pi",2],{Sin:1,Cos:0,Tan:1/0,Cot:0,Sec:1/0,Csc:1}]]),Ci={Degrees:{domain:"Real",constant:!0,value:.017453292519943295},MinusDoublePi:{domain:"TranscendentalNumber",constant:!0,hold:!1,value:[B,-2,"Pi"]},MinusPi:{domain:"TranscendentalNumber",constant:!0,hold:!1,value:[U,"Pi"]},MinusHalfPi:{domain:"TranscendentalNumber",constant:!0,hold:!1,value:[j,[U,"Pi"],2]},QuarterPi:{domain:"TranscendentalNumber",constant:!0,hold:!1,value:[j,"Pi",4]},ThirdPi:{domain:"TranscendentalNumber",constant:!0,hold:!1,value:[j,"Pi",3]},HalfPi:{domain:"TranscendentalNumber",constant:!0,hold:!1,value:[j,"Pi",2]},TwoThirdPi:{domain:"TranscendentalNumber",constant:!0,hold:!1,value:[B,2,[j,"Pi",3]]},ThreeQuarterPi:{domain:"TranscendentalNumber",constant:!0,hold:!1,value:[B,3,[j,"Pi",4]]},Pi:{domain:"TranscendentalNumber",constant:!0,wikidata:"Q167",value:e=>"decimal"===e.numericFormat?m.exports.Decimal.acos(-1):"complex"===e.numericFormat?f.exports.Complex.PI:Math.PI},DoublePi:{domain:"TranscendentalNumber",constant:!0,hold:!1,value:[B,2,"Pi"]},Arccos:{domain:"TrigonometricFunction",range:["Interval",0,"Pi"],numeric:!0,value:["Subtract","HalfPi",["Arcsin","_"]],simplify:(e,i)=>{var n,t;return null!==(t=null===(n=Ai.get(i))||void 0===n?void 0:n.Arccos)&&void 0!==t?t:["Subtract","HalfPi",["Arcsin",i]]},evalNumber:(e,i)=>Math.acos(i),evalDecimal:(e,i)=>m.exports.Decimal.acos(i),evalComplex:(e,i)=>f.exports.Complex.acos(i)},Arcosh:{domain:"HyperbolicFunction",range:["Interval",0,1/0],numeric:!0,value:["Ln",["Add","_",["Sqrt",["Subtract",["Square","_"],1]]]],simplify:(e,i)=>{var n,t;return null!==(t=null===(n=Ai.get(i))||void 0===n?void 0:n.Arccosh)&&void 0!==t?t:["Ln",["Add",i,["Sqrt",["Subtract",["Square",i],1]]]]},evalNumber:(e,i)=>Math.acosh(i),evalDecimal:(e,i)=>m.exports.Decimal.acosh(i),evalComplex:(e,i)=>f.exports.Complex.acosh(i)},Arcsin:{domain:"TrigonometricFunction",range:["Interval","MinusHalfPi","HalfPi"],numeric:!0,simplify:(e,i)=>{var n,t;return null!==(t=null===(n=Ai.get(i))||void 0===n?void 0:n.Arcsin)&&void 0!==t?t:["Multiply",2,["Arctan2",i,["Add",1,["Sqrt",["Subtract",1,["Square",i]]]]]]},value:["Multiply",2,["Arctan2","_",["Add",1,["Sqrt",["Subtract",1,["Square","_"]]]]]],evalNumber:(e,i)=>Math.asin(i),evalDecimal:(e,i)=>m.exports.Decimal.asin(i),evalComplex:(e,i)=>f.exports.Complex.asin(i)},Arsinh:{domain:"HyperbolicFunction",range:["Interval",-1/0,1/0],numeric:!0,simplify:(e,i)=>{var n,t;return null!==(t=null===(n=Ai.get(i))||void 0===n?void 0:n.Arsinh)&&void 0!==t?t:["Ln",["Add",i,["Sqrt",["Add",["Square",i],1]]]]},value:["Ln",["Add","_",["Sqrt",["Add",["Square","_"],1]]]],evalNumber:(e,i)=>Math.asinh(i),evalDecimal:(e,i)=>m.exports.Decimal.asinh(i),evalComplex:(e,i)=>f.exports.Complex.asinh(i)},Arctan:{wikidata:"Q2257242",domain:"TrigonometricFunction",range:["Interval","MinusHalfPi","HalfPi"],numeric:!0,simplify:(e,i)=>{var n,t;return null!==(t=null===(n=Ai.get(i))||void 0===n?void 0:n.Arctan)&&void 0!==t?t:i},evalNumber:(e,i)=>Math.atan(i),evalDecimal:(e,i)=>m.exports.Decimal.atan(i),evalComplex:(e,i)=>f.exports.Complex.atan(i)},Arctan2:{wikidata:"Q776598",range:["Interval","MinusPi","Pi"],domain:"TrigonometricFunction",numeric:!0,evalNumber:(e,i,n)=>Math.atan2(i,n),evalDecimal:(e,i,n)=>m.exports.Decimal.atan2(i,n),evalComplex:(e,i,n)=>f.exports.Complex.atan2(i,n)},Artanh:{domain:"HyperbolicFunction",range:["Interval",-1/0,1/0],numeric:!0,simplify:(e,i)=>{var n,t;return null!==(t=null===(n=Ai.get(i))||void 0===n?void 0:n.Artanh)&&void 0!==t?t:["Multiply","Half",["Ln",["Divide",["Add",1,i],["Subtract",1,i]]]]},value:["Multiply","Half",["Ln",["Divide",["Add",1,"_"],["Subtract",1,"_"]]]],evalNumber:(e,i)=>Math.atanh(i),evalDecimal:(e,i)=>m.exports.Decimal.atanh(i),evalComplex:(e,i)=>f.exports.Complex.atanh(i)},Cosh:{domain:"HyperbolicFunction",range:["Interval",1,1/0],numeric:!0,simplify:(e,i)=>{var n,t;return null!==(t=null===(n=Ai.get(i))||void 0===n?void 0:n.Cosh)&&void 0!==t?t:i},value:["Multiply","Half",["Add",["Exp","_"],["Exp",["Negate","_"]]]],evalNumber:(e,i)=>Math.cosh(i),evalDecimal:(e,i)=>m.exports.Decimal.cosh(i),evalComplex:(e,i)=>f.exports.Complex.cosh(i)},Cos:{domain:"TrigonometricFunction",range:["Interval",-1,1],numeric:!0,simplify:(e,i)=>{var n,t;return null!==(t=null===(n=Ai.get(i))||void 0===n?void 0:n.Cos)&&void 0!==t?t:["Sin",["Add",i,"HalfPi"]]},value:["Sin",["Add","_","HalfPi"]],evalNumber:(e,i)=>Math.cos(i),evalDecimal:(e,i)=>m.exports.Decimal.cos(i),evalComplex:(e,i)=>f.exports.Complex.cos(i)},Cot:{domain:"TrigonometricFunction",range:"ComplexNumber",numeric:!0,simplify:(e,i)=>{var n,t;return null!==(t=null===(n=Ai.get(i))||void 0===n?void 0:n.Cot)&&void 0!==t?t:["Divide",["Cos",i],["Sin",i]]},value:["Divide",["Cos","_"],["Sin","_"]],evalNumber:(e,i)=>1/Math.tan(i),evalDecimal:(e,i)=>p.div(m.exports.Decimal.tan(i)),evalComplex:(e,i)=>f.exports.Complex.ONE.div(f.exports.Complex.tan(i))},Coth:{domain:"HyperbolicFunction",range:"ComplexNumber",numeric:!0,simplify:(e,i)=>{var n,t;return null!==(t=null===(n=Ai.get(i))||void 0===n?void 0:n.Coth)&&void 0!==t?t:["Divide",1,["Tanh",i]]},value:["Divide",1,["Tanh","_"]],evalNumber:(e,i)=>1/Math.tanh(i),evalDecimal:(e,i)=>p.div(m.exports.Decimal.tanh(i)),evalComplex:(e,i)=>f.exports.Complex.ONE.div(f.exports.Complex.tanh(i))},Csc:{domain:"TrigonometricFunction",range:["Interval",-1,1],numeric:!0,simplify:(e,i)=>{var n,t;return null!==(t=null===(n=Ai.get(i))||void 0===n?void 0:n.Csc)&&void 0!==t?t:["Divide",1,["Sin",i]]},value:["Divide",1,["Sin","_"]],evalNumber:(e,i)=>1/Math.tanh(i),evalDecimal:(e,i)=>p.div(m.exports.Decimal.tanh(i)),evalComplex:(e,i)=>f.exports.Complex.ONE.div(f.exports.Complex.tanh(i))},Csch:{domain:"HyperbolicFunction",range:["Interval",-1,1],numeric:!0,simplify:(e,i)=>{var n,t;return null!==(t=null===(n=Ai.get(i))||void 0===n?void 0:n.Csch)&&void 0!==t?t:["Divide",1,["Sinh",i]]},value:["Divide",1,["Sinh","_"]],evalNumber:(e,i)=>1/Math.sinh(i),evalDecimal:(e,i)=>p.div(m.exports.Decimal.sinh(i)),evalComplex:(e,i)=>f.exports.Complex.ONE.div(f.exports.Complex.sinh(i))},FromPolarCoordinates:{domain:"Function",range:["TupleOf","RealNumber","RealNumber"]},Haversine:{wikidata:"Q2528380",domain:"TrigonometricFunction",range:["Interval",0,1],value:["Divide",["Subtract",1,["Cos","_"]],2],numeric:!0},Hypot:{domain:"Function",range:["Interval",0,1/0],value:["Sqrt",["Square","_"],["Square","_2"]],evalNumber:(e,i,n)=>Math.sqrt(i*i*+n*n),evalDecimal:(e,i,n)=>m.exports.Decimal.sqrt(i.mul(i).add(n.mul(n))),evalComplex:(e,i,n)=>f.exports.Complex.sqrt(i.mul(i).add(n.mul(n)))},InverseFunction:{domain:"Function",range:"Function",simplify:(e,i)=>{var n,t;const r=null!==(n=Ne(i,1))&&void 0!==n?n:L;return"string"!=typeof r?i:null!==(t={Sin:"Arcsin",Cos:"Arccos",Tan:"Arctan",Sec:"Arcsec",Csc:" Arccsc",Sinh:"Arsinh",Cosh:"Arcosh",Tanh:"Artanh",Sech:"Arcsech",Csch:"Arcsch",Arcosh:"Cosh",Arcos:"Cos",Arccsc:"Csc",Arcsch:"Csch",Arcsec:"Sec",Arcsin:"Sin",Arsinh:"Sinh",Arctan:"Tan",Artanh:"Tanh"}[r])&&void 0!==t?t:i}},InverseHaversine:{domain:"TrigonometricFunction",range:["Interval",["MinusPi"],"Pi"],numeric:!0,value:["Multiply",2,["Arcsin",["Sqrt","_"]]]},Sec:{domain:"TrigonometricFunction",range:["Interval",-1,1],numeric:!0,simplify:(e,i)=>{var n,t;return null!==(t=null===(n=Ai.get(i))||void 0===n?void 0:n.Sec)&&void 0!==t?t:["Divide",1,["Cos",i]]},value:["Divide",1,["Cos","_"]],evalNumber:(e,i)=>1/Math.cos(i),evalDecimal:(e,i)=>p.div(m.exports.Decimal.cos(i)),evalComplex:(e,i)=>f.exports.Complex.ONE.div(f.exports.Complex.cos(i))},Sech:{domain:"HyperbolicFunction",range:["Interval",-1,1],numeric:!0,simplify:(e,i)=>{var n,t;return null!==(t=null===(n=Ai.get(i))||void 0===n?void 0:n.Sech)&&void 0!==t?t:["Divide",1,["Cosh",i]]},value:["Divide",1,["Cosh","_"]],evalNumber:(e,i)=>1/Math.cosh(i),evalDecimal:(e,i)=>p.div(m.exports.Decimal.cosh(i)),evalComplex:(e,i)=>f.exports.Complex.ONE.div(f.exports.Complex.cosh(i))},Sinh:{domain:"HyperbolicFunction",range:["Interval",-1/0,1/0],numeric:!0,simplify:(e,i)=>{var n,t;return null!==(t=null===(n=Ai.get(i))||void 0===n?void 0:n.Sinh)&&void 0!==t?t:["Multiply","Half",["Subtract",["Exp",i],["Exp",["Negate",i]]]]},value:["Multiply","Half",["Subtract",["Exp","_"],["Exp",["Negate","_"]]]]},Sin:{domain:"TrigonometricFunction",range:["Interval",-1,1],numeric:!0,simplify:(e,i)=>{var n,t;return null!==(t=null===(n=Ai.get(i))||void 0===n?void 0:n.Sin)&&void 0!==t?t:i},value:["Divide",["Subtract",["Exp",["Multiply","ImaginaryUnit","_"]],["Exp",["Multiply","ImaginaryUnit",["Negate","_"]]]],["Multiply",2,"ImaginaryUnit"]],evalNumber:(e,i)=>Math.sin(i),evalDecimal:(e,i)=>i.sin(),evalComplex:(e,i)=>i.sin()},Tanh:{domain:"HyperbolicFunction",range:["Interval",-1/0,1/0],numeric:!0,simplify:(e,i)=>{var n,t;return null!==(t=null===(n=Ai.get(i))||void 0===n?void 0:n.Tanh)&&void 0!==t?t:["Divide",["Sinh",i],["Cosh",i]]},value:["Divide",["Sinh","_"],["Cosh","_"]],evalNumber:(e,i)=>Math.tanh(i),evalDecimal:(e,i)=>i.tanh(),evalComplex:(e,i)=>i.tanh()},Tan:{domain:"TrigonometricFunction",range:"RealNumber",numeric:!0,simplify:(e,i)=>{var n,t;return null!==(t=null===(n=Ai.get(i))||void 0===n?void 0:n.Tan)&&void 0!==t?t:["Divide",["Sin",i],["Cos",i]]},value:["Divide",["Sin","_"],["Cos","_"]],evalNumber:(e,i)=>Math.tan(i),evalDecimal:(e,i)=>i.tan(),evalComplex:(e,i)=>i.tan()},ToPolarCoordinates:{domain:"Function",range:["TupleOf","RealNumber","RealNumber"]}};function qi(e){return null!==e&&"object"==typeof e&&"supersets"in e}function Fi(e){return null!==e&&"object"==typeof e&&"constant"in e}function Ii(e){return null!==e&&"object"==typeof e&&"range"in e}function ki(e){return null!==e&&"object"==typeof e&&"countable"in e}function Pi(e,i){var n;const t=Ti(i);if(null!==t)return t;const r=ve(i);if(null!==r){const t=e.ask(["Element",i,"_domain"]);if(t.length>0)return 1===t.length?t[0].domain:"Anything";const o=e.getDefinition(r);return o&&"function"==typeof o.domain?null!==(n=o.domain(i))&&void 0!==n?n:"Anything":o&&o.domain?o.domain:o&&"value"in o&&o.value?"function"==typeof o.value?Pi(e,o.value(e)):Pi(e,o.value):"Anything"}const o=pe(i);if("string"==typeof o){const n=e.getFunctionDefinition(o);if(n){if("function"==typeof n.range)return n.range(e,...xe(i));if(void 0!==n.range)return n.range;if(void 0!==n.value)return Pi(e,n.value)}}return te(i)?"String":oe(i)?"Dictionary":null}function Ti(e){var i,n;if(void 0===e)return null;const t=se(e);if(null!==t&&!isNaN(t))return 0===t?"NumberZero":isFinite(t)?Number.isInteger(t)?A.has(t)?"PrimeNumber":t>=1&&t<7919?"CompositeNumber":t>0?"NaturalNumber":"Integer":t>0?["Interval",["Open",0],1/0]:"RealNumber":"SignedInfinity";if(e instanceof m.exports.Decimal)return e.isNaN()?"Number":e.isZero()?"NumberZero":e.isFinite()?e.isInteger()?e.abs().lessThan(Number.MAX_SAFE_INTEGER)?Ti(e.toNumber()):e.isPositive()?"NaturalNumber":"Integer":e.isPositive()?["Interval",["Open",0],1/0]:"RealNumber":"SignedInfinity";if(e instanceof f.exports.Complex){const i=e;return 0===i.im?Ti(i.re):0===i.re&&0!==i.im?"ImaginaryNumber":"ComplexNumber"}if("Complex"===de(e)){const t=null!==(i=se(Ne(e,1)))&&void 0!==i?i:NaN,r=null!==(n=se(Ne(e,2)))&&void 0!==n?n:NaN;return 0===r?Ti(t):0===t&&0!==r?"ImaginaryNumber":"ComplexNumber"}let[r,o]=me(e);if(null!==r&&null!==o){const e=C(r,o);if(r/=e,o/=e,!Number.isNaN(r)&&!Number.isNaN(o))return 0===r?"NumberZero":1!==o&&-1!==o?"RationalNumber":Ti(r)}const s=ve(e);if(null!==s){if("NaN"===s)return"Number";if("+Infinity"===s||"-Infinity"===s)return"SignedInfinity";if(s===X)return"ComplexInfinity";if(s===ee)return"ImaginaryNumber";if(["Quarter","Third","Half","TwoThird","ThreeQuarter"].includes(s))return"RationalNumber";if(["MinusDoublePi","MinusPi","QuarterPi","ThirdPi","HalfPi","TwoThirdPi","ThreeQuarterPi","Pi","DoublePi","ExponentialE"].includes(s))return"TranscendentalNumber";if(["MachineEpsilon","CatalanConstant","GoldenRatio","EulerGamma"].includes(s))return"RealNumber"}if(de(e)===G&&de(Ne(e,2))===j&&1===Ne(Ne(e,2),1)&&2===Ne(Ne(e,2),2)){const i=se(Ne(e,1));if(null!==i&&A.has(i))return"IrrationalNumber"}return"RealNumber"}function Oi(e="all"){if("all"===e)return Oi(["domains","core","collections","algebra","arithmetic","calculus","complex","combinatorics","dimensions","inequalities","intervals","linear-algebra","logic","numeric","other","physics","polynomials","relations","statistics","transcendentals","trigonometry","rounding","units"]);const i=[];for(const n of e)zi[n]&&i.push(zi[n]);return i}const zi={arithmetic:_e,algebra:{},calculus:{},combinatorics:{},complex:{},core:{Apply:{domain:"Function",range:"Anything"},About:{domain:"Function",range:"Dictionary"},BaseForm:{domain:"Function",range:"Integer"},Block:{domain:"Function",range:"Anything"},Domain:{domain:"ParametricDomain",range:"Domain"},Evaluate:{domain:"Function",range:"Anything"},Parentheses:{domain:"Function",threadable:!0,pure:!1,range:"Anything"},Head:{domain:"Function",range:"Anything"},Lambda:{domain:"Function",wikidata:"Q567612",hold:"all",range:"Anything"},Latex:{domain:"Function",range:"String"},String:{domain:"Function",threadable:!0,range:"String"},Symbol:{domain:"Function",threadable:!0,range:"Symbol"},Tail:{domain:"Function",range:"List"}},collections:{EmptySet:{domain:"EmptySet",constant:!0,wikidata:"Q226183"},CartesianProduct:{domain:"Function",wikidata:"Q173740",range:"Set",evaluate:function(e,i,n){return"EmptySet"}},Intersection:{domain:"Function",wikidata:"Q185837",threadable:!0,associative:!0,commutative:!0,idempotent:!0,involution:!0,range:"Set",evaluate:function(e,...i){return"EmptySet"}},Complement:{domain:"Function",wikidata:"Q242767",range:"Set"},Union:{domain:"Function",wikidata:"Q185359",threadable:!0,associative:!0,commutative:!0,idempotent:!0,involution:!0,range:"Set",evaluate:function(e,...i){return"EmptySet"}},SymmetricDifference:{domain:"Function",wikidata:"Q1147242",range:"Set"},Subset:{domain:"Predicate",range:"MaybeBoolean",evaluate:function(e,i,n){return"False"}},SubsetEqual:{domain:"Predicate",range:"MaybeBoolean",evaluate:function(e,i,n){return"False"}},SetMinus:{domain:"Function",wikidata:"Q18192442",range:"MaybeBoolean",evaluate:function(e,i,n){return"EmptySet"}}},domains:function(){var e;const i={Nothing:{countable:!0,supersets:[],domain:"Domain"}};for(const n of Object.keys(fi)){const t=Array.isArray(fi[n])?fi[n]:[fi[n]];i[n]=null!==(e=di[n])&&void 0!==e?e:{},i[n]={domain:di[n]?"ParametricDomain":"Domain",wikidata:hi[n],supersets:t,value:pi,countable:void 0!==gi[n],size:()=>gi[n],...i[n]};for(const e of t)if("Anything"!==e&&!fi[e])throw new Error(`Unknown parent of domain "${n}": "${e}"`)}const n=new Set;for(const e of Object.keys(i))n.add(e);for(const e of Object.keys(i))for(const t of i[e].supersets)n.delete(t);n.delete("Nothing"),i.Nothing.supersets=[...n.values()];for(const e of Object.keys(i)){let n=!1,t=0,r=[e];for(;t<512&&!n;){const e=r.pop();n="Anything"===e,n||(r=[...e,...i[e].supersets]),t++}if(!n)throw new Error(`The "${e}" domain cannot reach "Anything"`)}return i}(),dimensions:{},logic:{True:{domain:"Boolean",constant:!0},False:{domain:"Boolean",constant:!0},Maybe:{domain:"MaybeBoolean",constant:!0},And:{domain:"LogicalFunction",threadable:!0,associative:!0,commutative:!0,idempotent:!0,range:"MaybeBoolean"},Or:{domain:"LogicalFunction",threadable:!0,associative:!0,commutative:!0,idempotent:!0,range:"MaybeBoolean"},Not:{domain:"LogicalFunction",involution:!0,range:"MaybeBoolean"},Equivalent:{domain:"LogicalFunction",range:"MaybeBoolean"},Implies:{domain:"LogicalFunction",range:"MaybeBoolean"},Exists:{domain:"LogicalFunction",range:"MaybeBoolean"},Equal:{domain:"LogicalFunction",range:"MaybeBoolean"},NotEqual:{domain:"Function",wikidata:"Q28113351",commutative:!0,range:"MaybeBoolean"}},inequalities:{},intervals:{},"linear-algebra":{},numeric:{},other:{},polynomials:{},physics:{"Mu-0":{constant:!0,wikidata:"Q1515261",domain:"RealNumber",value:125663706212e-17,unit:[B,"H",[G,"m",-1]]}},relations:{},rounding:{},statistics:{},transcendentals:{},trigonometry:Ci,units:{}};function Li(e,i){const n=new Map;for(const t of Object.keys(e)){const[r,o]=_i(e[t],i);o&&i.signal({severity:r?"warning":"error",message:["invalid-dictionary-entry",o],head:t}),r&&n.set(t,r)}return i.context={parentScope:i.context,dictionary:n,assumptions:new wi},function(e,i){const n=new Set;for(const[t,r]of i){if(/[A-Za-z][A-Za-z0-9-]*/.test(t)||1===t.length||e.signal({severity:"error",message:"invalid-name",head:t}),r.wikidata&&(n.has(r.wikidata)&&e.signal({severity:"warning",message:["duplicate-wikidata",r.wikidata],head:t}),n.add(r.wikidata)),Fi(r)&&("function"==typeof r.domain||e.isSubsetOf(r.domain,"Anything")||e.signal({severity:"warning",message:["unknown-domain",r.domain],head:t}),!1!==r.hold||r.value||e.signal({severity:"warning",message:["invalid-dictionary-entry","symbol has hold = false, but no value"],head:t})),Ii(r)){const i=r.range;"function"==typeof i||e.isSubsetOf(i,"Anything")||e.signal({severity:"warning",message:["unknown-domain",i],head:t})}if(qi(r)){0===r.supersets.length&&"Anything"!==t&&e.signal({severity:"warning",message:"expected-supersets",head:t});for(const n of r.supersets)e.isSubsetOf(n,"Anything")||e.signal({severity:"warning",message:["expected-supersets",n],head:t}),e.isSubsetOf(n,t)&&(e.signal({severity:"warning",message:["cyclic-definition",Ri(e,t)],head:t}),i.delete(t))}}}(i,n),i.context=i.context.parentScope,n}function _i(e,i){if("number"==typeof e)return[{domain:Ti(e),constant:!1,value:e}];let n=e.domain;if(Fi(e)){let i;return n||(i="no domain provided.",n="Anything"),!1!==(e={domain:n,constant:!1,...e}).hold||e.value||(e.hold=!0),[e,i]}if(ki(e)||"function"!=typeof n&&i.isSubsetOf(n,"Collection"))return[{domain:"Collection",iterable:void 0!==e.iterator,indexable:void 0!==e.at,countable:void 0!==e.size,...e},void 0];if(Ii(e)||"function"!=typeof n&&i.isSubsetOf(n,"Function")){let i,t={...e};return t={wikidata:"",scope:null,threadable:!1,associative:!1,commutative:!1,additive:!1,multiplicative:!1,outtative:!1,idempotent:!1,involution:!1,numeric:!1,pure:!0,hold:"none",sequenceHold:!1,signatures:[],...e},t.range?"LogicalFunction"===n||"Predicate"===n?"Boolean"!==t.range&&"MaybeBoolean"!==t.range&&(i='A "LogicalFunction" or a "Predicate" should have a range of "Boolean" or "MaybeBoolean"'):"Boolean"!==t.range&&"MaybeBoolean"!==t.range||(i='looks like a "LogicalFunction" or a "Predicate"?'):i="no function range provided.",[t,i]}if(qi(e)||"function"!=typeof n&&i.isSubsetOf(n,"Function"))return[e];if(e){const t=e;if(n&&"function"!=typeof n&&i.isSubsetOf(n,"Number")){if(void 0===t.value)return[null,'expected "value" property in definition'];const r=Ti("function"==typeof t.value?t.value(i):t.value);return[{domain:r,constant:!1,...e},r!==n?'inferred domain "${inferredDomain}"':""]}if(n&&"function"!=typeof n&&i.isSubsetOf(n,"Function"))return[{range:"Anything",...e},'a "Function" should have a "range" property in its definition'];if(n&&"function"!=typeof n&&i.isSubsetOf(n,"Set"))return[e,'a "Set" should have a "supersets" property in its definition']}return[e,"could not be validate"]}function Ri(e,i,n){var t;const r=[`${i}`],o="string"==typeof i?i:de(i);if(n){if(n.includes(o))return`${o} ↩︎ `;n.push(o)}else n=[o];const s=e.getSetDefinition(o);if(!s)return`${o}?!`;if(!s.supersets.length||0===s.supersets.length)return"";for(const i of null==s?void 0:s.supersets)"string"==typeof i&&r.push(Ri(e,i,[...n]));return r.length<=1?null!==(t=r[0])&&void 0!==t?t:"":"["+r.join(" ➔ ")+"]"}const Zi={"simplify-arithmetic":[["x - x",0],[["Subtract","_x",0],"x"],[["Subtract",0,"_x"],"-x"],[["Add","_x",["Negate","_x"]],0],["x \\times x ","x^2"],[["Divide","_x",1],{sym:"_x"}],[["Divide","_x","_x"],1,(e,i)=>{var n;return null!==(n=ke(e,i.x))&&void 0!==n&&n}],[["Divide","_x",0],1/0,(e,i)=>{var n;return null!==(n=Te(e,i.x))&&void 0!==n&&n}],[["Divide","_x",0],-1/0,(e,i)=>{var n;return null!==(n=Oe(e,i.x))&&void 0!==n&&n}],[["Divide",0,0],NaN],[["Power","_x","Half"],["\\sqrt{x}"]],[["Power","_x",["Divide",1,2]],["\\sqrt{x}"]],[["Power","_x",2],["Square","_x"]],[["Divide",["Complex","_re","_im"],"_x"],["Add",["Divide",["Complex",0,"_im"],"_x"],["Divide","_re","_x"]],(e,i)=>{var n,t,r;return null!==(n=e.isNotZero(i.re))&&void 0!==n&&n&&null!==(t=e.isInteger(i.re))&&void 0!==t&&t&&null!==(r=e.isInteger(i.im))&&void 0!==r&&r}],[["Abs","_x"],{sym:"_x"},(e,i)=>{var n,t;return null!==(n=Ie(e,i.x))&&void 0!==n&&n||null!==(t=Te(e,i.x))&&void 0!==t&&t}],[["Abs","_x"],["Negate","_x"],(e,i)=>{var n;return null!==(n=Oe(e,i.x))&&void 0!==n&&n}]]};function Qi(e,i,n){var t,r,o,s,a;if(null===i)return null;if(1===(n=null!=n?n:["simplify-all"]).length&&"simplify-all"===n[0]&&(n=["simplify-arithmetic"]),i=e.replace(e.getRules(n),i),i=null!==(t=function(e,i){var n;const t=e.getSymbolDefinition(null!==(n=ve(i))&&void 0!==n?n:"");if(t&&!1===t.hold&&t.value)return"function"==typeof t.value?Qi(e,t.value(e)):Qi(e,t.value);const[r,o]=function([e,i]){if(null===e||null===i)return[null,null];const n=C(e,i);return i<0?[-e/n,-i/n]:[e/n,i/n]}(me(i));if(null!==r&&null!==o)return 1===o?r:0===r&&isFinite(o)?0:Object.is(o,-0)&&isFinite(r)?-1/0:0===o&&isFinite(r)?1/0:["Divide",r,o];const s=ae(i);if(null!==s)return 0===s.im?s.re:["Complex",s.re,s.im];if("Complex"===de(i)){const e=Ne(i,1),n=Ne(i,2),t=se(n);if(0===t)return e;const r=se(e);return 0===r?["Multiply",n,"ImaginaryUnit"]:["Add",null!=r?r:e,["Multiply",null!=t?t:n,"ImaginaryUnit"]]}return i}(e,i))&&void 0!==t?t:i,!0===e.is(i))return"True";if(ge(i))return i;if(null!==Se(i))return ye(i,(i=>{var t;return null!==(t=e.simplify(i,{simplifications:n}))&&void 0!==t?t:i}));const l=Qi(e,null!==(r=pe(i))&&void 0!==r?r:L,n);if("string"==typeof l){const t=e.getFunctionDefinition(l);if(t){const r=[],u=xe(i);for(let i=0;i<u.length;i++){const l=de(u[i]);"Evaluate"===l?r.push(null!==(o=e.simplify(u[i],{simplifications:n}))&&void 0!==o?o:u[i]):"Hold"===l?r.push(null!==(s=Ne(u[i],1))&&void 0!==s?s:L):0===i&&"first"===t.hold||i>0&&"rest"===t.hold||"all"===t.hold?r.push(u[i]):r.push(null!==(a=e.simplify(u[i],{simplifications:n}))&&void 0!==a?a:u[i])}return"function"==typeof t.simplify?t.simplify(e,...r):[l,...r]}}return null!==l?[l,...xe(i)]:i}function Hi(e,i){var n,t;const r=Bi(e),o=Bi(i);if(r<o)return-1;if(r>o)return 1;let s=Gi(e);isNaN(s)&&(s=Number(1/0));let a=Gi(i);if(isNaN(a)&&(a=Number(1/0)),s<a)return-1;if(s>a)return 1;const l=Ui(e),u=Ui(i);if(l===u&&l>0)for(let r=1;r<=l;r++){const o=Hi(null!==(n=Ne(e,r))&&void 0!==n?n:L,null!==(t=Ne(i,r))&&void 0!==t?t:L);if(0!==o)return o}return u-l}function ji(e,i){var n,t;if(0===e)return-1/0;const r=de(e);if(r===G){const i=null!==(n=se(Ne(e,2)))&&void 0!==n?n:NaN;return isFinite(i)?i:0}if(r===B){let n=0;return xe(e).forEach((e=>{n+=ji(e,i)})),n}return i.includes(null!==(t=ve(e))&&void 0!==t?t:L)?1:0}function $i(e,i){var n,t;const r=de(e);if(r===G){if(ve(null!==(n=Ne(e,1))&&void 0!==n?n:L)===i){const i=null!==(t=se(Ne(e,2)))&&void 0!==t?t:NaN;if(isFinite(i))return i}return 0}if(r===B){let n=0;for(const t of xe(e))n+=$i(t,i);return n}return ve(e)===i?1:0}function Bi(e){return"string"==typeof e?e:ne(e)?e.sym:pe(e)?xe(e).map(Bi).join(" "):""}function Ui(e){if(pe(e)){const i=xe(e);return i.map(Ui).reduce(((e,i)=>e+i),i.length)}return 0}function Gi(e){var i;return pe(e)?NaN:"number"==typeof e?e:ie(e)?null!==(i=se(e))&&void 0!==i?i:NaN:0}function Wi(e,i,n){var t,r;let o=xe(n);if(0===o.length)return n;o=o.map((n=>Wi(e,i,n)));const s=de(n);if(s===Q)o.sort(((e,n)=>function(e,i,n){const t=ji(e,n),r=ji(i,n);if(t<r)return 1;if(t>r)return-1;for(const t of n){const n=$i(e,t),r=$i(i,t);if(n!==r)return r-n}const o=Bi(e),s=Bi(i);return o>s?-1:o<s?1:Hi(e,i)}(e,n,i)));else{const i=e.getFunctionDefinition(s);null!==(t=null==i?void 0:i.commutative)&&void 0!==t&&t&&o.sort(Hi)}return[null!==(r=pe(n))&&void 0!==r?r:L,...o]}function Vi(e){if(ge(e=Ze(e)))return[j,1,e];const i=pe(e);return i===G&&2===we(e)?[G,Ne(e,1),Re(Ne(e,2))]:i===j&&2===we(e)?[j,Ne(e,2),Ne(e,1)]:[j,1,e]}function Yi(e,i){if(ge(e))return e;if(de(e)!==i)return ye(e,(e=>Yi(e,i)));const n=xe(e);let t=[i];for(let e=0;e<n.length;e++)de(n[e])===i?t=t.concat(xe(Yi(n[e],i))):t.push(Yi(n[e],i));return t}function Ji(e,i){if(ge(e))return e;const n=de(e),t=i.getFunctionDefinition(n);if(null==t?void 0:t.involution){const i=xe(e);if(1===i.length&&de(i[0])===n)return Yi(i[0],n)}return ye(e,(e=>Ji(e,i)))}function Xi(e,i){if(ge(e))return e;const n=de(e),t=i.getFunctionDefinition(n);return(null==t?void 0:t.idempotent)?Yi(e,n):ye(e,(e=>Xi(e,i)))}function Ki(e,i){if(ge(e))return e;const n=de(e),t=i.getFunctionDefinition(n);return(null==t?void 0:t.associative)?Yi(e,n):ye(e,(e=>Ki(e,i)))}function en(e,i){if(ge(e))return e;if(pe(e)!==Q)return ye(e,(e=>en(e)));let n=xe(e=Yi(Ze(e),Q));n=n.map((e=>en(e))).filter((e=>0!==se(e)));const t=n.length;return 0===t?0:1===t?n[0]:[Q,...n]}function nn(e,i){if(ge(e))return e;if(pe(e)!==j)return ye(e,(e=>nn(e)));if(2!==we(e))return e;const n=nn(Ne(e,1)),t=nn(Ne(e,2));return 1===se(t)?n:1===se(n)?Vi(t):-1===se(n)?[U,Vi(t)]:[j,n,t]}function tn(e,i){return ge(e)?e:de(e)===G&&ve(Ne(e,1))===K?["Exp",tn(Ne(e,2))]:ye(e,(e=>tn(e)))}function rn(e,i){var n;if(ge(e))return e;const t=de(e);if(t!==z&&t!==R&&t!==Z)return ye(e,(e=>rn(e,i)));const r=xe(e);let o=[pe(e)];if(t===z){for(let e of r)if(e=rn(e,i),de(e)===T){const i=Ne(e,1);null!==i&&o.push(i)}else o.push(e);return o}const s=i.getFunctionDefinition(t),a=null!==(n=null==s?void 0:s.sequenceHold)&&void 0!==n&&n;for(let e of r){e=rn(e,i);const n=de(e);if(n===T){const i=Ne(e,1);null!==i&&o.push(i)}else if(n!==t||a)o.push(e);else for(let n of xe(e))n=rn(n,i),de(n)===t?o=o.concat(xe(n)):o.push(n)}return o}function on(e){var i,n;const t=de(e);if(t===Y)return 2;if(t===V)return null!==(i=se(Ne(e,2)))&&void 0!==i?i:2;if(t!==G)return 1;const r=Ne(e,2);if(null===r)return 1;if(de(r)===G&&-1===se(Ne(r,2))){const e=null!==(n=se(Ne(r,1)))&&void 0!==n?n:NaN;if(isFinite(e))return e}return 1}function sn(e,i){var n;if(ge(e))return e;if(pe(e)!==B)return ye(e,(e=>sn(e)));e=Yi(Ze(e),B);const[t,r]=function(e){var i;const n=xe(e),t=[],r=[];for(const e of n)2===on(e)?t.push(null!==(i=Ne(e,1))&&void 0!==i?i:L):r.push(e);return[t,r]}(e);let o;o=0===t.length?r:1===t.length?[...r,[Y,t[0]]]:[...r,[Y,[B,...t]]];let s=!1,a=!1;if(o=o.map((e=>{var i,n;if(de(e)===U)return a=!0,s=!s,null!==(i=Ne(e,1))&&void 0!==i?i:L;const t=null!==(n=se(e))&&void 0!==n?n:NaN;return t<0?(a=!0,s=!s,-t):e})),s){const e=null!==(n=se(o[0]))&&void 0!==n?n:NaN;o=isFinite(e)?xe(Yi([B,-e,...o.slice(1)],B)):xe(Yi([B,-1,...o],B))}else o=xe(Yi([B,...o],B));return o=o.filter((e=>1!==se(e))),0===o.length?1:1===o.length?o[0]:[B,...o]}function an(e,i){return ge(e)?e:de(e=ye(e,(e=>an(e,i))))===G?Qe(i,e):e}function ln(e,i){var n;return ge(e)?e:pe(e)!==U?ye(e,(e=>ln(e))):Re(null!==(n=Ne(Ze(e),1))&&void 0!==n?n:L)}function un(e,i){return e}function cn(e,i){return He(e)}function mn(e,i){if(!ge(e))return ye(e,(e=>cn(e)));const[n,t]=me(e);return null===n||null===t?e:1===t?n:-1===t?-n:t<0?["Divide",Re(n),Re(t)]:["Divide",n,t]}function fn(e,i){if("number"==typeof e){if(isNaN(e))return{num:"NaN"};if(!isFinite(e)&&e>0)return{num:"+Infinity"};if(!isFinite(e)&&e<0)return{num:"-Infinity"}}else{if(e instanceof m.exports.Decimal)return{num:e.toString()+"d"};if(ie(e))return/([+-]Infinity|NaN)/.test(e.num)||/[+-]?\d*\.?\d*([eE][+-]?\d+)?[dn]?/.test(e.num)?e:{num:"NaN"}}if("ImaginaryUnit"===e)return e;const n=ae(e);if(null!==n){if(0===i.chop(n.im)&&0===i.chop(n.re))return 0;if(0===i.chop(n.im))return n.re;let e=null;return e=0===i.chop(n.im+1)?["Negate","ImaginaryUnit"]:0===i.chop(n.im-1)?"ImaginaryUnit":["Multiply",n.im,"ImaginaryUnit"],0===i.chop(n.re)?e:["Add",n.re,e]}return ge(e)?e:ye(e,(e=>fn(e,i)))}function hn(e,i){if(ge(e))return e;if(pe(e)!==J)return ye(e,(e=>hn(e)));if(2!==we(e))return e;const n=hn(Ne(e,1)),t=se(n),r=hn(Ne(e,2)),o=se(r);return 0===t?0===o?0:Re(r):[Q,n,Re(r)]}function pn(e,i){if(ge(e))return e;const n=pe(e);if(we(e)<2&&n!==V&&n!==G)return ye(e,(e=>pn(e)));const t=pn(Ne(e,2)),r=pn(Ne(e,1));if(n===V)return 2===se(t)?[Y,r]:[V,r,t];if(n===G){const[e,i]=me(t);if(-1===e)return 2===i?[Y,r]:[V,r,i];if(1===i)return[G,r,e];if(null!==e&&null!==i)return[G,r,[j,e,i]]}return e}function gn(e){if("string"==typeof e){const i=Number(e);if("+"===e[0]&&(e=e.slice(1)),i.toString()===e)return isNaN(i)||!isFinite(i)?i.toString():i}return e}function dn(e,i){if(null===e)return null;if(Array.isArray(e))return e.map(((e,i)=>{var n;return 0===i?e:null!==(n=dn(e))&&void 0!==n?n:_}));if("object"==typeof e)if(1===Object.keys(e).length){if(ie(e)){const i=gn(e.num);return"number"==typeof i?i:{num:i}}if(re(e))return e.fn.map((e=>{var i;return null!==(i=dn(e))&&void 0!==i?i:_}));if(ne(e))return e.sym}else re(e)&&(e.fn=e.fn.map((e=>{var i;return null!==(i=dn(e))&&void 0!==i?i:_})));return e}function vn(e,i){if(null===e)return null;if("number"==typeof e||"string"==typeof e)return e;if(Array.isArray(e))return e.map((e=>{var i;return null!==(i=vn(e))&&void 0!==i?i:_}));if("object"==typeof e){if("num"in e){const i=gn(e.num);return"number"==typeof i?i:{num:i}}if("fn"in e)return e.fn.map((e=>{var i;return null!==(i=vn(e))&&void 0!==i?i:_}));if("dict"in e)return{dict:Object.fromEntries(Object.entries(e.dict).map((e=>{var i;return[e[0],null!==(i=vn(e[1]))&&void 0!==i?i:_]})))}}return null}function xn(e,i){return"number"==typeof e?{num:e.toString()}:"string"==typeof e?{sym:e}:Array.isArray(e)&&e.length>0?{fn:e.map((e=>xn(e)))}:"object"==typeof e&&"fn"in e?{...e,fn:e.fn.map((e=>xn(e)))}:e}function yn(e,i){const n=i.getVars(e);return Wi(i,Array.from(n).sort(),e)}function bn(e,i){return i.format(e,["canonical-boolean","canonical-number","canonical-exp","canonical-root","canonical-subtract","canonical-divide","canonical-power","canonical-multiply","canonical-negate","canonical-add","flatten","canonical-list","canonical-domain","canonical-rational","canonical-constants","sorted","json"])}function Nn(e,i){return Ki(Xi(Ji(e,i),i),i)}function wn(e,i){return function(e,i){return i}(0,e)}function Sn(e,i){var n,t;const r=null!==(t=null!==(n=ae(i))&&void 0!==n?n:ue(i))&&void 0!==t?t:se(i);if(null!==r)return r;const o=ve(i);if(null!==o){const n=e.getSymbolDefinition(o);return n&&n.value?"function"==typeof n.value?Sn(e,n.value(e)):Sn(e,n.value):i}return null!==Se(i)?ye(i,(i=>{var n;return null!==(n=Sn(e,i))&&void 0!==n?n:i})):null!==pe(i)?function(e,i){var n,t,r,o,s;const a=pe(i);if("string"==typeof a){const l=e.getFunctionDefinition(a);if(l&&l.numeric){const t=[];let r=0,o=0,s=0;for(let a of xe(i))if("Evaluate"===de(a)&&(a=null!==(n=Ne(a,1))&&void 0!==n?n:L),"Hold"===de(a))t.push(a);else{const i=Sn(e,a);i instanceof m.exports.Decimal?(o+=1,t.push(i)):i instanceof f.exports.Complex?(s+=1,t.push(i)):"number"==typeof i?(r+=1,t.push(i)):t.push(null!=i?i:a)}let u=e.numericFormat;"auto"===u&&(u=s>0?"complex":o>0?"decimal":"machine"),("decimal"===u&&"function"!=typeof l.evalDecimal||"complex"===u&&"function"!=typeof l.evalComplex)&&(u="machine");const c=r+o+s;if(c===t.length){if("decimal"==u&&0===s)return l.evalDecimal(e,...t);if("complex"==u&&0===o)return l.evalComplex(e,...t);if("function"==typeof l.evalNumber&&r===c)return l.evalNumber(e,...t)}return"function"==typeof l.evaluate?l.evaluate(e,...t):[a,...t]}if(l){const n=[],u=xe(i);for(let i=0;i<u.length;i++){const a=de(u[i]);if("Hold"===a)n.push(null!==(t=Ne(u[i],1))&&void 0!==t?t:L);else if("Evaluate"===a){const t=null!==(r=Ne(u[i],1))&&void 0!==r?r:L;n.push(null!==(o=Sn(e,t))&&void 0!==o?o:t)}else 0===i&&"first"===l.hold||i>0&&"rest"===l.hold||"all"===l.hold?n.push(u[i]):n.push(null!==(s=Sn(e,u[i]))&&void 0!==s?s:u[i])}return"function"==typeof l.evaluate?l.evaluate(e,...n):[a,...n]}}const l={__:["Sequence",xe(i)]};let u=1;for(const e of xe(i))1===u&&(l._=e),l[`_${u}`]=e,u+=1;return Sn(e,bi(a,l))}(e,i):i}function Mn(e,i){var n,t,r,o,s,a;if(null===i)return null;const l=null!==(t=null!==(n=ue(i))&&void 0!==n?n:se(i))&&void 0!==t?t:ae(i);if(null!==l)return l;const u=ve(i);if(null!==u){const n=e.getSymbolDefinition(u);return n&&n.value?"function"==typeof n.value?n.value(e):n.value:i}if(null!==Se(i))return ye(i,(i=>{var n;return null!==(n=Mn(e,i))&&void 0!==n?n:i}));const c=pe(i);if(null!==c){if("string"==typeof c){const n=e.getFunctionDefinition(c);if(null===n)return i;const t=[],l=xe(i);for(let i=0;i<l.length;i++){const u=de(l[i]);if("Hold"===u)t.push(null!==(r=Ne(l[i],1))&&void 0!==r?r:L);else if("Evaluate"===u){const n=null!==(o=Ne(l[i],1))&&void 0!==o?o:L;t.push(null!==(s=Sn(e,n))&&void 0!==s?s:n)}else 0===i&&"first"===n.hold||i>0&&"rest"===n.hold||"all"===n.hold?t.push(l[i]):t.push(null!==(a=Mn(e,l[i]))&&void 0!==a?a:l[i])}return"function"==typeof n.evaluate?n.evaluate(e,...t):[c,...t]}const n={__:["Sequence",xe(i)]};let t=1;for(const e of xe(i))1===t&&(n._=e),n[`_${t}`]=e,t+=1;return Mn(e,bi(c,n))}return i}const En={x:"_x",y:"_y",z:"_z",a:"_a",b:"_b",c:"_c",m:"_m",n:"_n",i:"_i",j:"_j"};function Dn(e,i){const n=new Set;for(const[t,r,o]of i){const i="string"==typeof t?e.canonical(An(e.parse(t),En)):An(t,En),s="string"==typeof r?e.canonical(An(e.parse(r),En)):An(r,En);if("function"==typeof o||void 0===o)n.add([i,s,o]);else if("string"==typeof o){const t=e.parse(o);n.add([i,s,(e,i)=>{var n;return null!==(n=e.is(bi(t,i)))&&void 0!==n&&n}])}}return n}function An(e,i){for(const[n,t]of Object.entries(i))e=Cn(e,n,t);return e}function Cn(e,i,n){return ve(e)===i?n:de(e)===i?[n,xe(e)]:ge(e)?e:ye(e,(e=>Cn(e,i,n)))}function qn(e,[i,n,t],r){const o=yi(i,r);return null===o?null:"function"!=typeof t||t(e,o)?bi(n,o):null}class Fn{constructor(e){var i;const n=null!==(i=null==e?void 0:e.dictionaries)&&void 0!==i?i:Fn.getDictionaries();this.numericFormat="auto",this.tolerance=D;for(const e of n)this.context?this.pushScope(e):this.pushScope(e,{warn:e=>{for(const i of e)i.message},timeLimit:2,memoryLimit:1,recursionLimit:1024});this.pushScope({})}static getDictionaries(e="all"){return Oi(e)}get precision(){return this._precision}set precision(e){"machine"===e&&(e=Math.min(E,Math.floor(E))),e<=E&&(this._numericFormat="machine"),m.exports.Decimal.set({precision:e}),this._precision=e}get numericFormat(){return this._numericFormat}set numericFormat(e){"machine"===e||"complex"===e||"auto"===e?this._precision=Math.floor(E):"decimal"===e&&(this._precision=m.exports.Decimal.precision),this._numericFormat=e}get tolerance(){return this._tolerance}set tolerance(e){this._tolerance=Math.max(e,0)}*getRules(e){if(!this._rules){this._rules={};for(const e of Object.keys(Zi))this._rules[e]=Dn(this,Zi[e])}"string"==typeof e&&(e=[e]);for(const i of e)if(this._rules[i])for(const e of this._rules[i])yield e}get latexSyntax(){return this._latexSyntax||(this._latexSyntax=new si),this._latexSyntax}pushScope(e,i){this.context={...i,parentScope:this.context,dictionary:Li(e,this),assumptions:this.context?new wi(this.context.assumptions):new wi}}popScope(){var e;const i=null===(e=this.context)||void 0===e?void 0:e.parentScope;if(this.context.warnings){const e=[...this.context.warnings];this.context.warnings=[],this.context.warn&&this.context.warn(e)}i&&this.context.warnings&&this.context.warnings.length>0&&(i.warnings?i.warnings=[...i.warnings,...this.context.warnings]:i.warnings=[...this.context.warnings]),this.context=i}get assumptions(){return this.context.assumptions||(this.context.assumptions=new wi),this.context.assumptions}signal(e){}get timeLimit(){let e=this.context;for(;e;){if(void 0!==e.timeLimit)return e.timeLimit;e=e.parentScope}}get recursionLimit(){let e=this.context;for(;e;){if(void 0!==e.recursionLimit)return e.recursionLimit;e=e.parentScope}}get iterationLimit(){let e=this.context;for(;e;){if(void 0!==e.iterationLimit)return e.iterationLimit;e=e.parentScope}}shouldContinueExecution(){return void 0===this.deadline||this.deadline>=Date.now()}checkContinueExecution(){if(!this.shouldContinueExecution())throw new ai({message:"timeout"})}getFunctionDefinition(e){var i,n;let t,r=this.context;for(;r&&!t;)t=null===(i=r.dictionary)||void 0===i?void 0:i.get(e),void 0===t||Ii(t)||(t=void 0),void 0===t&&(r=r.parentScope);return t&&(t.scope=r),null!==(n=t)&&void 0!==n?n:null}getSymbolDefinition(e){var i;let n,t=this.context;for(;t&&!n;)n=null===(i=t.dictionary)||void 0===i?void 0:i.get(e),void 0===n||Fi(n)||(n=void 0),void 0===n&&(t=t.parentScope);return n?(n.scope=t,n):null}getSetDefinition(e){var i;let n,t=this.context;for(;t&&!n;)n=null===(i=t.dictionary)||void 0===i?void 0:i.get(e),void 0===n||qi(n)||(n=void 0),void 0===n&&(t=t.parentScope);return n?(n.scope=t,n):null}getCollectionDefinition(e){var i;let n,t=this.context;for(;t&&!n;)n=null===(i=t.dictionary)||void 0===i?void 0:i.get(e),void 0===n||ki(n)||(n=void 0),void 0===n&&(t=t.parentScope);return n?(n.scope=t,n):null}getDefinition(e){var i;let n,t=this.context;for(;t&&!n;)n=null===(i=t.dictionary)||void 0===i?void 0:i.get(e),void 0===n&&(t=t.parentScope);return n?(n.scope=t,n):null}canonical(e){return this.format(e)}format(e,i){return function(e,i,n){let t=i;for(const i of n){const n={canonical:bn,"canonical-add":en,"canonical-boolean":un,"canonical-constants":cn,"canonical-divide":nn,"canonical-domain":wn,"canonical-exp":tn,"canonical-list":rn,"canonical-multiply":sn,"canonical-power":an,"canonical-negate":ln,"canonical-number":fn,"canonical-rational":mn,"canonical-root":pn,"canonical-subtract":hn,json:dn,flatten:Nn,sorted:yn,"stripped-metadata":vn,"object-literal":xn}[i];if(!n)return null;t=n(t,e)}return t}(this,e,Array.isArray(i)?i:[null!=i?i:"canonical"])}evaluate(e,i){return async function(e,i,n){var t,r,o,s;const a=null!==(r=null!==(t=null==n?void 0:n.timeLimit)&&void 0!==t?t:e.timeLimit)&&void 0!==r?r:2;a&&isFinite(a)&&(e.deadline=Date.now()+1e3*a);const l=null!==(s=null!==(o=null==n?void 0:n.iterationLimit)&&void 0!==o?o:e.iterationLimit)&&void 0!==s?s:1024;let u=0,c=i,m=JSON.stringify(c);for(;u<l&&e.shouldContinueExecution();){if(c=Mn(e,c),null===c)return null;const i=JSON.stringify(c);if(m===i)return c;m=i,u+=1}return e.canonical(c)}(this,e,i)}simplify(e,i){return Qi(this,e,null==i?void 0:i.simplifications)}N(e,i){const n=this.precision,t=this.numericFormat;(null==i?void 0:i.precision)&&(this.precision=i.precision);let r=this.canonical(Qi(this,e));return null!==r&&(r=Sn(this,r)),null!==r&&(r=this.canonical(r)),this.precision=n,this.numericFormat=t,null!=r?r:e}is(e,i){let n=e;return i&&(n=["Element",e,i]),function(e,i){let n=!0;[i,n]=ci(i);const t=e.assumptions.get(i);if(void 0!==t)return t===n}(this,n)}ask(e){const i=[];for(const n in this.assumptions){const t=yi(e,n,{numericalTolerance:this._tolerance});null!==t&&i.push(t)}return i}assume(e,i){let n=e;return i&&(n=["Element",e,i]),mi(this,n)}replace(e,i){return function(e,i,n){let t=!1;for(;!t;){t=!0;for(const r of i){const i=qn(e,r,n);null!==i&&(t=!1,n=i)}}return n}(this,e,i)}domain(e){return Pi(this,e)}getVars(e){return ui(this,e)}chop(e){return"number"==typeof e?Math.abs(e)<=this._tolerance?0:e:e instanceof f.exports.Complex?Math.abs(e.re)<=this._tolerance&&Math.abs(e.im)<=this._tolerance?0:e:e instanceof m.exports.Decimal&&e.abs().lte(this._tolerance)?h:e}parse(e){return this.latexSyntax.parse(e)}serialize(e){return this.latexSyntax.serialize(e)}isZero(e){return Ie(this,e)}isNotZero(e){return ke(this,e)}isNumeric(e){return!1}isInfinity(e){return Pe(this,e)}isFinite(e){}isNonNegative(e){return function(e,i){const n=e.isZero(i);if(void 0!==n)return!0===n||e.isPositive(i)}(this,e)}isPositive(e){return Te(this,e)}isNegative(e){return Oe(this,e)}isNonPositive(e){return function(e,i){const n=Te(e,i);if(void 0!==n)return!n}(this,e)}isInteger(e){return function(e,i){const n=se(i);return null!==n&&Number.isInteger(n)}(0,e)}isRational(e){}isAlgebraic(e){}isReal(e){return ze(0,e)}isExtendedReal(e){}isComplex(e){}isOne(e){}isNegativeOne(e){}isElement(e,i){}isSubsetOf(e,i){return Le(this,e,i)}isEqual(e,i){}isLess(e,i){}isLessEqual(e,i){}isGreater(e,i){}isGreaterEqual(e,i){}}class In{constructor(e){this.internal=new Fn(e)}static getDictionaries(e="all"){return Fn.getDictionaries(e)}get precision(){return this.internal.precision}set precision(e){this.internal.precision=e}get numericFormat(){return this.internal.numericFormat}set numericFormat(e){this.internal.numericFormat=e}get tolerance(){return this.internal.tolerance}set tolerance(e){this.internal.tolerance=e}get context(){return this.internal.context}pushScope(e,i){this.internal.pushScope(e,i)}popScope(){this.internal.popScope()}get assumptions(){return this.internal.assumptions}shouldContinueExecution(){return this.internal.shouldContinueExecution()}checkContinueExecution(){this.internal.checkContinueExecution()}signal(e){this.internal.signal(e)}getFunctionDefinition(e){return this.internal.getFunctionDefinition(e)}getSymbolDefinition(e){return this.internal.getSymbolDefinition(e)}getSetDefinition(e){return this.internal.getSetDefinition(e)}getCollectionDefinition(e){return this.internal.getCollectionDefinition(e)}getDefinition(e){return this.internal.getDefinition(e)}getRules(e){return this.internal.getRules(e)}format(e,i){return this.internal.format(e,i)}canonical(e){return this.internal.format(e,["canonical"])}N(e){return this.internal.N(e)}simplify(e,i){var n,t,r,o;const s=null!==(t=null!==(n=null==i?void 0:i.timeLimit)&&void 0!==n?n:this.internal.timeLimit)&&void 0!==t?t:2;s&&isFinite(s)&&(this.internal.deadline=Date.now()+1e3*s);const a=null!==(o=null!==(r=null==i?void 0:i.iterationLimit)&&void 0!==r?r:this.internal.iterationLimit)&&void 0!==o?o:1024;let l=0,u=this.canonical(e),c=u;for(;l<a&&this.shouldContinueExecution();){if(u=this.internal.simplify(u,{simplifications:null==i?void 0:i.simplifications}),null===u)return c;if(Me(c,u))return this.canonical(u);c=u,l+=1}return null===u?null:this.canonical(u)}async evaluate(e,i){const n=this.internal.evaluate(e,i);return null===n?null:this.canonical(await n)}parse(e){return this.internal.parse(e)}serialize(e){return this.serialize(e)}domain(e){return this.internal.domain(e)}is(e,i){return this.internal.is(e,i)}ask(e){return this.internal.ask(e)}assume(e,i){return this.internal.assume(e,i)}replace(e,i){return this.internal.replace(e,i)}getVars(e){return this.internal.getVars(e)}chop(e){return this.internal.chop(e)}isZero(e){return this.internal.isZero(e)}isNotZero(e){return this.internal.isNotZero(e)}isNumeric(e){return this.internal.isNumeric(e)}isInfinity(e){return this.internal.isInfinity(e)}isFinite(e){return this.internal.isFinite(e)}isNonNegative(e){return this.internal.isNonNegative(e)}isPositive(e){return this.internal.isPositive(e)}isNegative(e){return this.internal.isNegative(e)}isNonPositive(e){return this.internal.isNonPositive(e)}isInteger(e){return this.internal.isInteger(e)}isRational(e){return this.internal.isRational(e)}isAlgebraic(e){return this.internal.isAlgebraic(e)}isReal(e){return this.internal.isReal(e)}isExtendedReal(e){return this.internal.isExtendedReal(e)}isComplex(e){return this.internal.isComplex(e)}isOne(e){return this.internal.isOne(e)}isNegativeOne(e){return this.internal.isNegativeOne(e)}isElement(e,i){return this.internal.isElement(e,i)}isSubsetOf(e,i){return this.internal.isSubsetOf(e,i)}isEqual(e,i){return this.internal.isEqual(e,i)}isLess(e,i){return this.internal.isLess(e,i)}isLessEqual(e,i){return this.internal.isLessEqual(e,i)}isGreater(e,i){return this.internal.isGreater(e,i)}isGreaterEqual(e,i){return this.internal.isGreaterEqual(e,i)}}let kn=null;e.ComputeEngine=In,e.LatexSyntax=si,e.evaluate=function(e){return null===kn&&(kn=new In),kn.evaluate(e)},e.format=function(e,i){return null===kn&&(kn=new In),kn.format(e,i)},e.match=yi,e.parse=function(e,i){return new si(i).parse(e)},e.serialize=function(e,i){return new si(i).serialize(e)},e.substitute=bi,e.version="0.4.2",Object.defineProperty(e,"__esModule",{value:!0})}));
